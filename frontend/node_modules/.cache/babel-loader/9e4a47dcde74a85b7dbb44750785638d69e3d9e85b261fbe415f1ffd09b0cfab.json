{"ast":null,"code":"import _objectSpread from\"C:/Users/ashu_/Documents/ecommerce-sim/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{FaEye,FaEdit,FaPhone}from'react-icons/fa';import axios from'axios';import'../../styles/AdminOrders.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminOrders=()=>{var _selectedOrder$user,_selectedOrder$user2;const[orders,setOrders]=useState([]);const[loading,setLoading]=useState(true);const[selectedOrder,setSelectedOrder]=useState(null);const[showDetailModal,setShowDetailModal]=useState(false);const[statusUpdate,setStatusUpdate]=useState({orderStatus:'',paymentStatus:''});const[error,setError]=useState(null);const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000/api';useEffect(()=>{loadOrders();},[]);const loadOrders=async()=>{try{setLoading(true);setError(null);// ‚úÖ OBTENER TOKEN DE AUTENTICACI√ìN\nconst token=localStorage.getItem('token');if(!token){setError('No est√°s autenticado. Por favor, inicia sesi√≥n.');setLoading(false);return;}console.log('üîÑ Cargando pedidos...');// ‚úÖ INCLUIR TOKEN EN LA PETICI√ìN\nconst response=await axios.get(\"\".concat(API_URL,\"/orders\"),{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});console.log('‚úÖ Pedidos cargados:',response.data);// Asegurarse de que response.data sea un array\nconst ordersData=Array.isArray(response.data)?response.data:[];setOrders(ordersData);}catch(error){var _error$response,_error$response2,_error$response3;console.error('‚ùå Error al cargar pedidos:',error);// Mensajes de error espec√≠ficos\nif(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){setError('No autorizado. Por favor, inicia sesi√≥n como administrador.');}else if(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status)===403){setError('No tienes permisos para ver los pedidos.');}else if(((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.status)===404){setError('Ruta de pedidos no encontrada. Verifica la configuraci√≥n del servidor.');}else{var _error$response4,_error$response4$data;setError(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||'Error al cargar los pedidos');}}finally{setLoading(false);}};const formatPrice=price=>{return new Intl.NumberFormat('es-ES',{style:'currency',currency:'EUR'}).format(price);};const formatDate=date=>{return new Date(date).toLocaleDateString('es-ES',{year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'});};const getStatusBadge=status=>{const statusMap={pendiente:'badge-warning',procesando:'badge-info',enviado:'badge-primary',entregado:'badge-success',cancelado:'badge-danger',pagado:'badge-success',fallido:'badge-danger'};return statusMap[status]||'badge-secondary';};const getStatusLabel=status=>{const labels={pendiente:'Pendiente',procesando:'Procesando',enviado:'Enviado',entregado:'Entregado',cancelado:'Cancelado',pagado:'Pagado',fallido:'Fallido'};return labels[status]||status;};const openDetailModal=order=>{console.log('üìã Abriendo detalle de orden:',order);setSelectedOrder(order);setStatusUpdate({orderStatus:order.orderStatus,paymentStatus:order.paymentStatus});setShowDetailModal(true);};const closeDetailModal=()=>{setShowDetailModal(false);setSelectedOrder(null);};const handleStatusChange=e=>{setStatusUpdate(_objectSpread(_objectSpread({},statusUpdate),{},{[e.target.name]:e.target.value}));};const updateOrderStatus=async()=>{try{const token=localStorage.getItem('token');if(!token){alert('No est√°s autenticado');return;}console.log('üîÑ Actualizando estado del pedido:',selectedOrder._id);await axios.put(\"\".concat(API_URL,\"/orders/\").concat(selectedOrder._id,\"/status\"),statusUpdate,{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});console.log('‚úÖ Estado actualizado');alert('Estado del pedido actualizado correctamente');closeDetailModal();loadOrders();}catch(error){var _error$response5,_error$response5$data;console.error('‚ùå Error al actualizar estado:',error);alert(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.message)||'Error al actualizar el estado del pedido');}};// Estado de carga\nif(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"admin-orders\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-large\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Cargando pedidos...\"})]})});}// Estado de error\nif(error){return/*#__PURE__*/_jsx(\"div\",{className:\"admin-orders\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"error-icon\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Error al cargar pedidos\"}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:loadOrders,children:\"\\uD83D\\uDD04 Reintentar\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-orders\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Gesti\\xF3n de Pedidos\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"orders-stats\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"stat-item\",children:[\"Total: \",/*#__PURE__*/_jsx(\"strong\",{children:orders.length})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-item\",children:[\"Pendientes: \",/*#__PURE__*/_jsx(\"strong\",{children:orders.filter(o=>o.orderStatus==='pendiente').length})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-item\",children:[\"Procesando: \",/*#__PURE__*/_jsx(\"strong\",{children:orders.filter(o=>o.orderStatus==='procesando').length})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"stat-item\",children:[\"Pagados: \",/*#__PURE__*/_jsx(\"strong\",{children:orders.filter(o=>o.paymentStatus==='pagado').length})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:loadOrders,children:\"\\uD83D\\uDD04 Actualizar\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-responsive\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"admin-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID Pedido\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cliente\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fecha\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Estado Pago\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Estado Pedido\"}),/*#__PURE__*/_jsx(\"th\",{children:\"M\\xE9todo Pago\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(order=>{var _order$user,_order$user2;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"#\",order._id.slice(-8)]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"customer-cell\",children:[/*#__PURE__*/_jsx(\"strong\",{children:((_order$user=order.user)===null||_order$user===void 0?void 0:_order$user.name)||'Usuario'}),/*#__PURE__*/_jsx(\"small\",{children:((_order$user2=order.user)===null||_order$user2===void 0?void 0:_order$user2.email)||'Sin email'})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"phone-cell\",children:[/*#__PURE__*/_jsx(FaPhone,{className:\"phone-icon\"}),order.phone||'Sin tel√©fono']})}),/*#__PURE__*/_jsx(\"td\",{children:formatDate(order.createdAt)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:formatPrice(order.totalAmount)})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(getStatusBadge(order.paymentStatus)),children:getStatusLabel(order.paymentStatus)})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(getStatusBadge(order.orderStatus)),children:getStatusLabel(order.orderStatus)})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"payment-method\",children:[order.paymentMethod==='stripe'&&'üí≥',order.paymentMethod==='bizum'&&'üì±',order.paymentMethod==='transferencia'&&'üè¶',order.paymentMethod==='contrareembolso'&&'üíµ',' ',order.paymentMethod]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"action-buttons\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-icon btn-view\",onClick:()=>openDetailModal(order),title:\"Ver detalles\",children:/*#__PURE__*/_jsx(FaEye,{})})})})]},order._id);})})]}),orders.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"no-data\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCE6 No hay pedidos registrados\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:loadOrders,children:\"\\uD83D\\uDD04 Recargar\"})]})]}),showDetailModal&&selectedOrder&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:closeDetailModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content large\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Detalle del Pedido #\",selectedOrder._id.slice(-8)]}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:closeDetailModal,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-detail\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCCB Informaci\\xF3n del Cliente\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nombre:\"}),\" \",((_selectedOrder$user=selectedOrder.user)===null||_selectedOrder$user===void 0?void 0:_selectedOrder$user.name)||'No disponible']}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",((_selectedOrder$user2=selectedOrder.user)===null||_selectedOrder$user2===void 0?void 0:_selectedOrder$user2.email)||'No disponible']}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tel\\xE9fono:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"phone-highlight\",children:[/*#__PURE__*/_jsx(FaPhone,{}),\" \",selectedOrder.phone||'No proporcionado']})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Fecha:\"}),\" \",formatDate(selectedOrder.createdAt)]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"M\\xE9todo de pago:\"}),\" \",selectedOrder.paymentMethod]}),selectedOrder.stripePaymentIntentId&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID Stripe:\"}),/*#__PURE__*/_jsx(\"small\",{children:selectedOrder.stripePaymentIntentId})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCCD Direcci\\xF3n de Env\\xEDo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"address-box\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:selectedOrder.shippingAddress.street}),/*#__PURE__*/_jsx(\"br\",{}),selectedOrder.shippingAddress.city,\", \",selectedOrder.shippingAddress.postalCode,selectedOrder.shippingAddress.province&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),selectedOrder.shippingAddress.province]}),/*#__PURE__*/_jsx(\"br\",{}),selectedOrder.shippingAddress.country]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\uD83D\\uDCE6 Productos (\",selectedOrder.items.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"order-items\",children:selectedOrder.items.map((item,index)=>{var _item$product,_item$product$images,_item$product2,_item$product3;return/*#__PURE__*/_jsxs(\"div\",{className:\"order-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:((_item$product=item.product)===null||_item$product===void 0?void 0:(_item$product$images=_item$product.images)===null||_item$product$images===void 0?void 0:_item$product$images[0])||'https://via.placeholder.com/60',alt:((_item$product2=item.product)===null||_item$product2===void 0?void 0:_item$product2.name)||'Producto',onError:e=>{e.target.src='https://via.placeholder.com/60?text=Sin+Imagen';}}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-details\",children:[/*#__PURE__*/_jsx(\"strong\",{children:((_item$product3=item.product)===null||_item$product3===void 0?void 0:_item$product3.name)||'Producto no disponible'}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Cantidad: \",item.quantity]}),/*#__PURE__*/_jsxs(\"small\",{children:[\"Precio unitario: \",formatPrice(item.price)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item-price\",children:/*#__PURE__*/_jsx(\"strong\",{children:formatPrice(item.price*item.quantity)})})]},index);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-total\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total del Pedido:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"total-amount\",children:formatPrice(selectedOrder.totalAmount)})]})]}),selectedOrder.notes&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCDD Notas del Cliente\"}),/*#__PURE__*/_jsx(\"div\",{className:\"notes-box\",children:/*#__PURE__*/_jsx(\"p\",{children:selectedOrder.notes})})]}),selectedOrder.trackingNumber&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDE9A Seguimiento\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tracking-box\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"N\\xFAmero de seguimiento:\"}),\" \",selectedOrder.trackingNumber]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u2699\\uFE0F Actualizar Estado del Pedido\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"status-update-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Estado del Pedido\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"orderStatus\",value:statusUpdate.orderStatus,onChange:handleStatusChange,className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"pendiente\",children:\"Pendiente\"}),/*#__PURE__*/_jsx(\"option\",{value:\"procesando\",children:\"Procesando\"}),/*#__PURE__*/_jsx(\"option\",{value:\"enviado\",children:\"Enviado\"}),/*#__PURE__*/_jsx(\"option\",{value:\"entregado\",children:\"Entregado\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cancelado\",children:\"Cancelado\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Estado del Pago\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"paymentStatus\",value:statusUpdate.paymentStatus,onChange:handleStatusChange,className:\"form-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"pendiente\",children:\"Pendiente\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pagado\",children:\"Pagado\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fallido\",children:\"Fallido\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary btn-update\",onClick:updateOrderStatus,children:[/*#__PURE__*/_jsx(FaEdit,{}),\" Actualizar Estado\"]})]})]})]})]})})]});};export default AdminOrders;","map":{"version":3,"names":["React","useState","useEffect","FaEye","FaEdit","FaPhone","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminOrders","_selectedOrder$user","_selectedOrder$user2","orders","setOrders","loading","setLoading","selectedOrder","setSelectedOrder","showDetailModal","setShowDetailModal","statusUpdate","setStatusUpdate","orderStatus","paymentStatus","error","setError","API_URL","process","env","REACT_APP_API_URL","loadOrders","token","localStorage","getItem","console","log","response","get","concat","headers","data","ordersData","Array","isArray","_error$response","_error$response2","_error$response3","status","_error$response4","_error$response4$data","message","formatPrice","price","Intl","NumberFormat","style","currency","format","formatDate","date","Date","toLocaleDateString","year","month","day","hour","minute","getStatusBadge","statusMap","pendiente","procesando","enviado","entregado","cancelado","pagado","fallido","getStatusLabel","labels","openDetailModal","order","closeDetailModal","handleStatusChange","e","_objectSpread","target","name","value","updateOrderStatus","alert","_id","put","_error$response5","_error$response5$data","className","children","onClick","length","filter","o","map","_order$user","_order$user2","slice","user","email","phone","createdAt","totalAmount","paymentMethod","title","stopPropagation","stripePaymentIntentId","shippingAddress","street","city","postalCode","province","country","items","item","index","_item$product","_item$product$images","_item$product2","_item$product3","src","product","images","alt","onError","quantity","notes","trackingNumber","onChange"],"sources":["C:/Users/ashu_/Documents/ecommerce-sim/frontend/src/pages/admin/AdminOrders.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { FaEye, FaEdit, FaPhone } from 'react-icons/fa';\nimport axios from 'axios';\nimport '../../styles/AdminOrders.css';\n\nconst AdminOrders = () => {\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [statusUpdate, setStatusUpdate] = useState({\n    orderStatus: '',\n    paymentStatus: ''\n  });\n  const [error, setError] = useState(null);\n\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n  useEffect(() => {\n    loadOrders();\n  }, []);\n\n  const loadOrders = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      // ‚úÖ OBTENER TOKEN DE AUTENTICACI√ìN\n      const token = localStorage.getItem('token');\n      \n      if (!token) {\n        setError('No est√°s autenticado. Por favor, inicia sesi√≥n.');\n        setLoading(false);\n        return;\n      }\n\n      console.log('üîÑ Cargando pedidos...');\n\n      // ‚úÖ INCLUIR TOKEN EN LA PETICI√ìN\n      const response = await axios.get(`${API_URL}/orders`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      console.log('‚úÖ Pedidos cargados:', response.data);\n      \n      // Asegurarse de que response.data sea un array\n      const ordersData = Array.isArray(response.data) ? response.data : [];\n      setOrders(ordersData);\n      \n    } catch (error) {\n      console.error('‚ùå Error al cargar pedidos:', error);\n      \n      // Mensajes de error espec√≠ficos\n      if (error.response?.status === 401) {\n        setError('No autorizado. Por favor, inicia sesi√≥n como administrador.');\n      } else if (error.response?.status === 403) {\n        setError('No tienes permisos para ver los pedidos.');\n      } else if (error.response?.status === 404) {\n        setError('Ruta de pedidos no encontrada. Verifica la configuraci√≥n del servidor.');\n      } else {\n        setError(error.response?.data?.message || 'Error al cargar los pedidos');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('es-ES', {\n      style: 'currency',\n      currency: 'EUR'\n    }).format(price);\n  };\n\n  const formatDate = (date) => {\n    return new Date(date).toLocaleDateString('es-ES', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const getStatusBadge = (status) => {\n    const statusMap = {\n      pendiente: 'badge-warning',\n      procesando: 'badge-info',\n      enviado: 'badge-primary',\n      entregado: 'badge-success',\n      cancelado: 'badge-danger',\n      pagado: 'badge-success',\n      fallido: 'badge-danger'\n    };\n    return statusMap[status] || 'badge-secondary';\n  };\n\n  const getStatusLabel = (status) => {\n    const labels = {\n      pendiente: 'Pendiente',\n      procesando: 'Procesando',\n      enviado: 'Enviado',\n      entregado: 'Entregado',\n      cancelado: 'Cancelado',\n      pagado: 'Pagado',\n      fallido: 'Fallido'\n    };\n    return labels[status] || status;\n  };\n\n  const openDetailModal = (order) => {\n    console.log('üìã Abriendo detalle de orden:', order);\n    setSelectedOrder(order);\n    setStatusUpdate({\n      orderStatus: order.orderStatus,\n      paymentStatus: order.paymentStatus\n    });\n    setShowDetailModal(true);\n  };\n\n  const closeDetailModal = () => {\n    setShowDetailModal(false);\n    setSelectedOrder(null);\n  };\n\n  const handleStatusChange = (e) => {\n    setStatusUpdate({\n      ...statusUpdate,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const updateOrderStatus = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      \n      if (!token) {\n        alert('No est√°s autenticado');\n        return;\n      }\n\n      console.log('üîÑ Actualizando estado del pedido:', selectedOrder._id);\n\n      await axios.put(\n        `${API_URL}/orders/${selectedOrder._id}/status`, \n        statusUpdate,\n        {\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        }\n      );\n\n      console.log('‚úÖ Estado actualizado');\n      alert('Estado del pedido actualizado correctamente');\n      closeDetailModal();\n      loadOrders();\n    } catch (error) {\n      console.error('‚ùå Error al actualizar estado:', error);\n      alert(error.response?.data?.message || 'Error al actualizar el estado del pedido');\n    }\n  };\n\n  // Estado de carga\n  if (loading) {\n    return (\n      <div className=\"admin-orders\">\n        <div className=\"loading-container\">\n          <div className=\"spinner-large\"></div>\n          <p>Cargando pedidos...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Estado de error\n  if (error) {\n    return (\n      <div className=\"admin-orders\">\n        <div className=\"error-container\">\n          <div className=\"error-icon\">‚ö†Ô∏è</div>\n          <h3>Error al cargar pedidos</h3>\n          <p>{error}</p>\n          <button className=\"btn btn-primary\" onClick={loadOrders}>\n            üîÑ Reintentar\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"admin-orders\">\n      <div className=\"page-header\">\n        <h2>Gesti√≥n de Pedidos</h2>\n        <div className=\"orders-stats\">\n          <span className=\"stat-item\">\n            Total: <strong>{orders.length}</strong>\n          </span>\n          <span className=\"stat-item\">\n            Pendientes: <strong>{orders.filter(o => o.orderStatus === 'pendiente').length}</strong>\n          </span>\n          <span className=\"stat-item\">\n            Procesando: <strong>{orders.filter(o => o.orderStatus === 'procesando').length}</strong>\n          </span>\n          <span className=\"stat-item\">\n            Pagados: <strong>{orders.filter(o => o.paymentStatus === 'pagado').length}</strong>\n          </span>\n        </div>\n        <button className=\"btn btn-secondary\" onClick={loadOrders}>\n          üîÑ Actualizar\n        </button>\n      </div>\n\n      <div className=\"table-responsive\">\n        <table className=\"admin-table\">\n          <thead>\n            <tr>\n              <th>ID Pedido</th>\n              <th>Cliente</th>\n              <th>Tel√©fono</th>\n              <th>Fecha</th>\n              <th>Total</th>\n              <th>Estado Pago</th>\n              <th>Estado Pedido</th>\n              <th>M√©todo Pago</th>\n              <th>Acciones</th>\n            </tr>\n          </thead>\n          <tbody>\n            {orders.map(order => (\n              <tr key={order._id}>\n                <td>\n                  <strong>#{order._id.slice(-8)}</strong>\n                </td>\n                <td>\n                  <div className=\"customer-cell\">\n                    <strong>{order.user?.name || 'Usuario'}</strong>\n                    <small>{order.user?.email || 'Sin email'}</small>\n                  </div>\n                </td>\n                <td>\n                  <div className=\"phone-cell\">\n                    <FaPhone className=\"phone-icon\" />\n                    {order.phone || 'Sin tel√©fono'}\n                  </div>\n                </td>\n                <td>{formatDate(order.createdAt)}</td>\n                <td><strong>{formatPrice(order.totalAmount)}</strong></td>\n                <td>\n                  <span className={`badge ${getStatusBadge(order.paymentStatus)}`}>\n                    {getStatusLabel(order.paymentStatus)}\n                  </span>\n                </td>\n                <td>\n                  <span className={`badge ${getStatusBadge(order.orderStatus)}`}>\n                    {getStatusLabel(order.orderStatus)}\n                  </span>\n                </td>\n                <td>\n                  <span className=\"payment-method\">\n                    {order.paymentMethod === 'stripe' && 'üí≥'}\n                    {order.paymentMethod === 'bizum' && 'üì±'}\n                    {order.paymentMethod === 'transferencia' && 'üè¶'}\n                    {order.paymentMethod === 'contrareembolso' && 'üíµ'}\n                    {' '}\n                    {order.paymentMethod}\n                  </span>\n                </td>\n                <td>\n                  <div className=\"action-buttons\">\n                    <button \n                      className=\"btn-icon btn-view\"\n                      onClick={() => openDetailModal(order)}\n                      title=\"Ver detalles\"\n                    >\n                      <FaEye />\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n\n        {orders.length === 0 && (\n          <div className=\"no-data\">\n            <p>üì¶ No hay pedidos registrados</p>\n            <button className=\"btn btn-secondary\" onClick={loadOrders}>\n              üîÑ Recargar\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Modal de detalle del pedido */}\n      {showDetailModal && selectedOrder && (\n        <div className=\"modal-overlay\" onClick={closeDetailModal}>\n          <div className=\"modal-content large\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h3>Detalle del Pedido #{selectedOrder._id.slice(-8)}</h3>\n              <button className=\"modal-close\" onClick={closeDetailModal}>√ó</button>\n            </div>\n\n            <div className=\"order-detail\">\n              {/* Informaci√≥n del cliente */}\n              <div className=\"detail-section\">\n                <h4>üìã Informaci√≥n del Cliente</h4>\n                <div className=\"info-grid\">\n                  <div>\n                    <strong>Nombre:</strong> {selectedOrder.user?.name || 'No disponible'}\n                  </div>\n                  <div>\n                    <strong>Email:</strong> {selectedOrder.user?.email || 'No disponible'}\n                  </div>\n                  <div>\n                    <strong>Tel√©fono:</strong> \n                    <span className=\"phone-highlight\">\n                      <FaPhone /> {selectedOrder.phone || 'No proporcionado'}\n                    </span>\n                  </div>\n                  <div>\n                    <strong>Fecha:</strong> {formatDate(selectedOrder.createdAt)}\n                  </div>\n                  <div>\n                    <strong>M√©todo de pago:</strong> {selectedOrder.paymentMethod}\n                  </div>\n                  {selectedOrder.stripePaymentIntentId && (\n                    <div>\n                      <strong>ID Stripe:</strong> \n                      <small>{selectedOrder.stripePaymentIntentId}</small>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Direcci√≥n de env√≠o */}\n              <div className=\"detail-section\">\n                <h4>üìç Direcci√≥n de Env√≠o</h4>\n                <div className=\"address-box\">\n                  <p>\n                    <strong>{selectedOrder.shippingAddress.street}</strong><br />\n                    {selectedOrder.shippingAddress.city}, {selectedOrder.shippingAddress.postalCode}\n                    {selectedOrder.shippingAddress.province && (\n                      <><br />{selectedOrder.shippingAddress.province}</>\n                    )}\n                    <br />\n                    {selectedOrder.shippingAddress.country}\n                  </p>\n                </div>\n              </div>\n\n              {/* Productos */}\n              <div className=\"detail-section\">\n                <h4>üì¶ Productos ({selectedOrder.items.length})</h4>\n                <div className=\"order-items\">\n                  {selectedOrder.items.map((item, index) => (\n                    <div key={index} className=\"order-item\">\n                      <img \n                        src={item.product?.images?.[0] || 'https://via.placeholder.com/60'} \n                        alt={item.product?.name || 'Producto'}\n                        onError={(e) => {\n                          e.target.src = 'https://via.placeholder.com/60?text=Sin+Imagen';\n                        }}\n                      />\n                      <div className=\"item-details\">\n                        <strong>{item.product?.name || 'Producto no disponible'}</strong>\n                        <span>Cantidad: {item.quantity}</span>\n                        <small>Precio unitario: {formatPrice(item.price)}</small>\n                      </div>\n                      <div className=\"item-price\">\n                        <strong>{formatPrice(item.price * item.quantity)}</strong>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n\n                <div className=\"order-total\">\n                  <strong>Total del Pedido:</strong> \n                  <span className=\"total-amount\">{formatPrice(selectedOrder.totalAmount)}</span>\n                </div>\n              </div>\n\n              {/* Notas */}\n              {selectedOrder.notes && (\n                <div className=\"detail-section\">\n                  <h4>üìù Notas del Cliente</h4>\n                  <div className=\"notes-box\">\n                    <p>{selectedOrder.notes}</p>\n                  </div>\n                </div>\n              )}\n\n              {/* N√∫mero de seguimiento */}\n              {selectedOrder.trackingNumber && (\n                <div className=\"detail-section\">\n                  <h4>üöö Seguimiento</h4>\n                  <div className=\"tracking-box\">\n                    <strong>N√∫mero de seguimiento:</strong> {selectedOrder.trackingNumber}\n                  </div>\n                </div>\n              )}\n\n              {/* Actualizar estados */}\n              <div className=\"detail-section\">\n                <h4>‚öôÔ∏è Actualizar Estado del Pedido</h4>\n                <div className=\"status-update-form\">\n                  <div className=\"form-group\">\n                    <label>Estado del Pedido</label>\n                    <select\n                      name=\"orderStatus\"\n                      value={statusUpdate.orderStatus}\n                      onChange={handleStatusChange}\n                      className=\"form-select\"\n                    >\n                      <option value=\"pendiente\">Pendiente</option>\n                      <option value=\"procesando\">Procesando</option>\n                      <option value=\"enviado\">Enviado</option>\n                      <option value=\"entregado\">Entregado</option>\n                      <option value=\"cancelado\">Cancelado</option>\n                    </select>\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label>Estado del Pago</label>\n                    <select\n                      name=\"paymentStatus\"\n                      value={statusUpdate.paymentStatus}\n                      onChange={handleStatusChange}\n                      className=\"form-select\"\n                    >\n                      <option value=\"pendiente\">Pendiente</option>\n                      <option value=\"pagado\">Pagado</option>\n                      <option value=\"fallido\">Fallido</option>\n                    </select>\n                  </div>\n\n                  <button \n                    className=\"btn btn-primary btn-update\"\n                    onClick={updateOrderStatus}\n                  >\n                    <FaEdit /> Actualizar Estado\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AdminOrders;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}