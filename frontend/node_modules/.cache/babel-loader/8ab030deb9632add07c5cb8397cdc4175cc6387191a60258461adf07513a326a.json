{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ashu_\\\\Documents\\\\ecommerce-sim\\\\frontend\\\\src\\\\components\\\\profile\\\\OrdersTab.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { FaBox, FaTruck, FaExternalLinkAlt, FaMapMarkerAlt, FaClock, FaCheckCircle, FaShippingFast } from 'react-icons/fa';\nimport '../../styles/Profile.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nconst OrdersTab = () => {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [expandedTracking, setExpandedTracking] = useState(null);\n  useEffect(() => {\n    const loadOrders = async () => {\n      try {\n        const token = sessionStorage.getItem('token');\n        if (!token) {\n          setError('No est√°s autenticado. Por favor, inicia sesi√≥n.');\n          setLoading(false);\n          return;\n        }\n        const response = await axios.get(`${API_URL}/orders/my-orders`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setOrders(response.data);\n      } catch (error) {\n        var _error$response;\n        if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n          setError('Tu sesi√≥n ha expirado. Por favor, vuelve a iniciar sesi√≥n.');\n        } else {\n          setError('Error al cargar tus pedidos. Intenta recargar la p√°gina.');\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadOrders();\n  }, []);\n  const fetchTrackingDetails = async trackingNumber => {\n    try {\n      const token = sessionStorage.getItem('token');\n      const response = await axios.get(`${API_URL}/tracking/${trackingNumber}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error obteniendo tracking:', error);\n      return null;\n    }\n  };\n  const toggleTrackingDetails = async (orderId, trackingNumber) => {\n    if (expandedTracking === orderId) {\n      setExpandedTracking(null);\n    } else {\n      setExpandedTracking(orderId);\n      const order = orders.find(o => o._id === orderId);\n      if (order.tracking && !order.tracking.events) {\n        const trackingDetails = await fetchTrackingDetails(trackingNumber);\n        if (trackingDetails) {\n          setOrders(prev => prev.map(o => o._id === orderId ? {\n            ...o,\n            tracking: {\n              ...o.tracking,\n              ...trackingDetails\n            }\n          } : o));\n        }\n      }\n    }\n  };\n  const getStatusIcon = status => {\n    const icons = {\n      en_preparacion: 'üì¶',\n      enviado: 'üöö',\n      en_transito: '‚úàÔ∏è',\n      en_reparto: 'üö¥',\n      entregado: '‚úÖ',\n      pendiente: '‚è≥'\n    };\n    return icons[status] || 'üìã';\n  };\n  const getStatusColor = status => {\n    const colors = {\n      en_preparacion: '#f39c12',\n      enviado: '#3498db',\n      en_transito: '#9b59b6',\n      en_reparto: '#e67e22',\n      entregado: '#27ae60',\n      pendiente: '#95a5a6'\n    };\n    return colors[status] || '#95a5a6';\n  };\n  const formatPrice = price => new Intl.NumberFormat('es-ES', {\n    style: 'currency',\n    currency: 'EUR'\n  }).format(price);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tab-loading\",\n    children: \"Cargando tus pedidos...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"empty-state\",\n    children: [/*#__PURE__*/_jsxDEV(FaBox, {\n      size: 48\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n  if (orders.length === 0) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"empty-state\",\n    children: [/*#__PURE__*/_jsxDEV(FaBox, {\n      size: 48\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"A\\xFAn no tienes pedidos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Cuando realices tu primera compra, aparecer\\xE1 aqu\\xED.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"orders-tab\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Historial de Pedidos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"orders-list\",\n      children: orders.map(order => {\n        var _order$tracking$curre;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-meta\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"order-id\",\n                children: [\"#\", order._id.slice(-8).toUpperCase()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"order-date\",\n                children: new Date(order.createdAt).toLocaleDateString('es-ES', {\n                  year: 'numeric',\n                  month: 'long',\n                  day: 'numeric'\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `status-badge ${order.orderStatus}`,\n              children: order.orderStatus.charAt(0).toUpperCase() + order.orderStatus.slice(1)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this), order.tracking ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tracking-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tracking-summary\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tracking-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"tracking-header-row\",\n                  children: [/*#__PURE__*/_jsxDEV(FaTruck, {\n                    className: \"tracking-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"tracking-details\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"Seguimiento de Env\\xEDo\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 140,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"tracking-number\",\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"N\\xBA Seguimiento:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 144,\n                        columnNumber: 27\n                      }, this), \" \", order.tracking.trackingNumber || '‚Äî']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 143,\n                      columnNumber: 25\n                    }, this), order.tracking.carrier && /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"carrier-name\",\n                      children: [/*#__PURE__*/_jsxDEV(FaShippingFast, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 150,\n                        columnNumber: 29\n                      }, this), \" \", order.tracking.carrier]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 149,\n                      columnNumber: 27\n                    }, this), order.tracking.trackingUrl && /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: order.tracking.trackingUrl,\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\",\n                      className: \"btn-external-tracking\",\n                      style: {\n                        display: 'inline-flex',\n                        alignItems: 'center',\n                        gap: '5px',\n                        marginTop: '6px'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(FaExternalLinkAlt, {\n                        size: 12\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 163,\n                        columnNumber: 29\n                      }, this), \" Rastrear en web oficial\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 156,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"current-status\",\n                  style: {\n                    marginTop: '10px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"status-pill\",\n                    style: {\n                      backgroundColor: getStatusColor(order.tracking.currentStatus)\n                    },\n                    children: [getStatusIcon(order.tracking.currentStatus), ' ', ((_order$tracking$curre = order.tracking.currentStatus) === null || _order$tracking$curre === void 0 ? void 0 : _order$tracking$curre.replace(/_/g, ' ').toUpperCase()) || 'PENDIENTE']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tracking-actions\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-tracking-details\",\n                  onClick: () => toggleTrackingDetails(order._id, order.tracking.trackingNumber),\n                  children: expandedTracking === order._id ? '‚ñ≤ Ocultar Detalles' : '‚ñº Ver Detalles'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this), expandedTracking === order._id && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tracking-timeline\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"\\uD83D\\uDCCD Historial de Seguimiento\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 21\n              }, this), order.tracking.events && order.tracking.events.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"timeline\",\n                children: order.tracking.events.map((event, index) => {\n                  var _event$status;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"timeline-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"timeline-marker\",\n                      style: {\n                        backgroundColor: index === order.tracking.events.length - 1 ? getStatusColor(event.status) : '#ddd'\n                      },\n                      children: index === order.tracking.events.length - 1 && '‚óè'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 201,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"timeline-content\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"event-header\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"event-status\",\n                          children: [getStatusIcon(event.status), \" \", (_event$status = event.status) === null || _event$status === void 0 ? void 0 : _event$status.replace(/_/g, ' ').toUpperCase()]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 213,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"event-time\",\n                          children: [/*#__PURE__*/_jsxDEV(FaClock, {\n                            size: 12\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 217,\n                            columnNumber: 35\n                          }, this), \" \", new Date(event.timestamp).toLocaleString('es-ES')]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 216,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 212,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"event-description\",\n                        children: event.description\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 220,\n                        columnNumber: 31\n                      }, this), event.location && /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"event-location\",\n                        children: [/*#__PURE__*/_jsxDEV(FaMapMarkerAlt, {\n                          size: 12\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 223,\n                          columnNumber: 35\n                        }, this), \" \", event.location]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 222,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 29\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 27\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-events\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\uD83D\\uDCE6 A\\xFAn no hay eventos de seguimiento disponibles\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 23\n              }, this), order.tracking.estimatedDelivery && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"delivery-estimate\",\n                children: [/*#__PURE__*/_jsxDEV(FaCheckCircle, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Entrega estimada: \", new Date(order.tracking.estimatedDelivery).toLocaleDateString('es-ES')]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this) :\n          /*#__PURE__*/\n          // Sin tracking a√∫n\n          _jsxDEV(\"div\", {\n            className: \"tracking-section\",\n            style: {\n              padding: '12px 16px',\n              color: '#999',\n              fontSize: '0.9rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(FaBox, {\n              style: {\n                marginRight: '8px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this), \"Pedido en preparaci\\xF3n \\u2014 el seguimiento aparecer\\xE1 aqu\\xED cuando se genere la etiqueta.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-items\",\n            children: order.items && order.items.length > 0 ? order.items.map((item, i) => {\n              var _item$product, _item$product$images, _item$product2, _item$product3;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"order-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: ((_item$product = item.product) === null || _item$product === void 0 ? void 0 : (_item$product$images = _item$product.images) === null || _item$product$images === void 0 ? void 0 : _item$product$images[0]) || 'https://via.placeholder.com/50',\n                  alt: ((_item$product2 = item.product) === null || _item$product2 === void 0 ? void 0 : _item$product2.name) || 'Producto'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"item-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: ((_item$product3 = item.product) === null || _item$product3 === void 0 ? void 0 : _item$product3.name) || 'Producto'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 265,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: [\"Cantidad: \", item.quantity]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"item-price\",\n                  children: formatPrice(item.price * item.quantity)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 21\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 19\n              }, this);\n            }) : /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                padding: '10px',\n                color: '#999',\n                fontSize: '0.9rem'\n              },\n              children: \"Sin productos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-payment-info\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `payment-badge ${order.paymentStatus}`,\n                children: order.paymentStatus === 'pagado' ? '‚úì Pagado' : 'Pendiente de pago'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"order-total\",\n              children: [\"Total: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: formatPrice(order.totalAmount)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 24\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)]\n        }, order._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n_s(OrdersTab, \"bdVpoAEBB4ep8zayKui6ropqcFs=\");\n_c = OrdersTab;\nexport default OrdersTab;\nvar _c;\n$RefreshReg$(_c, \"OrdersTab\");","map":{"version":3,"names":["React","useState","useEffect","axios","FaBox","FaTruck","FaExternalLinkAlt","FaMapMarkerAlt","FaClock","FaCheckCircle","FaShippingFast","jsxDEV","_jsxDEV","API_URL","process","env","REACT_APP_API_URL","OrdersTab","_s","orders","setOrders","loading","setLoading","error","setError","expandedTracking","setExpandedTracking","loadOrders","token","sessionStorage","getItem","response","get","headers","Authorization","data","_error$response","status","fetchTrackingDetails","trackingNumber","console","toggleTrackingDetails","orderId","order","find","o","_id","tracking","events","trackingDetails","prev","map","getStatusIcon","icons","en_preparacion","enviado","en_transito","en_reparto","entregado","pendiente","getStatusColor","colors","formatPrice","price","Intl","NumberFormat","style","currency","format","className","children","fileName","_jsxFileName","lineNumber","columnNumber","size","length","_order$tracking$curre","slice","toUpperCase","Date","createdAt","toLocaleDateString","year","month","day","orderStatus","charAt","carrier","trackingUrl","href","target","rel","display","alignItems","gap","marginTop","backgroundColor","currentStatus","replace","onClick","event","index","_event$status","timestamp","toLocaleString","description","location","estimatedDelivery","padding","color","fontSize","marginRight","items","item","i","_item$product","_item$product$images","_item$product2","_item$product3","src","product","images","alt","name","quantity","paymentStatus","totalAmount","_c","$RefreshReg$"],"sources":["C:/Users/ashu_/Documents/ecommerce-sim/frontend/src/components/profile/OrdersTab.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { \r\n  FaBox, FaTruck, FaExternalLinkAlt, FaMapMarkerAlt, \r\n  FaClock, FaCheckCircle, FaShippingFast \r\n} from 'react-icons/fa';\r\nimport '../../styles/Profile.css';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nconst OrdersTab = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [expandedTracking, setExpandedTracking] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const loadOrders = async () => {\r\n      try {\r\n        const token = sessionStorage.getItem('token');\r\n        if (!token) {\r\n          setError('No est√°s autenticado. Por favor, inicia sesi√≥n.');\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        const response = await axios.get(`${API_URL}/orders/my-orders`, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        setOrders(response.data);\r\n      } catch (error) {\r\n        if (error.response?.status === 401) {\r\n          setError('Tu sesi√≥n ha expirado. Por favor, vuelve a iniciar sesi√≥n.');\r\n        } else {\r\n          setError('Error al cargar tus pedidos. Intenta recargar la p√°gina.');\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    loadOrders();\r\n  }, []);\r\n\r\n  const fetchTrackingDetails = async (trackingNumber) => {\r\n    try {\r\n      const token = sessionStorage.getItem('token');\r\n      const response = await axios.get(`${API_URL}/tracking/${trackingNumber}`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error obteniendo tracking:', error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const toggleTrackingDetails = async (orderId, trackingNumber) => {\r\n    if (expandedTracking === orderId) {\r\n      setExpandedTracking(null);\r\n    } else {\r\n      setExpandedTracking(orderId);\r\n      const order = orders.find(o => o._id === orderId);\r\n      if (order.tracking && !order.tracking.events) {\r\n        const trackingDetails = await fetchTrackingDetails(trackingNumber);\r\n        if (trackingDetails) {\r\n          setOrders(prev => prev.map(o =>\r\n            o._id === orderId\r\n              ? { ...o, tracking: { ...o.tracking, ...trackingDetails } }\r\n              : o\r\n          ));\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status) => {\r\n    const icons = {\r\n      en_preparacion: 'üì¶', enviado: 'üöö', en_transito: '‚úàÔ∏è',\r\n      en_reparto: 'üö¥', entregado: '‚úÖ', pendiente: '‚è≥'\r\n    };\r\n    return icons[status] || 'üìã';\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    const colors = {\r\n      en_preparacion: '#f39c12', enviado: '#3498db', en_transito: '#9b59b6',\r\n      en_reparto: '#e67e22', entregado: '#27ae60', pendiente: '#95a5a6'\r\n    };\r\n    return colors[status] || '#95a5a6';\r\n  };\r\n\r\n  const formatPrice = (price) =>\r\n    new Intl.NumberFormat('es-ES', { style: 'currency', currency: 'EUR' }).format(price);\r\n\r\n  if (loading) return <div className=\"tab-loading\">Cargando tus pedidos...</div>;\r\n\r\n  if (error) return (\r\n    <div className=\"empty-state\">\r\n      <FaBox size={48} />\r\n      <h3>Error</h3>\r\n      <p>{error}</p>\r\n    </div>\r\n  );\r\n\r\n  if (orders.length === 0) return (\r\n    <div className=\"empty-state\">\r\n      <FaBox size={48} />\r\n      <h3>A√∫n no tienes pedidos</h3>\r\n      <p>Cuando realices tu primera compra, aparecer√° aqu√≠.</p>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"orders-tab\">\r\n      <h2>Historial de Pedidos</h2>\r\n      <div className=\"orders-list\">\r\n        {orders.map(order => (\r\n          <div key={order._id} className=\"order-card\">\r\n            <div className=\"order-header\">\r\n              <div className=\"order-meta\">\r\n                <span className=\"order-id\">#{order._id.slice(-8).toUpperCase()}</span>\r\n                <span className=\"order-date\">\r\n                  {new Date(order.createdAt).toLocaleDateString('es-ES', {\r\n                    year: 'numeric', month: 'long', day: 'numeric'\r\n                  })}\r\n                </span>\r\n              </div>\r\n              <span className={`status-badge ${order.orderStatus}`}>\r\n                {order.orderStatus.charAt(0).toUpperCase() + order.orderStatus.slice(1)}\r\n              </span>\r\n            </div>\r\n\r\n            {/* ‚úÖ SECCI√ìN DE TRACKING ‚Äî muestra n√∫mero, transportista y URL */}\r\n            {order.tracking ? (\r\n              <div className=\"tracking-section\">\r\n                <div className=\"tracking-summary\">\r\n                  <div className=\"tracking-info\">\r\n                    <div className=\"tracking-header-row\">\r\n                      <FaTruck className=\"tracking-icon\" />\r\n                      <div className=\"tracking-details\">\r\n                        <h4>Seguimiento de Env√≠o</h4>\r\n\r\n                        {/* N√∫mero de tracking */}\r\n                        <p className=\"tracking-number\">\r\n                          <strong>N¬∫ Seguimiento:</strong> {order.tracking.trackingNumber || '‚Äî'}\r\n                        </p>\r\n\r\n                        {/* Transportista */}\r\n                        {order.tracking.carrier && (\r\n                          <p className=\"carrier-name\">\r\n                            <FaShippingFast size={14} /> {order.tracking.carrier}\r\n                          </p>\r\n                        )}\r\n\r\n                        {/* URL de tracking externo */}\r\n                        {order.tracking.trackingUrl && (\r\n                          <a\r\n                            href={order.tracking.trackingUrl}\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            className=\"btn-external-tracking\"\r\n                            style={{ display: 'inline-flex', alignItems: 'center', gap: '5px', marginTop: '6px' }}\r\n                          >\r\n                            <FaExternalLinkAlt size={12} /> Rastrear en web oficial\r\n                          </a>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Estado actual */}\r\n                    <div className=\"current-status\" style={{ marginTop: '10px' }}>\r\n                      <span\r\n                        className=\"status-pill\"\r\n                        style={{ backgroundColor: getStatusColor(order.tracking.currentStatus) }}\r\n                      >\r\n                        {getStatusIcon(order.tracking.currentStatus)}{' '}\r\n                        {order.tracking.currentStatus?.replace(/_/g, ' ').toUpperCase() || 'PENDIENTE'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Bot√≥n expandir historial */}\r\n                  <div className=\"tracking-actions\">\r\n                    <button\r\n                      className=\"btn-tracking-details\"\r\n                      onClick={() => toggleTrackingDetails(order._id, order.tracking.trackingNumber)}\r\n                    >\r\n                      {expandedTracking === order._id ? '‚ñ≤ Ocultar Detalles' : '‚ñº Ver Detalles'}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Timeline expandible */}\r\n                {expandedTracking === order._id && (\r\n                  <div className=\"tracking-timeline\">\r\n                    <h5>üìç Historial de Seguimiento</h5>\r\n\r\n                    {order.tracking.events && order.tracking.events.length > 0 ? (\r\n                      <div className=\"timeline\">\r\n                        {order.tracking.events.map((event, index) => (\r\n                          <div key={index} className=\"timeline-item\">\r\n                            <div\r\n                              className=\"timeline-marker\"\r\n                              style={{\r\n                                backgroundColor: index === order.tracking.events.length - 1\r\n                                  ? getStatusColor(event.status)\r\n                                  : '#ddd'\r\n                              }}\r\n                            >\r\n                              {index === order.tracking.events.length - 1 && '‚óè'}\r\n                            </div>\r\n                            <div className=\"timeline-content\">\r\n                              <div className=\"event-header\">\r\n                                <span className=\"event-status\">\r\n                                  {getStatusIcon(event.status)} {event.status?.replace(/_/g, ' ').toUpperCase()}\r\n                                </span>\r\n                                <span className=\"event-time\">\r\n                                  <FaClock size={12} /> {new Date(event.timestamp).toLocaleString('es-ES')}\r\n                                </span>\r\n                              </div>\r\n                              <p className=\"event-description\">{event.description}</p>\r\n                              {event.location && (\r\n                                <p className=\"event-location\">\r\n                                  <FaMapMarkerAlt size={12} /> {event.location}\r\n                                </p>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"no-events\">\r\n                        <p>üì¶ A√∫n no hay eventos de seguimiento disponibles</p>\r\n                      </div>\r\n                    )}\r\n\r\n                    {order.tracking.estimatedDelivery && (\r\n                      <div className=\"delivery-estimate\">\r\n                        <FaCheckCircle />\r\n                        <span>\r\n                          Entrega estimada: {new Date(order.tracking.estimatedDelivery).toLocaleDateString('es-ES')}\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              // Sin tracking a√∫n\r\n              <div className=\"tracking-section\" style={{ padding: '12px 16px', color: '#999', fontSize: '0.9rem' }}>\r\n                <FaBox style={{ marginRight: '8px' }} />\r\n                Pedido en preparaci√≥n ‚Äî el seguimiento aparecer√° aqu√≠ cuando se genere la etiqueta.\r\n              </div>\r\n            )}\r\n\r\n            {/* Productos */}\r\n            <div className=\"order-items\">\r\n              {order.items && order.items.length > 0 ? (\r\n                order.items.map((item, i) => (\r\n                  <div key={i} className=\"order-item\">\r\n                    <img\r\n                      src={item.product?.images?.[0] || 'https://via.placeholder.com/50'}\r\n                      alt={item.product?.name || 'Producto'}\r\n                    />\r\n                    <div className=\"item-details\">\r\n                      <p>{item.product?.name || 'Producto'}</p>\r\n                      <small>Cantidad: {item.quantity}</small>\r\n                    </div>\r\n                    <span className=\"item-price\">\r\n                      {formatPrice(item.price * item.quantity)}\r\n                    </span>\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <p style={{ padding: '10px', color: '#999', fontSize: '0.9rem' }}>Sin productos</p>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"order-footer\">\r\n              <div className=\"order-payment-info\">\r\n                <span className={`payment-badge ${order.paymentStatus}`}>\r\n                  {order.paymentStatus === 'pagado' ? '‚úì Pagado' : 'Pendiente de pago'}\r\n                </span>\r\n              </div>\r\n              <span className=\"order-total\">\r\n                Total: <strong>{formatPrice(order.totalAmount)}</strong>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrdersTab;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}