{"ast":null,"code":"import React from'react';import{Link,useNavigate}from'react-router-dom';import{FaTrash,FaMinus,FaPlus}from'react-icons/fa';import{useCart}from'../context/CartContext';import'../styles/Cart.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Cart=()=>{const navigate=useNavigate();const{cart,removeFromCart,updateQuantity,getCartTotal,clearCart}=useCart();const formatPrice=price=>{return new Intl.NumberFormat('es-ES',{style:'currency',currency:'EUR'}).format(price);};const handleCheckout=()=>{navigate('/checkout');};if(cart.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"cart-empty\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Tu carrito est\\xE1 vac\\xEDo\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No has a\\xF1adido ning\\xFAn producto todav\\xEDa\"}),/*#__PURE__*/_jsx(Link,{to:\"/productos\",className:\"continue-shopping-btn\",children:\"Continuar comprando\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"cart-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Carrito de Compras\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-layout\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cart-items\",children:cart.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-image\",children:/*#__PURE__*/_jsx(\"img\",{src:item.images[0]||'https://via.placeholder.com/150',alt:item.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:item.name}),item.brand&&/*#__PURE__*/_jsx(\"p\",{className:\"item-brand\",children:item.brand}),/*#__PURE__*/_jsx(\"p\",{className:\"item-price\",children:formatPrice(item.price)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-quantity\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(item._id,item.quantity-1),disabled:item.quantity<=1,children:/*#__PURE__*/_jsx(FaMinus,{})}),/*#__PURE__*/_jsx(\"span\",{children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateQuantity(item._id,item.quantity+1),disabled:item.quantity>=item.stock,children:/*#__PURE__*/_jsx(FaPlus,{})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item-total\",children:/*#__PURE__*/_jsx(\"p\",{className:\"item-subtotal\",children:formatPrice(item.price*item.quantity)})}),/*#__PURE__*/_jsx(\"button\",{className:\"remove-item-btn\",onClick:()=>removeFromCart(item._id),\"aria-label\":\"Eliminar producto\",children:/*#__PURE__*/_jsx(FaTrash,{})})]},item._id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-summary\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Resumen del Pedido\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Subtotal (\",cart.reduce((acc,item)=>acc+item.quantity,0),\" productos)\"]}),/*#__PURE__*/_jsx(\"span\",{children:formatPrice(getCartTotal())})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Env\\xEDo\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Gratis\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-row total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"span\",{children:formatPrice(getCartTotal())})]}),/*#__PURE__*/_jsx(\"button\",{className:\"checkout-btn\",onClick:handleCheckout,children:\"Proceder al Pago\"}),/*#__PURE__*/_jsx(Link,{to:\"/productos\",className:\"continue-shopping\",children:\"Continuar comprando\"}),/*#__PURE__*/_jsx(\"button\",{className:\"clear-cart-btn\",onClick:clearCart,children:\"Vaciar carrito\"})]})]})]})});};export default Cart;","map":{"version":3,"names":["React","Link","useNavigate","FaTrash","FaMinus","FaPlus","useCart","jsx","_jsx","jsxs","_jsxs","Cart","navigate","cart","removeFromCart","updateQuantity","getCartTotal","clearCart","formatPrice","price","Intl","NumberFormat","style","currency","format","handleCheckout","length","className","children","to","map","item","src","images","alt","name","brand","onClick","_id","quantity","disabled","stock","reduce","acc"],"sources":["C:/Users/ashu_/Documents/ecommerce-sim/frontend/src/pages/Cart.js"],"sourcesContent":["import React from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { FaTrash, FaMinus, FaPlus } from 'react-icons/fa';\nimport { useCart } from '../context/CartContext';\nimport '../styles/Cart.css';\n\nconst Cart = () => {\n  const navigate = useNavigate();\n  const { cart, removeFromCart, updateQuantity, getCartTotal, clearCart } = useCart();\n\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('es-ES', {\n      style: 'currency',\n      currency: 'EUR'\n    }).format(price);\n  };\n\n  const handleCheckout = () => {\n    navigate('/checkout');\n  };\n\n  if (cart.length === 0) {\n    return (\n      <div className=\"cart-empty\">\n        <div className=\"container\">\n          <h2>Tu carrito está vacío</h2>\n          <p>No has añadido ningún producto todavía</p>\n          <Link to=\"/productos\" className=\"continue-shopping-btn\">\n            Continuar comprando\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"cart-page\">\n      <div className=\"container\">\n        <h1>Carrito de Compras</h1>\n\n        <div className=\"cart-layout\">\n          <div className=\"cart-items\">\n            {cart.map(item => (\n              <div key={item._id} className=\"cart-item\">\n                <div className=\"item-image\">\n                  <img \n                    src={item.images[0] || 'https://via.placeholder.com/150'} \n                    alt={item.name} \n                  />\n                </div>\n\n                <div className=\"item-details\">\n                  <h3>{item.name}</h3>\n                  {item.brand && <p className=\"item-brand\">{item.brand}</p>}\n                  <p className=\"item-price\">{formatPrice(item.price)}</p>\n                </div>\n\n                <div className=\"item-quantity\">\n                  <button \n                    onClick={() => updateQuantity(item._id, item.quantity - 1)}\n                    disabled={item.quantity <= 1}\n                  >\n                    <FaMinus />\n                  </button>\n                  <span>{item.quantity}</span>\n                  <button \n                    onClick={() => updateQuantity(item._id, item.quantity + 1)}\n                    disabled={item.quantity >= item.stock}\n                  >\n                    <FaPlus />\n                  </button>\n                </div>\n\n                <div className=\"item-total\">\n                  <p className=\"item-subtotal\">\n                    {formatPrice(item.price * item.quantity)}\n                  </p>\n                </div>\n\n                <button \n                  className=\"remove-item-btn\"\n                  onClick={() => removeFromCart(item._id)}\n                  aria-label=\"Eliminar producto\"\n                >\n                  <FaTrash />\n                </button>\n              </div>\n            ))}\n          </div>\n\n          <div className=\"cart-summary\">\n            <h2>Resumen del Pedido</h2>\n            \n            <div className=\"summary-row\">\n              <span>Subtotal ({cart.reduce((acc, item) => acc + item.quantity, 0)} productos)</span>\n              <span>{formatPrice(getCartTotal())}</span>\n            </div>\n\n            <div className=\"summary-row\">\n              <span>Envío</span>\n              <span>Gratis</span>\n            </div>\n\n            <div className=\"summary-row total\">\n              <span>Total</span>\n              <span>{formatPrice(getCartTotal())}</span>\n            </div>\n\n            <button className=\"checkout-btn\" onClick={handleCheckout}>\n              Proceder al Pago\n            </button>\n\n            <Link to=\"/productos\" className=\"continue-shopping\">\n              Continuar comprando\n            </Link>\n\n            <button className=\"clear-cart-btn\" onClick={clearCart}>\n              Vaciar carrito\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Cart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}