{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ashu_\\\\Documents\\\\ecommerce-sim\\\\frontend\\\\src\\\\pages\\\\admin\\\\AdminOrders.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { FaEye, FaEdit, FaPhone, FaTruck, FaFilePdf, FaSync, FaPrint } from 'react-icons/fa';\nimport axios from 'axios';\nimport '../../styles/AdminOrders.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminOrders = () => {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [statusUpdate, setStatusUpdate] = useState({\n    orderStatus: '',\n    paymentStatus: ''\n  });\n  const [error, setError] = useState(null);\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n  // 1. CARGA INICIAL Y POLLING (Revisar pedidos cada 30 segundos)\n  useEffect(() => {\n    loadOrders();\n    const interval = setInterval(loadOrders, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // 2. MONITOR DE ETIQUETAS: Detecta pedidos listos para imprimir\n  useEffect(() => {\n    // Buscamos pedidos que est√©n en 'procesando' y tengan el flag 'needsPrinting'\n    const pendingToPrint = orders.find(o => o.needsPrinting === true && o.orderStatus === 'procesando');\n    if (pendingToPrint) {\n      handleAutoPrintPrompt(pendingToPrint);\n    }\n  }, [orders]);\n  const loadOrders = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) return;\n      const response = await axios.get(`${API_URL}/orders`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const ordersData = Array.isArray(response.data) ? response.data : [];\n      setOrders(ordersData);\n    } catch (error) {\n      console.error('Error al cargar pedidos:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // --- FUNCI√ìN DE ALERTA E IMPRESI√ìN ---\n  const handleAutoPrintPrompt = order => {\n    // Sonido de notificaci√≥n\n    const audio = new Audio('https://assets.mixkit.co/active_storage/sfx/2358/2358-preview.mp3');\n    audio.play().catch(() => {}); // Evitar error si el navegador bloquea audio\n\n    if (window.confirm(`üì¶ ¬°PEDIDO NUEVO! #${order._id.slice(-6)}\\n¬øQuieres imprimir la etiqueta de preparaci√≥n ahora?`)) {\n      var _order$tracking;\n      const trackingId = ((_order$tracking = order.tracking) === null || _order$tracking === void 0 ? void 0 : _order$tracking._id) || order.tracking;\n      if (trackingId) {\n        downloadLabel(trackingId);\n        markAsPrinted(order._id);\n      } else {\n        alert(\"Primero debes generar el env√≠o (Tracking)\");\n      }\n    }\n  };\n  const markAsPrinted = async orderId => {\n    try {\n      const token = localStorage.getItem('token');\n      await axios.put(`${API_URL}/orders/${orderId}/printed`, {}, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      loadOrders(); // Refrescar para quitar la alerta\n    } catch (err) {\n      console.error(\"Error al actualizar estado de impresi√≥n\", err);\n    }\n  };\n  const downloadLabel = trackingId => {\n    const token = localStorage.getItem('token');\n    // Abre el PDF en una pesta√±a nueva configurada para impresi√≥n\n    window.open(`${API_URL}/tracking/label/${trackingId}?token=${token}`, '_blank');\n  };\n  const handleCreateTracking = async orderId => {\n    const carrier = prompt(\"Introduce el transportista (Correos, SEUR, DHL):\", \"SimShip Express\");\n    if (!carrier) return;\n    try {\n      const token = localStorage.getItem('token');\n      await axios.post(`${API_URL}/tracking/create`, {\n        orderId,\n        carrier\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      alert(\"‚úÖ Env√≠o generado.\");\n      loadOrders();\n    } catch (err) {\n      alert(\"‚ùå Error al crear env√≠o\");\n    }\n  };\n\n  // Formateadores y badges (Mantengo tus funciones originales)\n  const formatPrice = price => new Intl.NumberFormat('es-ES', {\n    style: 'currency',\n    currency: 'EUR'\n  }).format(price);\n  const getStatusBadge = status => {\n    const statusMap = {\n      pendiente: 'badge-warning',\n      procesando: 'badge-info',\n      enviado: 'badge-primary',\n      entregado: 'badge-success'\n    };\n    return statusMap[status] || 'badge-secondary';\n  };\n  const openDetailModal = order => {\n    setSelectedOrder(order);\n    setStatusUpdate({\n      orderStatus: order.orderStatus,\n      paymentStatus: order.paymentStatus\n    });\n    setShowDetailModal(true);\n  };\n  const closeDetailModal = () => {\n    setShowDetailModal(false);\n    setSelectedOrder(null);\n  };\n  const updateOrderStatus = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      await axios.put(`${API_URL}/orders/${selectedOrder._id}/status`, statusUpdate, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      alert('Estado actualizado');\n      closeDetailModal();\n      loadOrders();\n    } catch (error) {\n      alert('Error');\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-orders\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spinner-large\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 53\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Cargando Almac\\xE9n...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 90\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-orders\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDCE6 Gesti\\xF3n de Almac\\xE9n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: loadOrders,\n        children: [/*#__PURE__*/_jsxDEV(FaSync, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 68\n        }, this), \" Sincronizar\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-responsive\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"ID Pedido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Cliente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Estado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Log\\xEDstica\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Acciones\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: orders.map(order => {\n            var _order$user;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: order.needsPrinting ? 'row-urgent' : '',\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [\"#\", order._id.slice(-6).toUpperCase()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ((_order$user = order.user) === null || _order$user === void 0 ? void 0 : _order$user.name) || 'Cliente'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `badge ${getStatusBadge(order.orderStatus)}`,\n                  children: order.orderStatus\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: !order.tracking ? /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-action btn-generate\",\n                  onClick: () => handleCreateTracking(order._id),\n                  children: [/*#__PURE__*/_jsxDEV(FaTruck, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 23\n                  }, this), \" Preparar\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-action btn-pdf\",\n                  onClick: () => downloadLabel(order.tracking._id || order.tracking),\n                  children: [/*#__PURE__*/_jsxDEV(FaPrint, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 173,\n                    columnNumber: 23\n                  }, this), \" Etiqueta PDF\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-icon btn-view\",\n                  onClick: () => openDetailModal(order),\n                  children: /*#__PURE__*/_jsxDEV(FaEye, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this)]\n            }, order._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), showDetailModal && selectedOrder && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: closeDetailModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content large\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Pedido #\", selectedOrder._id.slice(-8)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-close\",\n            onClick: closeDetailModal,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-detail\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-section alert-box\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\uD83D\\uDDA8\\uFE0F Estado de Impresi\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this), selectedOrder.needsPrinting ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-danger\",\n              children: \"\\u26A0\\uFE0F Este pedido est\\xE1 pendiente de imprimir etiqueta.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 20\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-success\",\n              children: \"\\u2705 Etiqueta ya generada/impresa.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 20\n            }, this), selectedOrder.tracking && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-print-large\",\n              onClick: () => downloadLabel(selectedOrder.tracking._id || selectedOrder.tracking),\n              children: [/*#__PURE__*/_jsxDEV(FaFilePdf, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 21\n              }, this), \" Descargar Etiqueta T\\xE9rmica\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\u2699\\uFE0F Cambiar Estado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"status-update-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                value: statusUpdate.orderStatus,\n                onChange: e => setStatusUpdate({\n                  ...statusUpdate,\n                  orderStatus: e.target.value\n                }),\n                className: \"form-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"pendiente\",\n                  children: \"Pendiente\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"procesando\",\n                  children: \"Procesando (En Almac\\xE9n)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"enviado\",\n                  children: \"Enviado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"entregado\",\n                  children: \"Entregado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-save\",\n                onClick: updateOrderStatus,\n                children: \"Guardar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminOrders, \"NgFIC31X2Lpdzm7dDdMhB8UAzK4=\");\n_c = AdminOrders;\nexport default AdminOrders;\nvar _c;\n$RefreshReg$(_c, \"AdminOrders\");","map":{"version":3,"names":["React","useState","useEffect","FaEye","FaEdit","FaPhone","FaTruck","FaFilePdf","FaSync","FaPrint","axios","jsxDEV","_jsxDEV","AdminOrders","_s","orders","setOrders","loading","setLoading","selectedOrder","setSelectedOrder","showDetailModal","setShowDetailModal","statusUpdate","setStatusUpdate","orderStatus","paymentStatus","error","setError","API_URL","process","env","REACT_APP_API_URL","loadOrders","interval","setInterval","clearInterval","pendingToPrint","find","o","needsPrinting","handleAutoPrintPrompt","token","localStorage","getItem","response","get","headers","ordersData","Array","isArray","data","console","order","audio","Audio","play","catch","window","confirm","_id","slice","_order$tracking","trackingId","tracking","downloadLabel","markAsPrinted","alert","orderId","put","Authorization","err","open","handleCreateTracking","carrier","prompt","post","formatPrice","price","Intl","NumberFormat","style","currency","format","getStatusBadge","status","statusMap","pendiente","procesando","enviado","entregado","openDetailModal","closeDetailModal","updateOrderStatus","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","_order$user","toUpperCase","user","name","e","stopPropagation","value","onChange","target","_c","$RefreshReg$"],"sources":["C:/Users/ashu_/Documents/ecommerce-sim/frontend/src/pages/admin/AdminOrders.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { FaEye, FaEdit, FaPhone, FaTruck, FaFilePdf, FaSync, FaPrint } from 'react-icons/fa';\nimport axios from 'axios';\nimport '../../styles/AdminOrders.css';\n\nconst AdminOrders = () => {\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [statusUpdate, setStatusUpdate] = useState({\n    orderStatus: '',\n    paymentStatus: ''\n  });\n  const [error, setError] = useState(null);\n\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n  // 1. CARGA INICIAL Y POLLING (Revisar pedidos cada 30 segundos)\n  useEffect(() => {\n    loadOrders();\n    const interval = setInterval(loadOrders, 30000); \n    return () => clearInterval(interval);\n  }, []);\n\n  // 2. MONITOR DE ETIQUETAS: Detecta pedidos listos para imprimir\n  useEffect(() => {\n    // Buscamos pedidos que est√©n en 'procesando' y tengan el flag 'needsPrinting'\n    const pendingToPrint = orders.find(o => o.needsPrinting === true && o.orderStatus === 'procesando');\n    \n    if (pendingToPrint) {\n      handleAutoPrintPrompt(pendingToPrint);\n    }\n  }, [orders]);\n\n  const loadOrders = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) return;\n\n      const response = await axios.get(`${API_URL}/orders`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n\n      const ordersData = Array.isArray(response.data) ? response.data : [];\n      setOrders(ordersData);\n    } catch (error) {\n      console.error('Error al cargar pedidos:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // --- FUNCI√ìN DE ALERTA E IMPRESI√ìN ---\n  const handleAutoPrintPrompt = (order) => {\n    // Sonido de notificaci√≥n\n    const audio = new Audio('https://assets.mixkit.co/active_storage/sfx/2358/2358-preview.mp3');\n    audio.play().catch(() => {}); // Evitar error si el navegador bloquea audio\n\n    if (window.confirm(`üì¶ ¬°PEDIDO NUEVO! #${order._id.slice(-6)}\\n¬øQuieres imprimir la etiqueta de preparaci√≥n ahora?`)) {\n      const trackingId = order.tracking?._id || order.tracking;\n      if (trackingId) {\n        downloadLabel(trackingId);\n        markAsPrinted(order._id);\n      } else {\n        alert(\"Primero debes generar el env√≠o (Tracking)\");\n      }\n    }\n  };\n\n  const markAsPrinted = async (orderId) => {\n    try {\n      const token = localStorage.getItem('token');\n      await axios.put(`${API_URL}/orders/${orderId}/printed`, {}, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      loadOrders(); // Refrescar para quitar la alerta\n    } catch (err) {\n      console.error(\"Error al actualizar estado de impresi√≥n\", err);\n    }\n  };\n\n  const downloadLabel = (trackingId) => {\n    const token = localStorage.getItem('token');\n    // Abre el PDF en una pesta√±a nueva configurada para impresi√≥n\n    window.open(`${API_URL}/tracking/label/${trackingId}?token=${token}`, '_blank');\n  };\n\n  const handleCreateTracking = async (orderId) => {\n    const carrier = prompt(\"Introduce el transportista (Correos, SEUR, DHL):\", \"SimShip Express\");\n    if (!carrier) return;\n\n    try {\n      const token = localStorage.getItem('token');\n      await axios.post(`${API_URL}/tracking/create`, \n        { orderId, carrier }, \n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      alert(\"‚úÖ Env√≠o generado.\");\n      loadOrders();\n    } catch (err) {\n      alert(\"‚ùå Error al crear env√≠o\");\n    }\n  };\n\n  // Formateadores y badges (Mantengo tus funciones originales)\n  const formatPrice = (price) => new Intl.NumberFormat('es-ES', { style: 'currency', currency: 'EUR' }).format(price);\n  const getStatusBadge = (status) => {\n    const statusMap = { pendiente: 'badge-warning', procesando: 'badge-info', enviado: 'badge-primary', entregado: 'badge-success' };\n    return statusMap[status] || 'badge-secondary';\n  };\n\n  const openDetailModal = (order) => {\n    setSelectedOrder(order);\n    setStatusUpdate({ orderStatus: order.orderStatus, paymentStatus: order.paymentStatus });\n    setShowDetailModal(true);\n  };\n\n  const closeDetailModal = () => { setShowDetailModal(false); setSelectedOrder(null); };\n\n  const updateOrderStatus = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      await axios.put(`${API_URL}/orders/${selectedOrder._id}/status`, statusUpdate, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      alert('Estado actualizado');\n      closeDetailModal();\n      loadOrders();\n    } catch (error) {\n      alert('Error');\n    }\n  };\n\n  if (loading) return <div className=\"admin-orders\"><div className=\"spinner-large\"></div><p>Cargando Almac√©n...</p></div>;\n\n  return (\n    <div className=\"admin-orders\">\n      <div className=\"page-header\">\n        <h2>üì¶ Gesti√≥n de Almac√©n</h2>\n        <button className=\"btn btn-secondary\" onClick={loadOrders}><FaSync /> Sincronizar</button>\n      </div>\n\n      <div className=\"table-responsive\">\n        <table className=\"admin-table\">\n          <thead>\n            <tr>\n              <th>ID Pedido</th>\n              <th>Cliente</th>\n              <th>Estado</th>\n              <th>Log√≠stica</th>\n              <th>Acciones</th>\n            </tr>\n          </thead>\n          <tbody>\n            {orders.map(order => (\n              <tr key={order._id} className={order.needsPrinting ? 'row-urgent' : ''}>\n                <td><strong>#{order._id.slice(-6).toUpperCase()}</strong></td>\n                <td>{order.user?.name || 'Cliente'}</td>\n                <td>\n                  <span className={`badge ${getStatusBadge(order.orderStatus)}`}>\n                    {order.orderStatus}\n                  </span>\n                </td>\n                \n                <td>\n                  {!order.tracking ? (\n                    <button className=\"btn-action btn-generate\" onClick={() => handleCreateTracking(order._id)}>\n                      <FaTruck /> Preparar\n                    </button>\n                  ) : (\n                    <button className=\"btn-action btn-pdf\" onClick={() => downloadLabel(order.tracking._id || order.tracking)}>\n                      <FaPrint /> Etiqueta PDF\n                    </button>\n                  )}\n                </td>\n\n                <td>\n                  <button className=\"btn-icon btn-view\" onClick={() => openDetailModal(order)}>\n                    <FaEye />\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* MODAL DE DETALLES */}\n      {showDetailModal && selectedOrder && (\n        <div className=\"modal-overlay\" onClick={closeDetailModal}>\n          <div className=\"modal-content large\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h3>Pedido #{selectedOrder._id.slice(-8)}</h3>\n              <button className=\"modal-close\" onClick={closeDetailModal}>√ó</button>\n            </div>\n\n            <div className=\"order-detail\">\n              <div className=\"detail-section alert-box\">\n                <h4>üñ®Ô∏è Estado de Impresi√≥n</h4>\n                {selectedOrder.needsPrinting ? (\n                   <p className=\"text-danger\">‚ö†Ô∏è Este pedido est√° pendiente de imprimir etiqueta.</p>\n                ) : (\n                   <p className=\"text-success\">‚úÖ Etiqueta ya generada/impresa.</p>\n                )}\n                {selectedOrder.tracking && (\n                  <button className=\"btn-print-large\" onClick={() => downloadLabel(selectedOrder.tracking._id || selectedOrder.tracking)}>\n                    <FaFilePdf /> Descargar Etiqueta T√©rmica\n                  </button>\n                )}\n              </div>\n\n              <div className=\"detail-section\">\n                <h4>‚öôÔ∏è Cambiar Estado</h4>\n                <div className=\"status-update-form\">\n                  <select \n                    value={statusUpdate.orderStatus} \n                    onChange={(e) => setStatusUpdate({...statusUpdate, orderStatus: e.target.value})}\n                    className=\"form-select\"\n                  >\n                    <option value=\"pendiente\">Pendiente</option>\n                    <option value=\"procesando\">Procesando (En Almac√©n)</option>\n                    <option value=\"enviado\">Enviado</option>\n                    <option value=\"entregado\">Entregado</option>\n                  </select>\n                  <button className=\"btn-save\" onClick={updateOrderStatus}>Guardar</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AdminOrders;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}