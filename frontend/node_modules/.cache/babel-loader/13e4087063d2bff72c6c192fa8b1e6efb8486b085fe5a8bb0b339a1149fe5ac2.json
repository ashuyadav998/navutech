{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ashu_\\\\Documents\\\\ecommerce-sim\\\\frontend\\\\src\\\\pages\\\\admin\\\\AdminOrders.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { FaEye, FaEdit, FaPhone, FaDownload } from 'react-icons/fa';\nimport axios from 'axios';\nimport '../../styles/AdminOrders.css';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminOrders = () => {\n  _s();\n  var _selectedOrder$user, _selectedOrder$shippi, _selectedOrder$shippi2, _selectedOrder$shippi3, _selectedOrder$shippi4, _selectedOrder$items, _selectedOrder$items2;\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [statusUpdate, setStatusUpdate] = useState({\n    orderStatus: '',\n    paymentStatus: ''\n  });\n  const [error, setError] = useState(null);\n  const notifiedOrders = useRef(new Set());\n  const isFirstLoad = useRef(true);\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n  useEffect(() => {\n    loadOrders(true);\n    if (Notification.permission === 'default') Notification.requestPermission();\n    const interval = setInterval(() => loadOrders(false), 30000);\n    return () => clearInterval(interval);\n  }, []);\n  useEffect(() => {\n    const newOrders = orders.filter(o => !notifiedOrders.current.has(o._id) && o.orderStatus === 'pendiente');\n    if (newOrders.length > 0 && !isFirstLoad.current) {\n      newOrders.forEach(o => notifiedOrders.current.add(o._id));\n      handleNewOrderNotification(newOrders);\n    }\n  }, [orders]);\n  const handleNewOrderNotification = newOrders => {\n    const audio = new Audio('https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3');\n    audio.play().catch(() => {});\n    newOrders.forEach(order => {\n      var _order$user;\n      toast.success(`ðŸ”” Â¡NUEVO PEDIDO! #${order._id.slice(-6).toUpperCase()}\\nCliente: ${((_order$user = order.user) === null || _order$user === void 0 ? void 0 : _order$user.name) || 'Desconocido'}\\nTotal: ${formatPrice(order.totalAmount)}`, {\n        position: 'top-right',\n        autoClose: 8000\n      });\n    });\n    if (navigator.vibrate) navigator.vibrate([200, 100, 200]);\n    if (Notification.permission === 'granted') {\n      new Notification('ðŸ›’ Nuevo pedido recibido', {\n        body: `${newOrders.length} pedido(s) nuevo(s)`,\n        icon: '/logo192.png'\n      });\n    }\n  };\n  const loadOrders = async (initial = false) => {\n    try {\n      if (initial) setLoading(true);\n      setRefreshing(true);\n      setError(null);\n      const token = sessionStorage.getItem('token');\n      if (!token) {\n        setError('No estÃ¡s autenticado.');\n        setLoading(false);\n        return;\n      }\n      const response = await axios.get(`${API_URL}/orders`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const ordersData = Array.isArray(response.data) ? response.data : [];\n      setOrders(ordersData);\n      if (initial) {\n        ordersData.forEach(o => notifiedOrders.current.add(o._id));\n        isFirstLoad.current = false;\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      if (initial) setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Error al cargar los pedidos');\n    } finally {\n      setLoading(false);\n      setRefreshing(false);\n    }\n  };\n\n  // âœ… Solo descargar â€” el tracking ya existe desde que se creÃ³ el pedido\n  const downloadLabel = async order => {\n    try {\n      const tracking = order.tracking;\n      if (!(tracking !== null && tracking !== void 0 && tracking.trackingNumber)) {\n        toast.error('Este pedido aÃºn no tiene etiqueta generada');\n        return;\n      }\n      const token = sessionStorage.getItem('token');\n      if (!token) {\n        toast.error('SesiÃ³n expirada');\n        return;\n      }\n      const loadingToast = toast.loading('Descargando etiqueta...');\n      const response = await axios({\n        method: 'GET',\n        url: `${API_URL}/tracking/${tracking.trackingNumber}/label`,\n        headers: {\n          Authorization: `Bearer ${token}`\n        },\n        responseType: 'blob'\n      });\n      toast.update(loadingToast, {\n        render: 'âœ… Descargando...',\n        type: 'success',\n        isLoading: false,\n        autoClose: 1000\n      });\n      const blob = new Blob([response.data], {\n        type: 'application/pdf'\n      });\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `etiqueta-${tracking.trackingNumber}.pdf`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      var _err$response, _err$response2;\n      const msg = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 404 ? 'Etiqueta aÃºn no disponible, espera unos segundos y vuelve a intentarlo' : ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 401 ? 'SesiÃ³n expirada' : 'Error al descargar la etiqueta';\n      toast.error(msg);\n    }\n  };\n  const viewLabel = order => {\n    const tracking = order.tracking;\n    if (!(tracking !== null && tracking !== void 0 && tracking.trackingNumber)) {\n      toast.error('Sin etiqueta disponible');\n      return;\n    }\n    const token = sessionStorage.getItem('token');\n    window.open(`${API_URL}/tracking/${tracking.trackingNumber}/label/preview?token=${token}`, '_blank');\n  };\n  const formatPrice = price => new Intl.NumberFormat('es-ES', {\n    style: 'currency',\n    currency: 'EUR'\n  }).format(price);\n  const getStatusBadge = status => ({\n    pendiente: 'badge-warning',\n    procesando: 'badge-info',\n    enviado: 'badge-primary',\n    entregado: 'badge-success',\n    cancelado: 'badge-danger',\n    pagado: 'badge-success',\n    fallido: 'badge-danger'\n  })[status] || 'badge-secondary';\n  const getStatusLabel = status => ({\n    pendiente: 'Pendiente',\n    procesando: 'Procesando',\n    enviado: 'Enviado',\n    entregado: 'Entregado',\n    cancelado: 'Cancelado',\n    pagado: 'Pagado',\n    fallido: 'Fallido'\n  })[status] || status;\n  const openDetailModal = order => {\n    setSelectedOrder(order);\n    setStatusUpdate({\n      orderStatus: order.orderStatus,\n      paymentStatus: order.paymentStatus\n    });\n    setShowDetailModal(true);\n  };\n  const closeDetailModal = () => {\n    setShowDetailModal(false);\n    setSelectedOrder(null);\n  };\n  const updateOrderStatus = async () => {\n    try {\n      const token = sessionStorage.getItem('token');\n      await axios.put(`${API_URL}/orders/${selectedOrder._id}/status`, statusUpdate, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      toast.success('âœ… Estado actualizado y notificaciÃ³n enviada al cliente');\n      closeDetailModal();\n      loadOrders(false);\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      toast.error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Error al actualizar');\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-orders\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 88\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Cargando pedidos...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 125\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 53\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-orders\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 84\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 98\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => loadOrders(true),\n        children: \"\\uD83D\\uDD04 Reintentar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 112\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 51\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-orders\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Gesti\\xF3n de Pedidos \", refreshing && /*#__PURE__*/_jsxDEV(\"small\", {\n          style: {\n            fontSize: '12px',\n            marginLeft: '10px'\n          },\n          children: \"\\uD83D\\uDD04 Actualizando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"orders-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-item\",\n          children: [\"Total: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: orders.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 46\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-item\",\n          children: [\"Pendientes: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: orders.filter(o => o.orderStatus === 'pendiente').length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 51\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-item\",\n          children: [\"Con etiqueta: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: orders.filter(o => o.tracking).length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 53\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: () => loadOrders(true),\n        children: \"\\uD83D\\uDD04 Actualizar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-responsive\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"ID Pedido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Cliente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Estado Pago\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Estado Pedido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Etiqueta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Acciones\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: orders.map(order => {\n            var _order$user2;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: order.orderStatus === 'pendiente' ? 'row-urgent' : '',\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [\"#\", order._id.slice(-8)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"customer-cell\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: ((_order$user2 = order.user) === null || _order$user2 === void 0 ? void 0 : _order$user2.name) || 'Usuario'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: [/*#__PURE__*/_jsxDEV(FaPhone, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 204,\n                      columnNumber: 28\n                    }, this), \" \", order.phone || 'S/T']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: formatPrice(order.totalAmount)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `badge ${getStatusBadge(order.paymentStatus)}`,\n                  children: getStatusLabel(order.paymentStatus)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `badge ${getStatusBadge(order.orderStatus)}`,\n                  children: getStatusLabel(order.orderStatus)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: order.tracking ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    gap: '5px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn-table btn-pdf\",\n                    onClick: () => downloadLabel(order),\n                    title: \"Descargar etiqueta PDF\",\n                    children: [/*#__PURE__*/_jsxDEV(FaDownload, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 25\n                    }, this), \" Descargar\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn-table btn-view\",\n                    onClick: () => viewLabel(order),\n                    title: \"Ver etiqueta\",\n                    style: {\n                      background: '#3498db'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(FaEye, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 227,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: '#999',\n                    fontSize: '0.8rem'\n                  },\n                  children: \"\\u23F3 Generando...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"action-buttons\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn-icon btn-view\",\n                    onClick: () => openDetailModal(order),\n                    title: \"Ver detalles\",\n                    children: /*#__PURE__*/_jsxDEV(FaEye, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 237,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 236,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this)]\n            }, order._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), showDetailModal && selectedOrder && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: closeDetailModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content large\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Gesti\\xF3n de Pedido #\", selectedOrder._id.slice(-8).toUpperCase()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-close\",\n            onClick: closeDetailModal,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-detail-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-grid-top\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"\\uD83D\\uDCCD Direcci\\xF3n de Env\\xEDo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"address-box\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: ((_selectedOrder$user = selectedOrder.user) === null || _selectedOrder$user === void 0 ? void 0 : _selectedOrder$user.name) || 'Cliente'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 24\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: (_selectedOrder$shippi = selectedOrder.shippingAddress) === null || _selectedOrder$shippi === void 0 ? void 0 : _selectedOrder$shippi.street\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [(_selectedOrder$shippi2 = selectedOrder.shippingAddress) === null || _selectedOrder$shippi2 === void 0 ? void 0 : _selectedOrder$shippi2.city, \", \", (_selectedOrder$shippi3 = selectedOrder.shippingAddress) === null || _selectedOrder$shippi3 === void 0 ? void 0 : _selectedOrder$shippi3.postalCode]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: (_selectedOrder$shippi4 = selectedOrder.shippingAddress) === null || _selectedOrder$shippi4 === void 0 ? void 0 : _selectedOrder$shippi4.country\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    marginTop: '10px',\n                    fontSize: '0.85rem',\n                    color: '#666'\n                  },\n                  children: [\"\\uD83D\\uDCDE \", selectedOrder.phone || 'Sin telÃ©fono']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"\\u2699\\uFE0F Estado del Pedido\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"status-update-form\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      fontSize: '0.8rem',\n                      color: '#7f8c8d',\n                      display: 'block',\n                      marginBottom: '5px'\n                    },\n                    children: \"Cambiar Estado (se enviar\\xE1 email al cliente)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    name: \"orderStatus\",\n                    value: statusUpdate.orderStatus,\n                    onChange: e => setStatusUpdate({\n                      ...statusUpdate,\n                      [e.target.name]: e.target.value\n                    }),\n                    className: \"form-select\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"pendiente\",\n                      children: \"Pendiente\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"procesando\",\n                      children: \"Procesando\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 279,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"enviado\",\n                      children: \"Enviado\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"entregado\",\n                      children: \"Entregado\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"cancelado\",\n                      children: \"Cancelado\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-update-status\",\n                  onClick: updateOrderStatus,\n                  children: [/*#__PURE__*/_jsxDEV(FaEdit, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 23\n                  }, this), \" Guardar y Notificar\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 15\n          }, this), selectedOrder.tracking && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\uD83D\\uDE9A Informaci\\xF3n de Env\\xEDo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '15px',\n                background: '#f8f9fa',\n                borderRadius: '8px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Tracking:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 24\n                }, this), \" \", selectedOrder.tracking.trackingNumber]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Transportista:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 24\n                }, this), \" \", selectedOrder.tracking.carrier || 'Correos Express (Simulado)']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Estado:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 24\n                }, this), \" \", selectedOrder.tracking.currentStatus || 'pendiente']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '15px',\n                  display: 'flex',\n                  gap: '10px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-update-status\",\n                  onClick: () => downloadLabel(selectedOrder),\n                  style: {\n                    flex: 1\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(FaDownload, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 25\n                  }, this), \" Descargar Etiqueta\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-update-status\",\n                  onClick: () => viewLabel(selectedOrder),\n                  style: {\n                    flex: 1,\n                    background: '#3498db'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(FaEye, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 25\n                  }, this), \" Ver Etiqueta\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-card full-width\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"\\uD83D\\uDCE6 Productos (\", ((_selectedOrder$items = selectedOrder.items) === null || _selectedOrder$items === void 0 ? void 0 : _selectedOrder$items.length) || 0, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-items-list\",\n              children: (_selectedOrder$items2 = selectedOrder.items) === null || _selectedOrder$items2 === void 0 ? void 0 : _selectedOrder$items2.map((item, index) => {\n                var _item$product;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"item-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"item-main\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"item-qty\",\n                      children: [item.quantity, \"x\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"item-name\",\n                      children: ((_item$product = item.product) === null || _item$product === void 0 ? void 0 : _item$product.name) || 'Producto'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 318,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"item-subtotal\",\n                    children: formatPrice(item.price * item.quantity)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 320,\n                    columnNumber: 23\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-total-display\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total Pedido:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: formatPrice(selectedOrder.totalAmount)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminOrders, \"evgyMLs3vQubmvxWeEpDfUqm/vk=\");\n_c = AdminOrders;\nexport default AdminOrders;\nvar _c;\n$RefreshReg$(_c, \"AdminOrders\");","map":{"version":3,"names":["React","useState","useEffect","useRef","FaEye","FaEdit","FaPhone","FaDownload","axios","toast","jsxDEV","_jsxDEV","AdminOrders","_s","_selectedOrder$user","_selectedOrder$shippi","_selectedOrder$shippi2","_selectedOrder$shippi3","_selectedOrder$shippi4","_selectedOrder$items","_selectedOrder$items2","orders","setOrders","loading","setLoading","refreshing","setRefreshing","selectedOrder","setSelectedOrder","showDetailModal","setShowDetailModal","statusUpdate","setStatusUpdate","orderStatus","paymentStatus","error","setError","notifiedOrders","Set","isFirstLoad","API_URL","process","env","REACT_APP_API_URL","loadOrders","Notification","permission","requestPermission","interval","setInterval","clearInterval","newOrders","filter","o","current","has","_id","length","forEach","add","handleNewOrderNotification","audio","Audio","play","catch","order","_order$user","success","slice","toUpperCase","user","name","formatPrice","totalAmount","position","autoClose","navigator","vibrate","body","icon","initial","token","sessionStorage","getItem","response","get","headers","Authorization","ordersData","Array","isArray","data","_error$response","_error$response$data","message","downloadLabel","tracking","trackingNumber","loadingToast","method","url","responseType","update","render","type","isLoading","blob","Blob","window","URL","createObjectURL","link","document","createElement","href","download","appendChild","click","removeChild","revokeObjectURL","err","_err$response","_err$response2","msg","status","viewLabel","open","price","Intl","NumberFormat","style","currency","format","getStatusBadge","pendiente","procesando","enviado","entregado","cancelado","pagado","fallido","getStatusLabel","openDetailModal","closeDetailModal","updateOrderStatus","put","_error$response2","_error$response2$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","fontSize","marginLeft","map","_order$user2","phone","display","gap","title","background","color","e","stopPropagation","shippingAddress","street","city","postalCode","country","marginTop","marginBottom","value","onChange","target","padding","borderRadius","carrier","currentStatus","flex","items","item","index","_item$product","quantity","product","_c","$RefreshReg$"],"sources":["C:/Users/ashu_/Documents/ecommerce-sim/frontend/src/pages/admin/AdminOrders.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { FaEye, FaEdit, FaPhone, FaDownload } from 'react-icons/fa';\nimport axios from 'axios';\nimport '../../styles/AdminOrders.css';\nimport { toast } from 'react-toastify';\n\nconst AdminOrders = () => {\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [statusUpdate, setStatusUpdate] = useState({ orderStatus: '', paymentStatus: '' });\n  const [error, setError] = useState(null);\n\n  const notifiedOrders = useRef(new Set());\n  const isFirstLoad = useRef(true);\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n  useEffect(() => {\n    loadOrders(true);\n    if (Notification.permission === 'default') Notification.requestPermission();\n    const interval = setInterval(() => loadOrders(false), 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  useEffect(() => {\n    const newOrders = orders.filter(\n      o => !notifiedOrders.current.has(o._id) && o.orderStatus === 'pendiente'\n    );\n    if (newOrders.length > 0 && !isFirstLoad.current) {\n      newOrders.forEach(o => notifiedOrders.current.add(o._id));\n      handleNewOrderNotification(newOrders);\n    }\n  }, [orders]);\n\n  const handleNewOrderNotification = (newOrders) => {\n    const audio = new Audio('https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3');\n    audio.play().catch(() => {});\n\n    newOrders.forEach(order => {\n      toast.success(\n        `ðŸ”” Â¡NUEVO PEDIDO! #${order._id.slice(-6).toUpperCase()}\\nCliente: ${order.user?.name || 'Desconocido'}\\nTotal: ${formatPrice(order.totalAmount)}`,\n        { position: 'top-right', autoClose: 8000 }\n      );\n    });\n\n    if (navigator.vibrate) navigator.vibrate([200, 100, 200]);\n\n    if (Notification.permission === 'granted') {\n      new Notification('ðŸ›’ Nuevo pedido recibido', {\n        body: `${newOrders.length} pedido(s) nuevo(s)`,\n        icon: '/logo192.png'\n      });\n    }\n  };\n\n  const loadOrders = async (initial = false) => {\n    try {\n      if (initial) setLoading(true);\n      setRefreshing(true);\n      setError(null);\n      const token = sessionStorage.getItem('token');\n      if (!token) { setError('No estÃ¡s autenticado.'); setLoading(false); return; }\n\n      const response = await axios.get(`${API_URL}/orders`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n\n      const ordersData = Array.isArray(response.data) ? response.data : [];\n      setOrders(ordersData);\n\n      if (initial) {\n        ordersData.forEach(o => notifiedOrders.current.add(o._id));\n        isFirstLoad.current = false;\n      }\n    } catch (error) {\n      if (initial) setError(error.response?.data?.message || 'Error al cargar los pedidos');\n    } finally {\n      setLoading(false);\n      setRefreshing(false);\n    }\n  };\n\n  // âœ… Solo descargar â€” el tracking ya existe desde que se creÃ³ el pedido\n  const downloadLabel = async (order) => {\n    try {\n      const tracking = order.tracking;\n      if (!tracking?.trackingNumber) {\n        toast.error('Este pedido aÃºn no tiene etiqueta generada');\n        return;\n      }\n\n      const token = sessionStorage.getItem('token');\n      if (!token) { toast.error('SesiÃ³n expirada'); return; }\n\n      const loadingToast = toast.loading('Descargando etiqueta...');\n\n      const response = await axios({\n        method: 'GET',\n        url: `${API_URL}/tracking/${tracking.trackingNumber}/label`,\n        headers: { Authorization: `Bearer ${token}` },\n        responseType: 'blob'\n      });\n\n      toast.update(loadingToast, { render: 'âœ… Descargando...', type: 'success', isLoading: false, autoClose: 1000 });\n\n      const blob = new Blob([response.data], { type: 'application/pdf' });\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `etiqueta-${tracking.trackingNumber}.pdf`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      const msg = err.response?.status === 404\n        ? 'Etiqueta aÃºn no disponible, espera unos segundos y vuelve a intentarlo'\n        : err.response?.status === 401\n        ? 'SesiÃ³n expirada'\n        : 'Error al descargar la etiqueta';\n      toast.error(msg);\n    }\n  };\n\n  const viewLabel = (order) => {\n    const tracking = order.tracking;\n    if (!tracking?.trackingNumber) { toast.error('Sin etiqueta disponible'); return; }\n    const token = sessionStorage.getItem('token');\n    window.open(`${API_URL}/tracking/${tracking.trackingNumber}/label/preview?token=${token}`, '_blank');\n  };\n\n  const formatPrice = (price) =>\n    new Intl.NumberFormat('es-ES', { style: 'currency', currency: 'EUR' }).format(price);\n\n  const getStatusBadge = (status) => ({\n    pendiente: 'badge-warning', procesando: 'badge-info', enviado: 'badge-primary',\n    entregado: 'badge-success', cancelado: 'badge-danger', pagado: 'badge-success', fallido: 'badge-danger'\n  }[status] || 'badge-secondary');\n\n  const getStatusLabel = (status) => ({\n    pendiente: 'Pendiente', procesando: 'Procesando', enviado: 'Enviado',\n    entregado: 'Entregado', cancelado: 'Cancelado', pagado: 'Pagado', fallido: 'Fallido'\n  }[status] || status);\n\n  const openDetailModal = (order) => {\n    setSelectedOrder(order);\n    setStatusUpdate({ orderStatus: order.orderStatus, paymentStatus: order.paymentStatus });\n    setShowDetailModal(true);\n  };\n\n  const closeDetailModal = () => { setShowDetailModal(false); setSelectedOrder(null); };\n\n  const updateOrderStatus = async () => {\n    try {\n      const token = sessionStorage.getItem('token');\n      await axios.put(`${API_URL}/orders/${selectedOrder._id}/status`, statusUpdate, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      toast.success('âœ… Estado actualizado y notificaciÃ³n enviada al cliente');\n      closeDetailModal();\n      loadOrders(false);\n    } catch (error) {\n      toast.error(error.response?.data?.message || 'Error al actualizar');\n    }\n  };\n\n  if (loading) return <div className=\"admin-orders\"><div className=\"loading-container\"><div className=\"spinner-large\"></div><p>Cargando pedidos...</p></div></div>;\n  if (error) return <div className=\"admin-orders\"><div className=\"error-container\"><h3>Error</h3><p>{error}</p><button className=\"btn btn-primary\" onClick={() => loadOrders(true)}>ðŸ”„ Reintentar</button></div></div>;\n\n  return (\n    <div className=\"admin-orders\">\n      <div className=\"page-header\">\n        <h2>GestiÃ³n de Pedidos {refreshing && <small style={{ fontSize: '12px', marginLeft: '10px' }}>ðŸ”„ Actualizando...</small>}</h2>\n        <div className=\"orders-stats\">\n          <span className=\"stat-item\">Total: <strong>{orders.length}</strong></span>\n          <span className=\"stat-item\">Pendientes: <strong>{orders.filter(o => o.orderStatus === 'pendiente').length}</strong></span>\n          <span className=\"stat-item\">Con etiqueta: <strong>{orders.filter(o => o.tracking).length}</strong></span>\n        </div>\n        <button className=\"btn btn-secondary\" onClick={() => loadOrders(true)}>ðŸ”„ Actualizar</button>\n      </div>\n\n      <div className=\"table-responsive\">\n        <table className=\"admin-table\">\n          <thead>\n            <tr>\n              <th>ID Pedido</th>\n              <th>Cliente</th>\n              <th>Total</th>\n              <th>Estado Pago</th>\n              <th>Estado Pedido</th>\n              <th>Etiqueta</th>\n              <th>Acciones</th>\n            </tr>\n          </thead>\n          <tbody>\n            {orders.map(order => (\n              <tr key={order._id} className={order.orderStatus === 'pendiente' ? 'row-urgent' : ''}>\n                <td><strong>#{order._id.slice(-8)}</strong></td>\n                <td>\n                  <div className=\"customer-cell\">\n                    <strong>{order.user?.name || 'Usuario'}</strong>\n                    <small><FaPhone /> {order.phone || 'S/T'}</small>\n                  </div>\n                </td>\n                <td><strong>{formatPrice(order.totalAmount)}</strong></td>\n                <td><span className={`badge ${getStatusBadge(order.paymentStatus)}`}>{getStatusLabel(order.paymentStatus)}</span></td>\n                <td><span className={`badge ${getStatusBadge(order.orderStatus)}`}>{getStatusLabel(order.orderStatus)}</span></td>\n                <td>\n                  {/* âœ… Solo botÃ³n descargar â€” sin botÃ³n \"Generar\" */}\n                  {order.tracking ? (\n                    <div style={{ display: 'flex', gap: '5px' }}>\n                      <button\n                        className=\"btn-table btn-pdf\"\n                        onClick={() => downloadLabel(order)}\n                        title=\"Descargar etiqueta PDF\"\n                      >\n                        <FaDownload /> Descargar\n                      </button>\n                      <button\n                        className=\"btn-table btn-view\"\n                        onClick={() => viewLabel(order)}\n                        title=\"Ver etiqueta\"\n                        style={{ background: '#3498db' }}\n                      >\n                        <FaEye />\n                      </button>\n                    </div>\n                  ) : (\n                    <span style={{ color: '#999', fontSize: '0.8rem' }}>â³ Generando...</span>\n                  )}\n                </td>\n                <td>\n                  <div className=\"action-buttons\">\n                    <button className=\"btn-icon btn-view\" onClick={() => openDetailModal(order)} title=\"Ver detalles\">\n                      <FaEye />\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {showDetailModal && selectedOrder && (\n        <div className=\"modal-overlay\" onClick={closeDetailModal}>\n          <div className=\"modal-content large\" onClick={e => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h3>GestiÃ³n de Pedido #{selectedOrder._id.slice(-8).toUpperCase()}</h3>\n              <button className=\"modal-close\" onClick={closeDetailModal}>&times;</button>\n            </div>\n\n            <div className=\"order-detail-container\">\n              <div className=\"detail-grid-top\">\n                <div className=\"detail-card\">\n                  <h4>ðŸ“ DirecciÃ³n de EnvÃ­o</h4>\n                  <div className=\"address-box\">\n                    <p><strong>{selectedOrder.user?.name || 'Cliente'}</strong></p>\n                    <p>{selectedOrder.shippingAddress?.street}</p>\n                    <p>{selectedOrder.shippingAddress?.city}, {selectedOrder.shippingAddress?.postalCode}</p>\n                    <p>{selectedOrder.shippingAddress?.country}</p>\n                    <p style={{ marginTop: '10px', fontSize: '0.85rem', color: '#666' }}>\n                      ðŸ“ž {selectedOrder.phone || 'Sin telÃ©fono'}\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"detail-card\">\n                  <h4>âš™ï¸ Estado del Pedido</h4>\n                  <div className=\"status-update-form\">\n                    <div className=\"form-group\">\n                      <label style={{ fontSize: '0.8rem', color: '#7f8c8d', display: 'block', marginBottom: '5px' }}>\n                        Cambiar Estado (se enviarÃ¡ email al cliente)\n                      </label>\n                      <select name=\"orderStatus\" value={statusUpdate.orderStatus} onChange={e => setStatusUpdate({ ...statusUpdate, [e.target.name]: e.target.value })} className=\"form-select\">\n                        <option value=\"pendiente\">Pendiente</option>\n                        <option value=\"procesando\">Procesando</option>\n                        <option value=\"enviado\">Enviado</option>\n                        <option value=\"entregado\">Entregado</option>\n                        <option value=\"cancelado\">Cancelado</option>\n                      </select>\n                    </div>\n                    <button className=\"btn-update-status\" onClick={updateOrderStatus}>\n                      <FaEdit /> Guardar y Notificar\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              {selectedOrder.tracking && (\n                <div className=\"detail-card\">\n                  <h4>ðŸšš InformaciÃ³n de EnvÃ­o</h4>\n                  <div style={{ padding: '15px', background: '#f8f9fa', borderRadius: '8px' }}>\n                    <p><strong>Tracking:</strong> {selectedOrder.tracking.trackingNumber}</p>\n                    <p><strong>Transportista:</strong> {selectedOrder.tracking.carrier || 'Correos Express (Simulado)'}</p>\n                    <p><strong>Estado:</strong> {selectedOrder.tracking.currentStatus || 'pendiente'}</p>\n                    <div style={{ marginTop: '15px', display: 'flex', gap: '10px' }}>\n                      <button className=\"btn-update-status\" onClick={() => downloadLabel(selectedOrder)} style={{ flex: 1 }}>\n                        <FaDownload /> Descargar Etiqueta\n                      </button>\n                      <button className=\"btn-update-status\" onClick={() => viewLabel(selectedOrder)} style={{ flex: 1, background: '#3498db' }}>\n                        <FaEye /> Ver Etiqueta\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              <div className=\"detail-card full-width\">\n                <h4>ðŸ“¦ Productos ({selectedOrder.items?.length || 0})</h4>\n                <div className=\"order-items-list\">\n                  {selectedOrder.items?.map((item, index) => (\n                    <div key={index} className=\"item-row\">\n                      <div className=\"item-main\">\n                        <span className=\"item-qty\">{item.quantity}x</span>\n                        <span className=\"item-name\">{item.product?.name || 'Producto'}</span>\n                      </div>\n                      <span className=\"item-subtotal\">{formatPrice(item.price * item.quantity)}</span>\n                    </div>\n                  ))}\n                </div>\n                <div className=\"order-total-display\">\n                  <span>Total Pedido:</span>\n                  <strong>{formatPrice(selectedOrder.totalAmount)}</strong>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AdminOrders;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}