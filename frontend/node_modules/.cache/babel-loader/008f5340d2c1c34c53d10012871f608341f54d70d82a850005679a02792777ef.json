{"ast":null,"code":"const express = require('express');\nconst router = express.Router();\nconst jwt = require('jsonwebtoken');\nconst User = require('../models/User');\nconst VerificationCode = require('../models/VerificationCode');\nconst {\n  sendWelcomeEmail,\n  sendVerificationCode\n} = require('../utils/emailService');\n\n// --- UTILIDADES ---\n\n// Generar código de 6 dígitos\nconst generateCode = () => {\n  return Math.floor(100000 + Math.random() * 900000).toString();\n};\n\n// Middleware de autenticación\nconst auth = async (req, res, next) => {\n  try {\n    var _req$header;\n    const token = ((_req$header = req.header('Authorization')) === null || _req$header === void 0 ? void 0 : _req$header.replace('Bearer ', '')) || req.query.token;\n    if (!token) throw new Error('Token no proporcionado');\n    const decoded = jwt.verify(token, process.env.JWT_SECRET);\n    const user = await User.findById(decoded.userId);\n    if (!user) throw new Error('Usuario no encontrado');\n    req.user = user;\n    req.userId = user._id;\n    next();\n  } catch (error) {\n    res.status(401).json({\n      message: 'Por favor autentícate'\n    });\n  }\n};\n\n// --- RUTAS DE REGISTRO ---\n\n// Registro Paso 1: Enviar código de verificación\nrouter.post('/register/send-code', async (req, res) => {\n  try {\n    const {\n      email,\n      name\n    } = req.body;\n    const existingUser = await User.findOne({\n      email\n    });\n    if (existingUser) return res.status(400).json({\n      message: 'El email ya está registrado'\n    });\n    const code = generateCode();\n    await VerificationCode.findOneAndUpdate({\n      email\n    }, {\n      email,\n      code,\n      expiresAt: new Date(Date.now() + 10 * 60 * 1000),\n      verified: false\n    }, {\n      upsert: true,\n      new: true\n    });\n    await sendVerificationCode(email, code, name);\n    res.json({\n      message: 'Código de verificación enviado a tu email',\n      email\n    });\n  } catch (error) {\n    res.status(500).json({\n      message: 'Error al enviar código',\n      error: error.message\n    });\n  }\n});\n\n// Registro Paso 2: Verificar y crear usuario\nrouter.post('/register/verify-code', async (req, res) => {\n  try {\n    const {\n      email,\n      code,\n      name,\n      password\n    } = req.body;\n    const verification = await VerificationCode.findOne({\n      email,\n      code,\n      verified: false,\n      expiresAt: {\n        $gt: new Date()\n      }\n    });\n    if (!verification) return res.status(400).json({\n      message: 'Código inválido o expirado'\n    });\n    verification.verified = true;\n    await verification.save();\n    const user = new User({\n      name,\n      email,\n      password,\n      emailVerified: true\n    });\n    await user.save();\n    await sendWelcomeEmail(user);\n    const token = jwt.sign({\n      userId: user._id,\n      role: user.role\n    }, process.env.JWT_SECRET, {\n      expiresIn: '7d'\n    });\n    res.status(201).json({\n      token,\n      user: {\n        _id: user._id,\n        name: user.name,\n        email: user.email,\n        role: user.role\n      }\n    });\n  } catch (error) {\n    res.status(400).json({\n      message: 'Error al verificar',\n      error: error.message\n    });\n  }\n});\n\n// --- RUTAS DE LOGIN ---\n\nrouter.post('/login', async (req, res) => {\n  try {\n    const {\n      email,\n      password\n    } = req.body;\n    const user = await User.findOne({\n      email,\n      active: true\n    });\n    if (!user || !(await user.comparePassword(password))) {\n      return res.status(401).json({\n        message: 'Credenciales inválidas'\n      });\n    }\n    const token = jwt.sign({\n      userId: user._id,\n      role: user.role\n    }, process.env.JWT_SECRET, {\n      expiresIn: '7d'\n    });\n    res.json({\n      token,\n      user: {\n        _id: user._id,\n        name: user.name,\n        email: user.email,\n        role: user.role\n      }\n    });\n  } catch (error) {\n    res.status(500).json({\n      message: 'Error al iniciar sesión'\n    });\n  }\n});\n\n// --- RUTAS DE RECUPERACIÓN (OLVIDÉ MI CONTRASEÑA) ---\n\n// 1. Enviar código para recuperar\nrouter.post('/forgot-password', async (req, res) => {\n  try {\n    const {\n      email\n    } = req.body;\n    const user = await User.findOne({\n      email\n    });\n    if (!user) return res.status(404).json({\n      message: 'No existe un usuario con este email'\n    });\n    const code = generateCode();\n    await VerificationCode.findOneAndUpdate({\n      email\n    }, {\n      email,\n      code,\n      expiresAt: new Date(Date.now() + 15 * 60 * 1000),\n      verified: false\n    }, {\n      upsert: true,\n      new: true\n    });\n    await sendVerificationCode(email, code, user.name);\n    res.json({\n      success: true,\n      message: 'Código de recuperación enviado'\n    });\n  } catch (error) {\n    res.status(500).json({\n      message: 'Error al procesar la solicitud'\n    });\n  }\n});\n\n// 2. Resetear contraseña con el código\nrouter.post('/reset-password', async (req, res) => {\n  try {\n    const {\n      email,\n      code,\n      newPassword\n    } = req.body;\n    const verification = await VerificationCode.findOne({\n      email,\n      code,\n      verified: false,\n      expiresAt: {\n        $gt: new Date()\n      }\n    });\n    if (!verification) return res.status(400).json({\n      message: 'Código inválido o expirado'\n    });\n    const user = await User.findOne({\n      email\n    });\n    if (!user) return res.status(404).json({\n      message: 'Usuario no encontrado'\n    });\n    user.password = newPassword; // El pre-save de tu modelo User debe hashearla\n    await user.save();\n    verification.verified = true;\n    await verification.save();\n    res.json({\n      success: true,\n      message: 'Contraseña actualizada correctamente'\n    });\n  } catch (error) {\n    res.status(500).json({\n      message: 'Error al actualizar contraseña'\n    });\n  }\n});\n\n// --- RUTAS DE PERFIL ---\n\nrouter.get('/me', auth, async (req, res) => {\n  try {\n    const user = await User.findById(req.userId).select('-password');\n    res.json(user);\n  } catch (error) {\n    res.status(500).json({\n      message: 'Error del servidor'\n    });\n  }\n});\nrouter.put('/profile', auth, async (req, res) => {\n  try {\n    const user = await User.findByIdAndUpdate(req.userId, req.body, {\n      new: true\n    }).select('-password');\n    res.json(user);\n  } catch (error) {\n    res.status(400).json({\n      message: 'Error al actualizar'\n    });\n  }\n});\nmodule.exports = {\n  router,\n  auth\n};","map":{"version":3,"names":["express","require","router","Router","jwt","User","VerificationCode","sendWelcomeEmail","sendVerificationCode","generateCode","Math","floor","random","toString","auth","req","res","next","_req$header","token","header","replace","query","Error","decoded","verify","process","env","JWT_SECRET","user","findById","userId","_id","error","status","json","message","post","email","name","body","existingUser","findOne","code","findOneAndUpdate","expiresAt","Date","now","verified","upsert","new","password","verification","$gt","save","emailVerified","sign","role","expiresIn","active","comparePassword","success","newPassword","get","select","put","findByIdAndUpdate","module","exports"],"sources":["C:/Users/ashu_/Documents/ecommerce-sim/frontend/src/context/AuthContext.js"],"sourcesContent":["const express = require('express');\nconst router = express.Router();\nconst jwt = require('jsonwebtoken');\nconst User = require('../models/User');\nconst VerificationCode = require('../models/VerificationCode');\nconst { sendWelcomeEmail, sendVerificationCode } = require('../utils/emailService');\n\n// --- UTILIDADES ---\n\n// Generar código de 6 dígitos\nconst generateCode = () => {\n  return Math.floor(100000 + Math.random() * 900000).toString();\n};\n\n// Middleware de autenticación\nconst auth = async (req, res, next) => {\n  try {\n    const token = \n      req.header('Authorization')?.replace('Bearer ', '') || \n      req.query.token;\n    \n    if (!token) throw new Error('Token no proporcionado');\n\n    const decoded = jwt.verify(token, process.env.JWT_SECRET);\n    const user = await User.findById(decoded.userId);\n\n    if (!user) throw new Error('Usuario no encontrado');\n\n    req.user = user;\n    req.userId = user._id;\n    next();\n  } catch (error) {\n    res.status(401).json({ message: 'Por favor autentícate' });\n  }\n};\n\n// --- RUTAS DE REGISTRO ---\n\n// Registro Paso 1: Enviar código de verificación\nrouter.post('/register/send-code', async (req, res) => {\n  try {\n    const { email, name } = req.body;\n    const existingUser = await User.findOne({ email });\n    if (existingUser) return res.status(400).json({ message: 'El email ya está registrado' });\n\n    const code = generateCode();\n    await VerificationCode.findOneAndUpdate(\n      { email },\n      { email, code, expiresAt: new Date(Date.now() + 10 * 60 * 1000), verified: false },\n      { upsert: true, new: true }\n    );\n\n    await sendVerificationCode(email, code, name);\n    res.json({ message: 'Código de verificación enviado a tu email', email });\n  } catch (error) {\n    res.status(500).json({ message: 'Error al enviar código', error: error.message });\n  }\n});\n\n// Registro Paso 2: Verificar y crear usuario\nrouter.post('/register/verify-code', async (req, res) => {\n  try {\n    const { email, code, name, password } = req.body;\n    const verification = await VerificationCode.findOne({ \n      email, code, verified: false, expiresAt: { $gt: new Date() }\n    });\n\n    if (!verification) return res.status(400).json({ message: 'Código inválido o expirado' });\n\n    verification.verified = true;\n    await verification.save();\n\n    const user = new User({ name, email, password, emailVerified: true });\n    await user.save();\n    await sendWelcomeEmail(user);\n\n    const token = jwt.sign({ userId: user._id, role: user.role }, process.env.JWT_SECRET, { expiresIn: '7d' });\n    res.status(201).json({ token, user: { _id: user._id, name: user.name, email: user.email, role: user.role } });\n  } catch (error) {\n    res.status(400).json({ message: 'Error al verificar', error: error.message });\n  }\n});\n\n// --- RUTAS DE LOGIN ---\n\nrouter.post('/login', async (req, res) => {\n  try {\n    const { email, password } = req.body;\n    const user = await User.findOne({ email, active: true });\n    \n    if (!user || !(await user.comparePassword(password))) {\n      return res.status(401).json({ message: 'Credenciales inválidas' });\n    }\n\n    const token = jwt.sign({ userId: user._id, role: user.role }, process.env.JWT_SECRET, { expiresIn: '7d' });\n    res.json({ token, user: { _id: user._id, name: user.name, email: user.email, role: user.role } });\n  } catch (error) {\n    res.status(500).json({ message: 'Error al iniciar sesión' });\n  }\n});\n\n// --- RUTAS DE RECUPERACIÓN (OLVIDÉ MI CONTRASEÑA) ---\n\n// 1. Enviar código para recuperar\nrouter.post('/forgot-password', async (req, res) => {\n  try {\n    const { email } = req.body;\n    const user = await User.findOne({ email });\n    if (!user) return res.status(404).json({ message: 'No existe un usuario con este email' });\n\n    const code = generateCode();\n    await VerificationCode.findOneAndUpdate(\n      { email },\n      { email, code, expiresAt: new Date(Date.now() + 15 * 60 * 1000), verified: false },\n      { upsert: true, new: true }\n    );\n\n    await sendVerificationCode(email, code, user.name);\n    res.json({ success: true, message: 'Código de recuperación enviado' });\n  } catch (error) {\n    res.status(500).json({ message: 'Error al procesar la solicitud' });\n  }\n});\n\n// 2. Resetear contraseña con el código\nrouter.post('/reset-password', async (req, res) => {\n  try {\n    const { email, code, newPassword } = req.body;\n    const verification = await VerificationCode.findOne({ \n      email, code, verified: false, expiresAt: { $gt: new Date() }\n    });\n\n    if (!verification) return res.status(400).json({ message: 'Código inválido o expirado' });\n\n    const user = await User.findOne({ email });\n    if (!user) return res.status(404).json({ message: 'Usuario no encontrado' });\n\n    user.password = newPassword; // El pre-save de tu modelo User debe hashearla\n    await user.save();\n\n    verification.verified = true;\n    await verification.save();\n\n    res.json({ success: true, message: 'Contraseña actualizada correctamente' });\n  } catch (error) {\n    res.status(500).json({ message: 'Error al actualizar contraseña' });\n  }\n});\n\n// --- RUTAS DE PERFIL ---\n\nrouter.get('/me', auth, async (req, res) => {\n  try {\n    const user = await User.findById(req.userId).select('-password');\n    res.json(user);\n  } catch (error) {\n    res.status(500).json({ message: 'Error del servidor' });\n  }\n});\n\nrouter.put('/profile', auth, async (req, res) => {\n  try {\n    const user = await User.findByIdAndUpdate(req.userId, req.body, { new: true }).select('-password');\n    res.json(user);\n  } catch (error) {\n    res.status(400).json({ message: 'Error al actualizar' });\n  }\n});\n\nmodule.exports = { router, auth };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}