{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ashu_\\\\Documents\\\\ecommerce-sim\\\\frontend\\\\src\\\\pages\\\\admin\\\\AdminOrders.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { FaEye, FaEdit, FaPhone, FaTruck, FaFilePdf, FaSync, FaPrint, FaCheckCircle, FaDownload } from 'react-icons/fa';\nimport axios from 'axios';\nimport '../../styles/AdminOrders.css';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminOrders = () => {\n  _s();\n  var _selectedOrder$user, _selectedOrder$shippi, _selectedOrder$shippi2, _selectedOrder$shippi3, _selectedOrder$shippi4, _selectedOrder$items, _selectedOrder$items2;\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [statusUpdate, setStatusUpdate] = useState({\n    orderStatus: '',\n    paymentStatus: ''\n  });\n  const [error, setError] = useState(null);\n  const notifiedOrders = useRef(new Set());\n  const isFirstLoad = useRef(true);\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n  useEffect(() => {\n    loadOrders(true);\n    if (Notification.permission === \"default\") {\n      Notification.requestPermission();\n    }\n    const interval = setInterval(() => loadOrders(false), 30000);\n    return () => clearInterval(interval);\n  }, []);\n  useEffect(() => {\n    const newOrders = orders.filter(o => !notifiedOrders.current.has(o._id) && o.orderStatus === 'pendiente');\n    if (newOrders.length > 0 && !isFirstLoad.current) {\n      newOrders.forEach(order => notifiedOrders.current.add(order._id));\n      handleNewOrderNotification(newOrders);\n    }\n  }, [orders]);\n  const handleNewOrderNotification = newOrders => {\n    const audio = new Audio('https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3');\n    audio.play().catch(() => console.log('No se pudo reproducir el sonido'));\n    newOrders.forEach(order => {\n      var _order$user;\n      toast.success(`ðŸ”” Â¡NUEVO PEDIDO! #${order._id.slice(-6).toUpperCase()}\\n` + `Cliente: ${((_order$user = order.user) === null || _order$user === void 0 ? void 0 : _order$user.name) || 'Desconocido'}\\n` + `Total: ${formatPrice(order.totalAmount)}`, {\n        position: \"top-right\",\n        autoClose: 8000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true\n      });\n    });\n    if (navigator.vibrate) {\n      navigator.vibrate([200, 100, 200]);\n    }\n    if (Notification.permission === \"granted\") {\n      new Notification(\"ðŸ›’ Nuevo pedido recibido\", {\n        body: `${newOrders.length} pedido(s) nuevo(s). Total: ${formatPrice(newOrders.reduce((sum, o) => sum + o.totalAmount, 0))}`,\n        icon: \"/logo192.png\",\n        badge: \"/logo192.png\"\n      });\n    }\n  };\n  const loadOrders = async (initial = false) => {\n    try {\n      if (initial) setLoading(true);\n      setRefreshing(true);\n      setError(null);\n      const token = sessionStorage.getItem('token');\n      if (!token) {\n        setError('No estÃ¡s autenticado. Por favor, inicia sesiÃ³n.');\n        setLoading(false);\n        return;\n      }\n      const response = await axios.get(`${API_URL}/orders`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      const ordersData = Array.isArray(response.data) ? response.data : [];\n      setOrders(ordersData);\n      if (initial) {\n        ordersData.forEach(o => notifiedOrders.current.add(o._id));\n        isFirstLoad.current = false;\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('âŒ Error al cargar pedidos:', error);\n      if (initial) setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Error al cargar los pedidos');\n    } finally {\n      setLoading(false);\n      setRefreshing(false);\n    }\n  };\n\n  // ðŸ”§ FUNCIÃ“N CORREGIDA PARA DESCARGAR ETIQUETA\n  const downloadLabel = async order => {\n    try {\n      // Obtener tracking desde diferentes posibles ubicaciones\n      const tracking = order.tracking;\n      if (!tracking) {\n        toast.error('Este pedido no tiene tracking asignado');\n        return;\n      }\n      const trackingNumber = tracking.trackingNumber || tracking._id;\n      if (!trackingNumber) {\n        toast.error('No se pudo obtener el nÃºmero de tracking');\n        console.error('Tracking object:', tracking);\n        return;\n      }\n      console.log('ðŸ“¥ Descargando etiqueta para tracking:', trackingNumber);\n      const token = sessionStorage.getItem('token');\n      if (!token) {\n        toast.error('SesiÃ³n expirada. Por favor, vuelve a iniciar sesiÃ³n.');\n        return;\n      }\n\n      // Mostrar toast de carga\n      const loadingToast = toast.loading('Descargando etiqueta...');\n\n      // Hacer la peticiÃ³n con axios configurado correctamente\n      const response = await axios({\n        method: 'GET',\n        url: `${API_URL}/tracking/${trackingNumber}/label`,\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        responseType: 'blob' // MUY IMPORTANTE\n      });\n\n      // Actualizar el toast\n      toast.update(loadingToast, {\n        render: 'âœ… Descargando...',\n        type: 'success',\n        isLoading: false,\n        autoClose: 1000\n      });\n\n      // Crear el blob y descargarlo\n      const blob = new Blob([response.data], {\n        type: 'application/pdf'\n      });\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `etiqueta-${trackingNumber}.pdf`;\n\n      // Agregar al DOM, hacer click y remover\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n\n      // Limpiar el objeto URL\n      window.URL.revokeObjectURL(url);\n      console.log('âœ… Etiqueta descargada exitosamente');\n    } catch (err) {\n      var _err$response, _err$response2, _err$response3, _err$response3$data;\n      console.error('âŒ Error completo:', err);\n      console.error('Response:', err.response);\n      let errorMessage = 'Error al descargar la etiqueta';\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 404) {\n        errorMessage = 'No se encontrÃ³ la etiqueta para este pedido';\n      } else if (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 401) {\n        errorMessage = 'SesiÃ³n expirada. Vuelve a iniciar sesiÃ³n';\n      } else if ((_err$response3 = err.response) !== null && _err$response3 !== void 0 && (_err$response3$data = _err$response3.data) !== null && _err$response3$data !== void 0 && _err$response3$data.message) {\n        errorMessage = err.response.data.message;\n      }\n      toast.error(errorMessage);\n    }\n  };\n\n  // Ver etiqueta en nueva pestaÃ±a\n  const viewLabel = order => {\n    try {\n      const tracking = order.tracking;\n      if (!tracking) {\n        toast.error('Este pedido no tiene tracking asignado');\n        return;\n      }\n      const trackingNumber = tracking.trackingNumber || tracking._id;\n      if (!trackingNumber) {\n        toast.error('No se pudo obtener el nÃºmero de tracking');\n        return;\n      }\n      const token = sessionStorage.getItem('token');\n\n      // Abrir en nueva pestaÃ±a con el token en la URL\n      window.open(`${API_URL}/tracking/${trackingNumber}/label/preview?token=${token}`, '_blank');\n    } catch (err) {\n      console.error('Error abriendo vista previa:', err);\n      toast.error('Error al abrir la vista previa');\n    }\n  };\n  const handleShipping = async order => {\n    try {\n      const token = sessionStorage.getItem('token');\n      const response = await axios.post(`${API_URL}/orders/${order._id}/shipping`, {}, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.data.trackingId) {\n        toast.success(`âœ… Pre-registro completado. CÃ³digo: ${response.data.trackingId}`);\n        loadOrders(false);\n      }\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      console.error(\"Error al realizar pre-registro\", err);\n      toast.error(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || \"Error al realizar el pre-registro de envÃ­o\");\n    }\n  };\n  const handleCreateTracking = async orderId => {\n    const token = sessionStorage.getItem('token');\n    if (!token) {\n      toast.error(\"SesiÃ³n expirada. Vuelve a iniciar sesiÃ³n.\");\n      return;\n    }\n    try {\n      const loadingToast = toast.loading(\"â³ Generando etiqueta simulada...\");\n      const response = await axios.post(`${API_URL}/tracking/create`, {\n        orderId\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      toast.update(loadingToast, {\n        render: \"âœ… Etiqueta generada con Ã©xito\",\n        type: \"success\",\n        isLoading: false,\n        autoClose: 3000\n      });\n      loadOrders(false);\n    } catch (error) {\n      var _error$response2, _error$response3, _error$response3$data;\n      console.error(\"Error detallado:\", (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data);\n      toast.error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || \"Error al generar la etiqueta\");\n    }\n  };\n  const formatPrice = price => {\n    return new Intl.NumberFormat('es-ES', {\n      style: 'currency',\n      currency: 'EUR'\n    }).format(price);\n  };\n  const getStatusBadge = status => {\n    const statusMap = {\n      pendiente: 'badge-warning',\n      procesando: 'badge-info',\n      enviado: 'badge-primary',\n      entregado: 'badge-success',\n      cancelado: 'badge-danger',\n      pagado: 'badge-success',\n      fallido: 'badge-danger'\n    };\n    return statusMap[status] || 'badge-secondary';\n  };\n  const getStatusLabel = status => {\n    const labels = {\n      pendiente: 'Pendiente',\n      procesando: 'Procesando',\n      enviado: 'Enviado',\n      entregado: 'Entregado',\n      cancelado: 'Cancelado',\n      pagado: 'Pagado',\n      fallido: 'Fallido'\n    };\n    return labels[status] || status;\n  };\n  const openDetailModal = order => {\n    setSelectedOrder(order);\n    setStatusUpdate({\n      orderStatus: order.orderStatus,\n      paymentStatus: order.paymentStatus\n    });\n    setShowDetailModal(true);\n  };\n  const closeDetailModal = () => {\n    setShowDetailModal(false);\n    setSelectedOrder(null);\n  };\n  const handleStatusChange = e => {\n    setStatusUpdate({\n      ...statusUpdate,\n      [e.target.name]: e.target.value\n    });\n  };\n  const updateOrderStatus = async () => {\n    try {\n      const token = sessionStorage.getItem('token');\n      await axios.put(`${API_URL}/orders/${selectedOrder._id}/status`, statusUpdate, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      toast.success('âœ… Estado actualizado y notificaciÃ³n enviada al cliente');\n      closeDetailModal();\n      loadOrders(false);\n    } catch (error) {\n      var _error$response4, _error$response4$data;\n      toast.error(((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) || 'Error al actualizar');\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-orders\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 88\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Cargando pedidos...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 125\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 53\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 323,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-orders\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 84\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 98\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: () => loadOrders(true),\n        children: \"\\uD83D\\uDD04 Reintentar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 112\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 51\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 325,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-orders\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Gesti\\xF3n de Pedidos \", refreshing && /*#__PURE__*/_jsxDEV(\"small\", {\n          style: {\n            fontSize: '12px',\n            marginLeft: '10px'\n          },\n          children: \"\\uD83D\\uDD04 Actualizando...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"orders-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-item\",\n          children: [\"Total: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: orders.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 46\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-item\",\n          children: [\"Pendientes: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: orders.filter(o => o.orderStatus === 'pendiente').length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 51\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stat-item\",\n          children: [\"Con etiqueta: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: orders.filter(o => o.tracking).length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 53\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: () => loadOrders(true),\n        children: \"\\uD83D\\uDD04 Actualizar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-responsive\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"ID Pedido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Cliente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Estado Pago\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Estado Pedido\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Etiqueta\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Acciones\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: orders.map(order => {\n            var _order$user2;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: order.orderStatus === 'pendiente' ? 'row-urgent' : '',\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [\"#\", order._id.slice(-8)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"customer-cell\",\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: ((_order$user2 = order.user) === null || _order$user2 === void 0 ? void 0 : _order$user2.name) || 'Usuario'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: [/*#__PURE__*/_jsxDEV(FaPhone, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 359,\n                      columnNumber: 28\n                    }, this), \" \", order.phone || 'S/T']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: formatPrice(order.totalAmount)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `badge ${getStatusBadge(order.paymentStatus)}`,\n                  children: getStatusLabel(order.paymentStatus)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `badge ${getStatusBadge(order.orderStatus)}`,\n                  children: getStatusLabel(order.orderStatus)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: !order.tracking ? /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-table btn-generate\",\n                  onClick: () => handleCreateTracking(order._id),\n                  children: [/*#__PURE__*/_jsxDEV(FaFilePdf, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 23\n                  }, this), \" Generar Etiqueta\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    gap: '5px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn-table btn-pdf\",\n                    onClick: () => downloadLabel(order),\n                    title: \"Descargar etiqueta PDF\",\n                    children: [/*#__PURE__*/_jsxDEV(FaDownload, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 377,\n                      columnNumber: 25\n                    }, this), \" Descargar\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn-table btn-view\",\n                    onClick: () => viewLabel(order),\n                    title: \"Ver etiqueta\",\n                    style: {\n                      background: '#3498db'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(FaEye, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 385,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"action-buttons\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn-icon btn-view\",\n                    onClick: () => openDetailModal(order),\n                    title: \"Ver detalles\",\n                    children: /*#__PURE__*/_jsxDEV(FaEye, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 393,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 17\n              }, this)]\n            }, order._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this), showDetailModal && selectedOrder && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: closeDetailModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content large\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Gesti\\xF3n de Pedido #\", selectedOrder._id.slice(-8).toUpperCase()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-close\",\n            onClick: closeDetailModal,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-detail-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-grid-top\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"\\uD83D\\uDCCD Direcci\\xF3n de Env\\xEDo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"address-box\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: ((_selectedOrder$user = selectedOrder.user) === null || _selectedOrder$user === void 0 ? void 0 : _selectedOrder$user.name) || 'Cliente'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 416,\n                    columnNumber: 24\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: (_selectedOrder$shippi = selectedOrder.shippingAddress) === null || _selectedOrder$shippi === void 0 ? void 0 : _selectedOrder$shippi.street\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [(_selectedOrder$shippi2 = selectedOrder.shippingAddress) === null || _selectedOrder$shippi2 === void 0 ? void 0 : _selectedOrder$shippi2.city, \", \", (_selectedOrder$shippi3 = selectedOrder.shippingAddress) === null || _selectedOrder$shippi3 === void 0 ? void 0 : _selectedOrder$shippi3.postalCode]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: (_selectedOrder$shippi4 = selectedOrder.shippingAddress) === null || _selectedOrder$shippi4 === void 0 ? void 0 : _selectedOrder$shippi4.country\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    marginTop: '10px',\n                    fontSize: '0.85rem',\n                    color: '#666'\n                  },\n                  children: [\"\\uD83D\\uDCDE \", selectedOrder.phone || 'Sin telÃ©fono']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"\\u2699\\uFE0F Estado del Pedido\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"status-update-form\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    style: {\n                      fontSize: '0.8rem',\n                      color: '#7f8c8d',\n                      display: 'block',\n                      marginBottom: '5px'\n                    },\n                    children: \"Cambiar Estado (se enviar\\xE1 email al cliente)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    name: \"orderStatus\",\n                    value: statusUpdate.orderStatus,\n                    onChange: handleStatusChange,\n                    className: \"form-select\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"pendiente\",\n                      children: \"Pendiente\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 439,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"procesando\",\n                      children: \"Procesando\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 440,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"enviado\",\n                      children: \"Enviado\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 441,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"entregado\",\n                      children: \"Entregado\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 442,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"cancelado\",\n                      children: \"Cancelado\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 443,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 433,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-update-status\",\n                  onClick: updateOrderStatus,\n                  children: [/*#__PURE__*/_jsxDEV(FaEdit, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 447,\n                    columnNumber: 23\n                  }, this), \" Guardar y Notificar\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 15\n          }, this), selectedOrder.tracking && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\uD83D\\uDE9A Informaci\\xF3n de Env\\xEDo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '15px',\n                background: '#f8f9fa',\n                borderRadius: '8px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Tracking:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 457,\n                  columnNumber: 24\n                }, this), \" \", selectedOrder.tracking.trackingNumber]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Transportista:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 458,\n                  columnNumber: 24\n                }, this), \" \", selectedOrder.tracking.carrier || 'Correos Express (Simulado)']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Estado:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 24\n                }, this), \" \", selectedOrder.tracking.currentStatus || 'pendiente']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '15px',\n                  display: 'flex',\n                  gap: '10px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-update-status\",\n                  onClick: () => downloadLabel(selectedOrder),\n                  style: {\n                    flex: 1\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(FaDownload, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 467,\n                    columnNumber: 25\n                  }, this), \" Descargar Etiqueta\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-update-status\",\n                  onClick: () => viewLabel(selectedOrder),\n                  style: {\n                    flex: 1,\n                    background: '#3498db'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(FaEye, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 474,\n                    columnNumber: 25\n                  }, this), \" Ver Etiqueta\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-card full-width\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: [\"\\uD83D\\uDCE6 Productos (\", ((_selectedOrder$items = selectedOrder.items) === null || _selectedOrder$items === void 0 ? void 0 : _selectedOrder$items.length) || 0, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-items-list\",\n              children: (_selectedOrder$items2 = selectedOrder.items) === null || _selectedOrder$items2 === void 0 ? void 0 : _selectedOrder$items2.map((item, index) => {\n                var _item$product;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"item-row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"item-main\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"item-qty\",\n                      children: [item.quantity, \"x\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 487,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"item-name\",\n                      children: ((_item$product = item.product) === null || _item$product === void 0 ? void 0 : _item$product.name) || 'Producto'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 488,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 486,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"item-subtotal\",\n                    children: formatPrice(item.price * item.quantity)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 490,\n                    columnNumber: 23\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"order-total-display\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Total Pedido:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: formatPrice(selectedOrder.totalAmount)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 328,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminOrders, \"e5tbbB2B0coqEu88kvpB1FFpjKw=\");\n_c = AdminOrders;\nexport default AdminOrders;\nvar _c;\n$RefreshReg$(_c, \"AdminOrders\");","map":{"version":3,"names":["React","useState","useEffect","useRef","FaEye","FaEdit","FaPhone","FaTruck","FaFilePdf","FaSync","FaPrint","FaCheckCircle","FaDownload","axios","toast","jsxDEV","_jsxDEV","AdminOrders","_s","_selectedOrder$user","_selectedOrder$shippi","_selectedOrder$shippi2","_selectedOrder$shippi3","_selectedOrder$shippi4","_selectedOrder$items","_selectedOrder$items2","orders","setOrders","loading","setLoading","refreshing","setRefreshing","selectedOrder","setSelectedOrder","showDetailModal","setShowDetailModal","statusUpdate","setStatusUpdate","orderStatus","paymentStatus","error","setError","notifiedOrders","Set","isFirstLoad","API_URL","process","env","REACT_APP_API_URL","loadOrders","Notification","permission","requestPermission","interval","setInterval","clearInterval","newOrders","filter","o","current","has","_id","length","forEach","order","add","handleNewOrderNotification","audio","Audio","play","catch","console","log","_order$user","success","slice","toUpperCase","user","name","formatPrice","totalAmount","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","navigator","vibrate","body","reduce","sum","icon","badge","initial","token","sessionStorage","getItem","response","get","headers","ordersData","Array","isArray","data","_error$response","_error$response$data","message","downloadLabel","tracking","trackingNumber","loadingToast","method","url","responseType","update","render","type","isLoading","blob","Blob","window","URL","createObjectURL","link","document","createElement","href","download","appendChild","click","removeChild","revokeObjectURL","err","_err$response","_err$response2","_err$response3","_err$response3$data","errorMessage","status","viewLabel","open","handleShipping","post","Authorization","trackingId","_err$response4","_err$response4$data","handleCreateTracking","orderId","_error$response2","_error$response3","_error$response3$data","price","Intl","NumberFormat","style","currency","format","getStatusBadge","statusMap","pendiente","procesando","enviado","entregado","cancelado","pagado","fallido","getStatusLabel","labels","openDetailModal","closeDetailModal","handleStatusChange","e","target","value","updateOrderStatus","put","_error$response4","_error$response4$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","fontSize","marginLeft","map","_order$user2","phone","display","gap","title","background","stopPropagation","shippingAddress","street","city","postalCode","country","marginTop","color","marginBottom","onChange","padding","borderRadius","carrier","currentStatus","flex","items","item","index","_item$product","quantity","product","_c","$RefreshReg$"],"sources":["C:/Users/ashu_/Documents/ecommerce-sim/frontend/src/pages/admin/AdminOrders.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { FaEye, FaEdit, FaPhone, FaTruck, FaFilePdf, FaSync, FaPrint, FaCheckCircle, FaDownload } from 'react-icons/fa';\nimport axios from 'axios';\nimport '../../styles/AdminOrders.css';\nimport { toast } from 'react-toastify';\n\nconst AdminOrders = () => {\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [showDetailModal, setShowDetailModal] = useState(false);\n  const [statusUpdate, setStatusUpdate] = useState({\n    orderStatus: '',\n    paymentStatus: ''\n  });\n  const [error, setError] = useState(null);\n\n  const notifiedOrders = useRef(new Set());\n  const isFirstLoad = useRef(true);\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n  useEffect(() => {\n    loadOrders(true);\n    \n    if (Notification.permission === \"default\") {\n      Notification.requestPermission();\n    }\n    \n    const interval = setInterval(() => loadOrders(false), 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  useEffect(() => {\n    const newOrders = orders.filter(o => \n      !notifiedOrders.current.has(o._id) &&\n      o.orderStatus === 'pendiente'\n    );\n\n    if (newOrders.length > 0 && !isFirstLoad.current) {\n      newOrders.forEach(order => notifiedOrders.current.add(order._id));\n      handleNewOrderNotification(newOrders);\n    }\n  }, [orders]);\n\n  const handleNewOrderNotification = (newOrders) => {\n    const audio = new Audio('https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3');\n    audio.play().catch(() => console.log('No se pudo reproducir el sonido'));\n\n    newOrders.forEach(order => {\n      toast.success(\n        `ðŸ”” Â¡NUEVO PEDIDO! #${order._id.slice(-6).toUpperCase()}\\n` +\n        `Cliente: ${order.user?.name || 'Desconocido'}\\n` +\n        `Total: ${formatPrice(order.totalAmount)}`,\n        {\n          position: \"top-right\",\n          autoClose: 8000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n        }\n      );\n    });\n\n    if (navigator.vibrate) {\n      navigator.vibrate([200, 100, 200]);\n    }\n\n    if (Notification.permission === \"granted\") {\n      new Notification(\"ðŸ›’ Nuevo pedido recibido\", {\n        body: `${newOrders.length} pedido(s) nuevo(s). Total: ${formatPrice(newOrders.reduce((sum, o) => sum + o.totalAmount, 0))}`,\n        icon: \"/logo192.png\",\n        badge: \"/logo192.png\"\n      });\n    }\n  };\n\n  const loadOrders = async (initial = false) => {\n    try {\n      if (initial) setLoading(true);\n      setRefreshing(true);\n      setError(null);\n      const token = sessionStorage.getItem('token');\n      \n      if (!token) {\n        setError('No estÃ¡s autenticado. Por favor, inicia sesiÃ³n.');\n        setLoading(false);\n        return;\n      }\n\n      const response = await axios.get(`${API_URL}/orders`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      const ordersData = Array.isArray(response.data) ? response.data : [];\n      setOrders(ordersData);\n\n      if (initial) {\n        ordersData.forEach(o => notifiedOrders.current.add(o._id));\n        isFirstLoad.current = false;\n      }\n    } catch (error) {\n      console.error('âŒ Error al cargar pedidos:', error);\n      if (initial) setError(error.response?.data?.message || 'Error al cargar los pedidos');\n    } finally {\n      setLoading(false);\n      setRefreshing(false);\n    }\n  };\n\n  // ðŸ”§ FUNCIÃ“N CORREGIDA PARA DESCARGAR ETIQUETA\n  const downloadLabel = async (order) => {\n    try {\n      // Obtener tracking desde diferentes posibles ubicaciones\n      const tracking = order.tracking;\n      \n      if (!tracking) {\n        toast.error('Este pedido no tiene tracking asignado');\n        return;\n      }\n\n      const trackingNumber = tracking.trackingNumber || tracking._id;\n      \n      if (!trackingNumber) {\n        toast.error('No se pudo obtener el nÃºmero de tracking');\n        console.error('Tracking object:', tracking);\n        return;\n      }\n\n      console.log('ðŸ“¥ Descargando etiqueta para tracking:', trackingNumber);\n\n      const token = sessionStorage.getItem('token');\n      \n      if (!token) {\n        toast.error('SesiÃ³n expirada. Por favor, vuelve a iniciar sesiÃ³n.');\n        return;\n      }\n\n      // Mostrar toast de carga\n      const loadingToast = toast.loading('Descargando etiqueta...');\n\n      // Hacer la peticiÃ³n con axios configurado correctamente\n      const response = await axios({\n        method: 'GET',\n        url: `${API_URL}/tracking/${trackingNumber}/label`,\n        headers: { \n          'Authorization': `Bearer ${token}`\n        },\n        responseType: 'blob', // MUY IMPORTANTE\n      });\n\n      // Actualizar el toast\n      toast.update(loadingToast, { \n        render: 'âœ… Descargando...', \n        type: 'success', \n        isLoading: false,\n        autoClose: 1000\n      });\n\n      // Crear el blob y descargarlo\n      const blob = new Blob([response.data], { type: 'application/pdf' });\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `etiqueta-${trackingNumber}.pdf`;\n      \n      // Agregar al DOM, hacer click y remover\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      \n      // Limpiar el objeto URL\n      window.URL.revokeObjectURL(url);\n\n      console.log('âœ… Etiqueta descargada exitosamente');\n\n    } catch (err) {\n      console.error('âŒ Error completo:', err);\n      console.error('Response:', err.response);\n      \n      let errorMessage = 'Error al descargar la etiqueta';\n      \n      if (err.response?.status === 404) {\n        errorMessage = 'No se encontrÃ³ la etiqueta para este pedido';\n      } else if (err.response?.status === 401) {\n        errorMessage = 'SesiÃ³n expirada. Vuelve a iniciar sesiÃ³n';\n      } else if (err.response?.data?.message) {\n        errorMessage = err.response.data.message;\n      }\n      \n      toast.error(errorMessage);\n    }\n  };\n\n  // Ver etiqueta en nueva pestaÃ±a\n  const viewLabel = (order) => {\n    try {\n      const tracking = order.tracking;\n      \n      if (!tracking) {\n        toast.error('Este pedido no tiene tracking asignado');\n        return;\n      }\n\n      const trackingNumber = tracking.trackingNumber || tracking._id;\n      \n      if (!trackingNumber) {\n        toast.error('No se pudo obtener el nÃºmero de tracking');\n        return;\n      }\n\n      const token = sessionStorage.getItem('token');\n      \n      // Abrir en nueva pestaÃ±a con el token en la URL\n      window.open(\n        `${API_URL}/tracking/${trackingNumber}/label/preview?token=${token}`, \n        '_blank'\n      );\n\n    } catch (err) {\n      console.error('Error abriendo vista previa:', err);\n      toast.error('Error al abrir la vista previa');\n    }\n  };\n\n  const handleShipping = async (order) => {\n    try {\n      const token = sessionStorage.getItem('token');\n      const response = await axios.post(`${API_URL}/orders/${order._id}/shipping`, {}, {\n        headers: { Authorization: `Bearer ${token}`, 'Content-Type': 'application/json' }\n      });\n      \n      if (response.data.trackingId) {\n        toast.success(`âœ… Pre-registro completado. CÃ³digo: ${response.data.trackingId}`);\n        loadOrders(false);\n      }\n    } catch (err) {\n      console.error(\"Error al realizar pre-registro\", err);\n      toast.error(err.response?.data?.message || \"Error al realizar el pre-registro de envÃ­o\");\n    }\n  };\n\n  const handleCreateTracking = async (orderId) => {\n    const token = sessionStorage.getItem('token');\n    \n    if (!token) {\n      toast.error(\"SesiÃ³n expirada. Vuelve a iniciar sesiÃ³n.\");\n      return;\n    }\n\n    try {\n      const loadingToast = toast.loading(\"â³ Generando etiqueta simulada...\");\n      \n      const response = await axios.post(`${API_URL}/tracking/create`, \n        { orderId },\n        { headers: { Authorization: `Bearer ${token}` } }\n      );\n      \n      toast.update(loadingToast, { \n        render: \"âœ… Etiqueta generada con Ã©xito\", \n        type: \"success\", \n        isLoading: false,\n        autoClose: 3000 \n      });\n      \n      loadOrders(false);\n    } catch (error) {\n      console.error(\"Error detallado:\", error.response?.data);\n      toast.error(error.response?.data?.message || \"Error al generar la etiqueta\");\n    }\n  };\n\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('es-ES', { style: 'currency', currency: 'EUR' }).format(price);\n  };\n\n  const getStatusBadge = (status) => {\n    const statusMap = {\n      pendiente: 'badge-warning', procesando: 'badge-info', enviado: 'badge-primary',\n      entregado: 'badge-success', cancelado: 'badge-danger', pagado: 'badge-success', fallido: 'badge-danger'\n    };\n    return statusMap[status] || 'badge-secondary';\n  };\n\n  const getStatusLabel = (status) => {\n    const labels = { pendiente: 'Pendiente', procesando: 'Procesando', enviado: 'Enviado', entregado: 'Entregado', cancelado: 'Cancelado', pagado: 'Pagado', fallido: 'Fallido' };\n    return labels[status] || status;\n  };\n\n  const openDetailModal = (order) => {\n    setSelectedOrder(order);\n    setStatusUpdate({ orderStatus: order.orderStatus, paymentStatus: order.paymentStatus });\n    setShowDetailModal(true);\n  };\n\n  const closeDetailModal = () => {\n    setShowDetailModal(false);\n    setSelectedOrder(null);\n  };\n\n  const handleStatusChange = (e) => {\n    setStatusUpdate({ ...statusUpdate, [e.target.name]: e.target.value });\n  };\n\n  const updateOrderStatus = async () => {\n    try {\n      const token = sessionStorage.getItem('token');\n      await axios.put(`${API_URL}/orders/${selectedOrder._id}/status`, statusUpdate, {\n        headers: { 'Authorization': `Bearer ${token}`, 'Content-Type': 'application/json' }\n      });\n      toast.success('âœ… Estado actualizado y notificaciÃ³n enviada al cliente');\n      closeDetailModal();\n      loadOrders(false);\n    } catch (error) {\n      toast.error(error.response?.data?.message || 'Error al actualizar');\n    }\n  };\n\n  if (loading) return <div className=\"admin-orders\"><div className=\"loading-container\"><div className=\"spinner-large\"></div><p>Cargando pedidos...</p></div></div>;\n\n  if (error) return <div className=\"admin-orders\"><div className=\"error-container\"><h3>Error</h3><p>{error}</p><button className=\"btn btn-primary\" onClick={() => loadOrders(true)}>ðŸ”„ Reintentar</button></div></div>;\n\n  return (\n    <div className=\"admin-orders\">\n      <div className=\"page-header\">\n        <h2>GestiÃ³n de Pedidos {refreshing && <small style={{fontSize: '12px', marginLeft: '10px'}}>ðŸ”„ Actualizando...</small>}</h2>\n        <div className=\"orders-stats\">\n          <span className=\"stat-item\">Total: <strong>{orders.length}</strong></span>\n          <span className=\"stat-item\">Pendientes: <strong>{orders.filter(o => o.orderStatus === 'pendiente').length}</strong></span>\n          <span className=\"stat-item\">Con etiqueta: <strong>{orders.filter(o => o.tracking).length}</strong></span>\n        </div>\n        <button className=\"btn btn-secondary\" onClick={() => loadOrders(true)}>ðŸ”„ Actualizar</button>\n      </div>\n\n      <div className=\"table-responsive\">\n        <table className=\"admin-table\">\n          <thead>\n            <tr>\n              <th>ID Pedido</th>\n              <th>Cliente</th>\n              <th>Total</th>\n              <th>Estado Pago</th>\n              <th>Estado Pedido</th>\n              <th>Etiqueta</th>\n              <th>Acciones</th>\n            </tr>\n          </thead>\n          <tbody>\n            {orders.map(order => (\n              <tr key={order._id} className={order.orderStatus === 'pendiente' ? 'row-urgent' : ''}>\n                <td><strong>#{order._id.slice(-8)}</strong></td>\n                <td>\n                  <div className=\"customer-cell\">\n                    <strong>{order.user?.name || 'Usuario'}</strong>\n                    <small><FaPhone /> {order.phone || 'S/T'}</small>\n                  </div>\n                </td>\n                <td><strong>{formatPrice(order.totalAmount)}</strong></td>\n                <td><span className={`badge ${getStatusBadge(order.paymentStatus)}`}>{getStatusLabel(order.paymentStatus)}</span></td>\n                <td><span className={`badge ${getStatusBadge(order.orderStatus)}`}>{getStatusLabel(order.orderStatus)}</span></td>\n                <td>\n                  {!order.tracking ? (\n                    <button className=\"btn-table btn-generate\" onClick={() => handleCreateTracking(order._id)}>\n                      <FaFilePdf /> Generar Etiqueta\n                    </button>\n                  ) : (\n                    <div style={{ display: 'flex', gap: '5px' }}>\n                      <button \n                        className=\"btn-table btn-pdf\" \n                        onClick={() => downloadLabel(order)}\n                        title=\"Descargar etiqueta PDF\"\n                      >\n                        <FaDownload /> Descargar\n                      </button>\n                      <button \n                        className=\"btn-table btn-view\" \n                        onClick={() => viewLabel(order)}\n                        title=\"Ver etiqueta\"\n                        style={{ background: '#3498db' }}\n                      >\n                        <FaEye />\n                      </button>\n                    </div>\n                  )}\n                </td>\n                <td>\n                  <div className=\"action-buttons\">\n                    <button className=\"btn-icon btn-view\" onClick={() => openDetailModal(order)} title=\"Ver detalles\">\n                      <FaEye />\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {showDetailModal && selectedOrder && (\n        <div className=\"modal-overlay\" onClick={closeDetailModal}>\n          <div className=\"modal-content large\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h3>GestiÃ³n de Pedido #{selectedOrder._id.slice(-8).toUpperCase()}</h3>\n              <button className=\"modal-close\" onClick={closeDetailModal}>&times;</button>\n            </div>\n\n            <div className=\"order-detail-container\">\n              <div className=\"detail-grid-top\">\n                <div className=\"detail-card\">\n                  <h4>ðŸ“ DirecciÃ³n de EnvÃ­o</h4>\n                  <div className=\"address-box\">\n                    <p><strong>{selectedOrder.user?.name || 'Cliente'}</strong></p>\n                    <p>{selectedOrder.shippingAddress?.street}</p>\n                    <p>{selectedOrder.shippingAddress?.city}, {selectedOrder.shippingAddress?.postalCode}</p>\n                    <p>{selectedOrder.shippingAddress?.country}</p>\n                    <p style={{marginTop: '10px', fontSize: '0.85rem', color: '#666'}}>\n                      ðŸ“ž {selectedOrder.phone || 'Sin telÃ©fono'}\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"detail-card\">\n                  <h4>âš™ï¸ Estado del Pedido</h4>\n                  <div className=\"status-update-form\">\n                    <div className=\"form-group\">\n                      <label style={{fontSize: '0.8rem', color: '#7f8c8d', display: 'block', marginBottom: '5px'}}>\n                        Cambiar Estado (se enviarÃ¡ email al cliente)\n                      </label>\n                      <select \n                        name=\"orderStatus\" \n                        value={statusUpdate.orderStatus} \n                        onChange={handleStatusChange}\n                        className=\"form-select\"\n                      >\n                        <option value=\"pendiente\">Pendiente</option>\n                        <option value=\"procesando\">Procesando</option>\n                        <option value=\"enviado\">Enviado</option>\n                        <option value=\"entregado\">Entregado</option>\n                        <option value=\"cancelado\">Cancelado</option>\n                      </select>\n                    </div>\n                    <button className=\"btn-update-status\" onClick={updateOrderStatus}>\n                      <FaEdit /> Guardar y Notificar\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              {selectedOrder.tracking && (\n                <div className=\"detail-card\">\n                  <h4>ðŸšš InformaciÃ³n de EnvÃ­o</h4>\n                  <div style={{ padding: '15px', background: '#f8f9fa', borderRadius: '8px' }}>\n                    <p><strong>Tracking:</strong> {selectedOrder.tracking.trackingNumber}</p>\n                    <p><strong>Transportista:</strong> {selectedOrder.tracking.carrier || 'Correos Express (Simulado)'}</p>\n                    <p><strong>Estado:</strong> {selectedOrder.tracking.currentStatus || 'pendiente'}</p>\n                    \n                    <div style={{ marginTop: '15px', display: 'flex', gap: '10px' }}>\n                      <button \n                        className=\"btn-update-status\" \n                        onClick={() => downloadLabel(selectedOrder)}\n                        style={{ flex: 1 }}\n                      >\n                        <FaDownload /> Descargar Etiqueta\n                      </button>\n                      <button \n                        className=\"btn-update-status\" \n                        onClick={() => viewLabel(selectedOrder)}\n                        style={{ flex: 1, background: '#3498db' }}\n                      >\n                        <FaEye /> Ver Etiqueta\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              <div className=\"detail-card full-width\">\n                <h4>ðŸ“¦ Productos ({selectedOrder.items?.length || 0})</h4>\n                <div className=\"order-items-list\">\n                  {selectedOrder.items?.map((item, index) => (\n                    <div key={index} className=\"item-row\">\n                      <div className=\"item-main\">\n                        <span className=\"item-qty\">{item.quantity}x</span>\n                        <span className=\"item-name\">{item.product?.name || 'Producto'}</span>\n                      </div>\n                      <span className=\"item-subtotal\">{formatPrice(item.price * item.quantity)}</span>\n                    </div>\n                  ))}\n                </div>\n                <div className=\"order-total-display\">\n                  <span>Total Pedido:</span>\n                  <strong>{formatPrice(selectedOrder.totalAmount)}</strong>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AdminOrders;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}