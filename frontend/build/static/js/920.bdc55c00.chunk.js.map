{"version":3,"file":"static/js/920.bdc55c00.chunk.js","mappings":"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","sources":["components/admin/AdminChat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { io } from 'socket.io-client';\r\nimport '../../styles/AdminChat.css';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\nconst SOCKET_URL = API_URL.replace('/api', '');\r\n\r\nlet socket = null;\r\n\r\nconst AdminChat = () => {\r\n  // ‚úÖ SEPARAR LOS CHATS POR ESTADO\r\n  const [openChats, setOpenChats] = useState([]);\r\n  const [closedChats, setClosedChats] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [selectedChat, setSelectedChat] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n  const [view, setView] = useState('open'); // 'open' o 'closed'\r\n  const [connected, setConnected] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n\r\n  const getToken = () => {\r\n    return localStorage.getItem('token') || sessionStorage.getItem('token');\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [selectedChat?.messages]);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const token = getToken();\r\n    if (!token) {\r\n      setError('No hay sesi√≥n activa');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    initializeSocket(token);\r\n    loadAllChats(); // ‚úÖ Cargar TODOS los chats al inicio\r\n\r\n    // ‚úÖ Recargar cada 5 segundos\r\n    const interval = setInterval(loadAllChats, 5000);\r\n\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, []); // ‚úÖ Solo una vez al montar\r\n\r\n  const initializeSocket = (token) => {\r\n    if (socket) return;\r\n\r\n    console.log('üîå [ADMIN] Conectando socket...');\r\n    \r\n    socket = io(SOCKET_URL, { \r\n      transports: ['websocket', 'polling'],\r\n      reconnection: true,\r\n      reconnectionAttempts: 5,\r\n      reconnectionDelay: 1000\r\n    });\r\n\r\n    socket.on('connect', () => {\r\n      console.log('‚úÖ [ADMIN] Socket conectado:', socket.id);\r\n      setConnected(true);\r\n      socket.emit('authenticate', token);\r\n    });\r\n\r\n    socket.on('disconnect', () => {\r\n      console.log('‚ùå [ADMIN] Socket desconectado');\r\n      setConnected(false);\r\n    });\r\n\r\n    socket.on('authenticated', (data) => {\r\n      console.log('‚úÖ [ADMIN] Autenticado:', data);\r\n    });\r\n\r\n    // ‚úÖ NUEVO MENSAJE DE USUARIO\r\n    socket.on('new_user_message', (data) => {\r\n      console.log('üì® [ADMIN] Nuevo mensaje de usuario:', data);\r\n      const chat = data?.chat || data;\r\n      if (chat?._id) {\r\n        handleChatUpdate(chat);\r\n      }\r\n    });\r\n\r\n    // ‚úÖ MENSAJE ENVIADO POR ADMIN\r\n    socket.on('message_sent', (data) => {\r\n      console.log('‚úÖ [ADMIN] Mensaje enviado:', data);\r\n      if (data?.success && data?.chat) {\r\n        handleChatUpdate(data.chat);\r\n      }\r\n    });\r\n\r\n    // ‚úÖ CHAT ACTUALIZADO\r\n    socket.on('chat_updated', (data) => {\r\n      console.log('üîÑ [ADMIN] Chat actualizado:', data);\r\n      const chat = data?.chat || data;\r\n      if (chat?._id) {\r\n        handleChatUpdate(chat);\r\n      }\r\n    });\r\n\r\n    // ‚úÖ CHAT CERRADO\r\n    socket.on('chat_closed', (data) => {\r\n      console.log('üîí [ADMIN] Chat cerrado:', data);\r\n      const chat = data?.chat || data;\r\n      if (chat?._id) {\r\n        handleChatClosed(chat);\r\n      }\r\n    });\r\n\r\n    socket.on('message_error', (data) => {\r\n      console.error('‚ùå [ADMIN] Error:', data);\r\n      alert('Error: ' + (data?.message || 'Error desconocido'));\r\n    });\r\n  };\r\n\r\n  // ‚úÖ MANEJAR ACTUALIZACI√ìN DE CHAT\r\n  const handleChatUpdate = (updatedChat) => {\r\n    if (!updatedChat?._id) return;\r\n\r\n    console.log(`üîÑ Actualizando chat ${updatedChat._id}, status: ${updatedChat.status}`);\r\n\r\n    if (updatedChat.status === 'open') {\r\n      // Actualizar en chats abiertos\r\n      setOpenChats(prev => {\r\n        const exists = prev.find(c => c._id === updatedChat._id);\r\n        if (exists) {\r\n          return prev.map(c => c._id === updatedChat._id ? updatedChat : c);\r\n        } else {\r\n          return [updatedChat, ...prev];\r\n        }\r\n      });\r\n      \r\n      // Quitar de cerrados si estaba ah√≠\r\n      setClosedChats(prev => prev.filter(c => c._id !== updatedChat._id));\r\n      \r\n    } else if (updatedChat.status === 'closed') {\r\n      // Mover a cerrados\r\n      setClosedChats(prev => {\r\n        const exists = prev.find(c => c._id === updatedChat._id);\r\n        if (exists) {\r\n          return prev.map(c => c._id === updatedChat._id ? updatedChat : c);\r\n        } else {\r\n          return [updatedChat, ...prev];\r\n        }\r\n      });\r\n      \r\n      // Quitar de abiertos\r\n      setOpenChats(prev => prev.filter(c => c._id !== updatedChat._id));\r\n    }\r\n\r\n    // Actualizar chat seleccionado si es el mismo\r\n    setSelectedChat(prev => {\r\n      if (prev?._id === updatedChat._id) {\r\n        return updatedChat;\r\n      }\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  // ‚úÖ MANEJAR CIERRE DE CHAT\r\n  const handleChatClosed = (closedChat) => {\r\n    if (!closedChat?._id) return;\r\n\r\n    console.log(`üîí Cerrando chat ${closedChat._id}`);\r\n\r\n    // Mover de abiertos a cerrados\r\n    setOpenChats(prev => prev.filter(c => c._id !== closedChat._id));\r\n    \r\n    setClosedChats(prev => {\r\n      const exists = prev.find(c => c._id === closedChat._id);\r\n      if (!exists) {\r\n        return [closedChat, ...prev];\r\n      }\r\n      return prev.map(c => c._id === closedChat._id ? closedChat : c);\r\n    });\r\n\r\n    // Deseleccionar si es el chat actual\r\n    setSelectedChat(prev => {\r\n      if (prev?._id === closedChat._id) {\r\n        alert('‚úÖ Chat finalizado correctamente');\r\n        return null;\r\n      }\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  // ‚úÖ CARGAR TODOS LOS CHATS (abiertos Y cerrados)\r\n  const loadAllChats = async () => {\r\n    try {\r\n      const token = getToken();\r\n      if (!token) {\r\n        setError('No hay sesi√≥n activa');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      console.log('üì• [ADMIN] Cargando TODOS los chats...');\r\n\r\n      // Cargar sin filtro para obtener todos\r\n      const response = await axios.get(`${API_URL}/chat/admin/chats`, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n\r\n      const allChats = Array.isArray(response.data) ? response.data : [];\r\n      \r\n      // ‚úÖ SEPARAR POR ESTADO\r\n      const open = allChats.filter(c => c.status === 'open');\r\n      const closed = allChats.filter(c => c.status === 'closed');\r\n      \r\n      console.log(`‚úÖ [ADMIN] Chats cargados:`, {\r\n        total: allChats.length,\r\n        abiertos: open.length,\r\n        cerrados: closed.length\r\n      });\r\n      \r\n      setOpenChats(open);\r\n      setClosedChats(closed);\r\n      setError(null);\r\n      \r\n    } catch (err) {\r\n      console.error('‚ùå [ADMIN] Error al cargar chats:', err);\r\n      setError('Error al cargar chats');\r\n      \r\n      if (err.response?.status === 401) {\r\n        alert('Sesi√≥n expirada');\r\n        window.location.href = '/login';\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const sendMessage = (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!message.trim() || !selectedChat || !connected) return;\r\n\r\n    console.log('üì§ [ADMIN] Enviando mensaje...');\r\n\r\n    socket.emit('admin_send_message', {\r\n      chatId: selectedChat._id,\r\n      text: message\r\n    });\r\n\r\n    setMessage('');\r\n  };\r\n\r\n  const closeChat = async (chatId) => {\r\n    if (!window.confirm('¬øFinalizar esta conversaci√≥n?')) return;\r\n    \r\n    try {\r\n      const token = getToken();\r\n      \r\n      console.log('üîí [ADMIN] Cerrando chat:', chatId);\r\n\r\n      await axios.put(\r\n        `${API_URL}/chat/admin/close-chat/${chatId}`, \r\n        {}, \r\n        { headers: { 'Authorization': `Bearer ${token}` } }\r\n      );\r\n\r\n      console.log('‚úÖ [ADMIN] Chat cerrado correctamente');\r\n      \r\n      // ‚úÖ Recargar para sincronizar\r\n      await loadAllChats();\r\n      \r\n    } catch (err) {\r\n      console.error('‚ùå [ADMIN] Error al cerrar chat:', err);\r\n      alert('Error al cerrar chat');\r\n      \r\n      if (err.response?.status === 401) {\r\n        window.location.href = '/login';\r\n      }\r\n    }\r\n  };\r\n\r\n  // ‚úÖ OBTENER CHATS SEG√öN LA VISTA ACTUAL\r\n  const currentChats = view === 'open' ? openChats : closedChats;\r\n\r\n  return (\r\n    <div className=\"admin-chat-container\" style={{ padding: '20px' }}>\r\n      {/* HEADER */}\r\n      <div style={{ \r\n        display: 'flex', \r\n        justifyContent: 'space-between', \r\n        alignItems: 'center', \r\n        marginBottom: '20px',\r\n        background: 'white',\r\n        padding: '20px',\r\n        borderRadius: '12px',\r\n        boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\r\n      }}>\r\n        <div>\r\n          <h1 style={{ margin: '0 0 5px 0' }}>üí¨ Panel de Soporte</h1>\r\n          <small style={{ color: '#666' }}>\r\n            Abiertos: {openChats.length} ‚Ä¢ Cerrados: {closedChats.length} ‚Ä¢ Total: {openChats.length + closedChats.length}\r\n          </small>\r\n        </div>\r\n        <div style={{ \r\n          display: 'flex', \r\n          alignItems: 'center', \r\n          gap: '10px',\r\n          padding: '10px 20px',\r\n          background: connected ? '#d4edda' : '#f8d7da',\r\n          borderRadius: '25px',\r\n          fontSize: '14px',\r\n          fontWeight: '600'\r\n        }}>\r\n          <span style={{ \r\n            width: '12px', \r\n            height: '12px', \r\n            borderRadius: '50%', \r\n            background: connected ? '#28a745' : '#dc3545',\r\n            display: 'inline-block',\r\n            animation: connected ? 'pulse 2s infinite' : 'none'\r\n          }}></span>\r\n          {connected ? 'Conectado' : 'Desconectado'}\r\n        </div>\r\n      </div>\r\n\r\n      {/* FILTROS */}\r\n      <div style={{ display: 'flex', gap: '10px', marginBottom: '20px' }}>\r\n        <button \r\n          onClick={() => {\r\n            setView('open');\r\n            setSelectedChat(null);\r\n          }}\r\n          style={{\r\n            padding: '12px 24px', \r\n            borderRadius: '25px', \r\n            border: 'none',\r\n            background: view === 'open' ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' : '#e9ecef',\r\n            color: view === 'open' ? 'white' : '#495057',\r\n            cursor: 'pointer', \r\n            fontWeight: 'bold',\r\n            fontSize: '15px',\r\n            transition: 'all 0.3s',\r\n            boxShadow: view === 'open' ? '0 4px 12px rgba(102,126,234,0.4)' : 'none'\r\n          }}\r\n        >\r\n          üî• Chats Activos <span style={{ \r\n            marginLeft: '8px',\r\n            padding: '2px 8px',\r\n            background: 'rgba(255,255,255,0.3)',\r\n            borderRadius: '12px',\r\n            fontSize: '13px'\r\n          }}>{openChats.length}</span>\r\n        </button>\r\n        \r\n        <button \r\n          onClick={() => {\r\n            setView('closed');\r\n            setSelectedChat(null);\r\n          }}\r\n          style={{\r\n            padding: '12px 24px', \r\n            borderRadius: '25px', \r\n            border: 'none',\r\n            background: view === 'closed' ? '#2c3e50' : '#e9ecef',\r\n            color: view === 'closed' ? 'white' : '#495057',\r\n            cursor: 'pointer', \r\n            fontWeight: 'bold',\r\n            fontSize: '15px',\r\n            transition: 'all 0.3s',\r\n            boxShadow: view === 'closed' ? '0 4px 12px rgba(44,62,80,0.4)' : 'none'\r\n          }}\r\n        >\r\n          üìÅ Historial <span style={{ \r\n            marginLeft: '8px',\r\n            padding: '2px 8px',\r\n            background: 'rgba(255,255,255,0.3)',\r\n            borderRadius: '12px',\r\n            fontSize: '13px'\r\n          }}>{closedChats.length}</span>\r\n        </button>\r\n      </div>\r\n\r\n      {error && (\r\n        <div style={{ \r\n          background: '#f8d7da', \r\n          color: '#721c24', \r\n          padding: '15px 20px', \r\n          borderRadius: '8px', \r\n          marginBottom: '20px',\r\n          border: '1px solid #f5c6cb'\r\n        }}>\r\n          ‚ö†Ô∏è {error}\r\n        </div>\r\n      )}\r\n\r\n      {/* LAYOUT */}\r\n      <div style={{ display: 'grid', gridTemplateColumns: '350px 1fr', gap: '20px' }}>\r\n        {/* LISTA DE CHATS */}\r\n        <div style={{ \r\n          background: 'white', \r\n          borderRadius: '12px', \r\n          border: '1px solid #dee2e6', \r\n          height: '70vh', \r\n          overflowY: 'auto',\r\n          boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\r\n        }}>\r\n          <div style={{ \r\n            padding: '15px 20px', \r\n            borderBottom: '1px solid #dee2e6', \r\n            background: '#f8f9fa',\r\n            position: 'sticky',\r\n            top: 0,\r\n            zIndex: 10\r\n          }}>\r\n            <strong style={{ fontSize: '15px', color: '#495057' }}>\r\n              {view === 'open' ? 'üî• En curso' : 'üìÅ Finalizados'} ({currentChats.length})\r\n            </strong>\r\n          </div>\r\n          \r\n          {loading ? (\r\n            <div style={{ padding: '40px 20px', textAlign: 'center', color: '#adb5bd' }}>\r\n              <div style={{ fontSize: '40px', marginBottom: '10px' }}>‚è≥</div>\r\n              <p>Cargando...</p>\r\n            </div>\r\n          ) : currentChats.length === 0 ? (\r\n            <div style={{ padding: '60px 20px', textAlign: 'center', color: '#adb5bd' }}>\r\n              <div style={{ fontSize: '48px', marginBottom: '15px' }}>\r\n                {view === 'open' ? 'üí¨' : 'üì≠'}\r\n              </div>\r\n              <p style={{ margin: 0, fontSize: '15px', fontWeight: '500' }}>\r\n                {view === 'open' ? 'No hay chats activos' : 'No hay historial'}\r\n              </p>\r\n              <small style={{ color: '#ced4da' }}>\r\n                {view === 'open' ? 'Las conversaciones aparecer√°n aqu√≠' : 'Los chats finalizados aparecer√°n aqu√≠'}\r\n              </small>\r\n            </div>\r\n          ) : (\r\n            currentChats.map(chat => {\r\n              const lastMessage = chat.messages?.[chat.messages.length - 1];\r\n\r\n              return (\r\n                <div \r\n                  key={chat._id}\r\n                  onClick={() => setSelectedChat(chat)}\r\n                  style={{\r\n                    padding: '15px 20px', \r\n                    borderBottom: '1px solid #f1f3f5', \r\n                    cursor: 'pointer',\r\n                    background: selectedChat?._id === chat._id ? '#e7f3ff' : 'white',\r\n                    borderLeft: selectedChat?._id === chat._id ? '4px solid #667eea' : '4px solid transparent',\r\n                    transition: 'all 0.2s'\r\n                  }}\r\n                >\r\n                  <div style={{ \r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'center',\r\n                    marginBottom: '6px'\r\n                  }}>\r\n                    <strong style={{ color: '#212529' }}>\r\n                      {chat.user?.name || 'Cliente'}\r\n                    </strong>\r\n                    {view === 'closed' && (\r\n                      <span style={{ \r\n                        padding: '2px 8px', \r\n                        background: '#d4edda', \r\n                        color: '#155724', \r\n                        fontSize: '10px', \r\n                        borderRadius: '10px',\r\n                        fontWeight: '600'\r\n                      }}>\r\n                        ‚úì CERRADO\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <div style={{ \r\n                    fontSize: '13px', \r\n                    color: '#6c757d', \r\n                    whiteSpace: 'nowrap', \r\n                    overflow: 'hidden', \r\n                    textOverflow: 'ellipsis',\r\n                    marginBottom: '4px'\r\n                  }}>\r\n                    {lastMessage?.text || 'Sin mensajes'}\r\n                  </div>\r\n                  {lastMessage?.timestamp && (\r\n                    <div style={{ fontSize: '11px', color: '#adb5bd' }}>\r\n                      {new Date(lastMessage.timestamp).toLocaleString('es-ES', {\r\n                        day: '2-digit',\r\n                        month: '2-digit',\r\n                        hour: '2-digit',\r\n                        minute: '2-digit'\r\n                      })}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              );\r\n            })\r\n          )}\r\n        </div>\r\n\r\n        {/* CONVERSACI√ìN */}\r\n        <div style={{ \r\n          background: 'white', \r\n          borderRadius: '12px', \r\n          border: '1px solid #dee2e6', \r\n          display: 'flex', \r\n          flexDirection: 'column', \r\n          height: '70vh',\r\n          boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\r\n        }}>\r\n          {selectedChat ? (\r\n            <>\r\n              {/* Header */}\r\n              <div style={{ \r\n                padding: '20px', \r\n                borderBottom: '1px solid #dee2e6', \r\n                display: 'flex', \r\n                justifyContent: 'space-between', \r\n                alignItems: 'center',\r\n                background: '#f8f9fa'\r\n              }}>\r\n                <div>\r\n                  <h3 style={{ margin: '0 0 4px 0', color: '#212529' }}>\r\n                    {selectedChat.user?.name || 'Cliente'}\r\n                    {selectedChat.status === 'closed' && (\r\n                      <span style={{ \r\n                        marginLeft: '12px', \r\n                        fontSize: '14px', \r\n                        color: '#28a745',\r\n                        fontWeight: 'normal'\r\n                      }}>\r\n                        ‚úì Cerrado\r\n                      </span>\r\n                    )}\r\n                  </h3>\r\n                  <small style={{ color: '#6c757d' }}>{selectedChat.user?.email || ''}</small>\r\n                </div>\r\n                {selectedChat.status === 'open' && (\r\n                  <button \r\n                    onClick={() => closeChat(selectedChat._id)} \r\n                    style={{ \r\n                      background: '#dc3545', \r\n                      color: 'white', \r\n                      border: 'none', \r\n                      padding: '10px 20px', \r\n                      borderRadius: '8px', \r\n                      cursor: 'pointer', \r\n                      fontWeight: '600',\r\n                      fontSize: '14px',\r\n                      transition: 'all 0.3s',\r\n                      boxShadow: '0 2px 8px rgba(220,53,69,0.3)'\r\n                    }}\r\n                  >\r\n                    ‚úì Finalizar Chat\r\n                  </button>\r\n                )}\r\n              </div>\r\n              \r\n              {/* Mensajes */}\r\n              <div style={{ \r\n                flex: 1, \r\n                padding: '20px', \r\n                overflowY: 'auto', \r\n                background: '#f8f9fa' \r\n              }}>\r\n                {selectedChat.messages?.length === 0 ? (\r\n                  <div style={{ textAlign: 'center', color: '#adb5bd', marginTop: '50px' }}>\r\n                    <div style={{ fontSize: '48px', marginBottom: '10px' }}>üí¨</div>\r\n                    <p>No hay mensajes</p>\r\n                  </div>\r\n                ) : (\r\n                  selectedChat.messages?.map((m, i) => (\r\n                    <div \r\n                      key={i} \r\n                      style={{ \r\n                        display: 'flex', \r\n                        justifyContent: m.sender === 'admin' ? 'flex-end' : 'flex-start', \r\n                        marginBottom: '12px'\r\n                      }}\r\n                    >\r\n                      <div style={{ \r\n                        background: m.sender === 'admin' \r\n                          ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'\r\n                          : 'white', \r\n                        color: m.sender === 'admin' ? 'white' : '#212529',\r\n                        padding: '12px 16px', \r\n                        borderRadius: '12px', \r\n                        maxWidth: '70%',\r\n                        boxShadow: '0 2px 5px rgba(0,0,0,0.08)',\r\n                        border: m.sender === 'admin' ? 'none' : '1px solid #dee2e6'\r\n                      }}>\r\n                        <p style={{ margin: '0 0 6px 0', wordWrap: 'break-word', lineHeight: '1.4' }}>\r\n                          {m.text}\r\n                        </p>\r\n                        <small style={{ fontSize: '10px', opacity: 0.7 }}>\r\n                          {new Date(m.timestamp).toLocaleTimeString([], { \r\n                            hour: '2-digit', \r\n                            minute: '2-digit' \r\n                          })}\r\n                        </small>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                )}\r\n                <div ref={messagesEndRef} />\r\n              </div>\r\n\r\n              {/* Input */}\r\n              {selectedChat.status === 'open' ? (\r\n                <form \r\n                  onSubmit={sendMessage} \r\n                  style={{ \r\n                    padding: '20px', \r\n                    borderTop: '1px solid #dee2e6', \r\n                    display: 'flex', \r\n                    gap: '12px',\r\n                    background: 'white'\r\n                  }}\r\n                >\r\n                  <input \r\n                    type=\"text\" \r\n                    value={message} \r\n                    onChange={(e) => setMessage(e.target.value)}\r\n                    placeholder=\"Escribe tu respuesta...\"\r\n                    disabled={!connected}\r\n                    style={{ \r\n                      flex: 1, \r\n                      padding: '12px 16px', \r\n                      borderRadius: '25px', \r\n                      border: '2px solid #dee2e6', \r\n                      outline: 'none',\r\n                      fontSize: '14px',\r\n                      transition: 'border-color 0.2s'\r\n                    }}\r\n                    onFocus={(e) => e.target.style.borderColor = '#667eea'}\r\n                    onBlur={(e) => e.target.style.borderColor = '#dee2e6'}\r\n                  />\r\n                  <button \r\n                    type=\"submit\" \r\n                    disabled={!connected || !message.trim()}\r\n                    style={{ \r\n                      background: connected && message.trim() \r\n                        ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'\r\n                        : '#e9ecef', \r\n                      color: connected && message.trim() ? 'white' : '#adb5bd', \r\n                      border: 'none', \r\n                      padding: '12px 28px', \r\n                      borderRadius: '25px', \r\n                      cursor: connected && message.trim() ? 'pointer' : 'not-allowed', \r\n                      fontWeight: 'bold',\r\n                      fontSize: '14px',\r\n                      transition: 'all 0.3s',\r\n                      boxShadow: connected && message.trim() ? '0 4px 12px rgba(102,126,234,0.3)' : 'none'\r\n                    }}\r\n                  >\r\n                    Enviar ‚úàÔ∏è\r\n                  </button>\r\n                </form>\r\n              ) : (\r\n                <div style={{\r\n                  padding: '20px',\r\n                  borderTop: '1px solid #dee2e6',\r\n                  textAlign: 'center',\r\n                  color: '#6c757d',\r\n                  background: '#f8f9fa',\r\n                  fontSize: '14px'\r\n                }}>\r\n                  ‚úì Esta conversaci√≥n est√° finalizada\r\n                </div>\r\n              )}\r\n            </>\r\n          ) : (\r\n            <div style={{ \r\n              display: 'flex', \r\n              flexDirection: 'column', \r\n              alignItems: 'center', \r\n              justifyContent: 'center', \r\n              height: '100%', \r\n              color: '#adb5bd' \r\n            }}>\r\n              <div style={{ fontSize: '64px', marginBottom: '20px' }}>üí¨</div>\r\n              <h3 style={{ margin: '0 0 8px 0', color: '#6c757d' }}>\r\n                Selecciona una conversaci√≥n\r\n              </h3>\r\n              <p style={{ margin: 0, fontSize: '14px' }}>\r\n                Elige un chat de la lista para comenzar\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminChat;"],"names":["API_URL","process","REACT_APP_API_URL","SOCKET_URL","replace","socket","AdminChat","_selectedChat$user","_selectedChat$user2","_selectedChat$message","_selectedChat$message2","openChats","setOpenChats","useState","closedChats","setClosedChats","loading","setLoading","error","setError","selectedChat","setSelectedChat","message","setMessage","view","setView","connected","setConnected","messagesEndRef","useRef","getToken","localStorage","getItem","sessionStorage","useEffect","scrollToBottom","messages","_messagesEndRef$curre","current","scrollIntoView","behavior","token","initializeSocket","loadAllChats","interval","setInterval","clearInterval","console","log","io","transports","reconnection","reconnectionAttempts","reconnectionDelay","on","id","emit","data","chat","_id","handleChatUpdate","success","handleChatClosed","alert","updatedChat","concat","status","prev","find","c","map","filter","closedChat","async","response","axios","get","headers","allChats","Array","isArray","open","closed","total","length","abiertos","cerrados","err","_err$response","window","location","href","currentChats","_jsxs","className","style","padding","children","display","justifyContent","alignItems","marginBottom","background","borderRadius","boxShadow","_jsx","margin","color","gap","fontSize","fontWeight","width","height","animation","onClick","border","cursor","transition","marginLeft","gridTemplateColumns","overflowY","borderBottom","position","top","zIndex","textAlign","_chat$messages","_chat$user","lastMessage","borderLeft","user","name","whiteSpace","overflow","textOverflow","text","timestamp","Date","toLocaleString","day","month","hour","minute","flexDirection","_Fragment","email","confirm","chatId","put","_err$response2","closeChat","flex","marginTop","m","i","sender","maxWidth","wordWrap","lineHeight","opacity","toLocaleTimeString","ref","onSubmit","e","preventDefault","trim","borderTop","type","value","onChange","target","placeholder","disabled","outline","onFocus","borderColor","onBlur"],"sourceRoot":""}