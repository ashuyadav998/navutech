{"version":3,"file":"static/js/247.16b9e305.chunk.js","mappings":"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","sources":["pages/admin/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { FaBox, FaShoppingBag, FaUsers, FaEuroSign, FaSync } from 'react-icons/fa';\nimport { useAuth } from '../../context/AuthContext';\nimport { getProducts, getCategories } from '../../services/api';\nimport axios from 'axios';\nimport '../../styles/AdminDashboard.css';\n\nconst AdminDashboard = () => {\n  const navigate = useNavigate();\n  const { user, isAuthenticated } = useAuth(); // ‚úÖ USAR EL CONTEXTO\n\n  const [stats, setStats] = useState({\n    totalProducts: 0,\n    totalOrders: 0,\n    totalUsers: 0,\n    totalRevenue: 0,\n    lowStock: 0,\n    pendingOrders: 0,\n    paidOrders: 0\n  });\n  const [recentOrders, setRecentOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // ‚úÖ VERIFICAR AUTENTICACI√ìN AL MONTAR\n  useEffect(() => {\n    console.log('üîç Verificando autenticaci√≥n...');\n    console.log('isAuthenticated:', isAuthenticated());\n    console.log('user completo:', JSON.stringify(user, null, 2));\n    console.log('user.role:', user?.role);\n    console.log('token en sessionStorage:', !!sessionStorage.getItem('token'));\n    console.log('token en localStorage:', !!localStorage.getItem('token'));\n\n    if (!isAuthenticated()) {\n      console.log('‚ùå No autenticado, redirigiendo al login en 2 segundos...');\n      const timer = setTimeout(() => navigate('/login'), 2000);\n      return () => clearTimeout(timer);\n    }\n\n    // ‚úÖ ESPERAR A QUE EL USUARIO EST√â CARGADO\n    if (!user) {\n      console.log('‚è≥ Esperando a que se cargue el usuario...');\n      return;\n    }\n\n    // ‚úÖ VERIFICAR SI ES ADMIN (MODO PERMISIVO)\n    console.log('üë§ Usuario cargado, verificando rol...');\n    if (user.role !== 'admin') {\n      console.log('‚ùå Usuario no es admin. Rol actual:', user.role);\n      console.log('‚ö†Ô∏è Si eres admin, verifica que tu cuenta tenga role: \"admin\" en la base de datos');\n      // NO redirigir inmediatamente, dar tiempo para ver el error\n      setError(`Acceso denegado. Tu rol es: \"${user.role}\". Necesitas rol \"admin\".`);\n      setLoading(false);\n      return;\n    }\n\n    console.log('‚úÖ Usuario es admin, cargando datos...');\n    loadDashboardData();\n  }, [isAuthenticated, user, navigate]);\n\n  const loadDashboardData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n      \n      // ‚úÖ OBTENER TOKEN DE SESSIONSTORAGE (como est√° en tu AuthContext)\n      const token = sessionStorage.getItem('token') || localStorage.getItem('token');\n      \n      console.log('üîë Token en sessionStorage:', !!sessionStorage.getItem('token'));\n      console.log('üîë Token en localStorage:', !!localStorage.getItem('token'));\n      console.log('üîë Token final encontrado:', token ? 'S√ç' : 'NO');\n      console.log('üîë Primeros caracteres:', token ? token.substring(0, 20) + '...' : 'N/A');\n      \n      if (!token) {\n        console.log('‚ùå No hay token en sessionStorage ni localStorage');\n        setError('No est√°s autenticado. Por favor, inicia sesi√≥n.');\n        setLoading(false);\n        navigate('/login');\n        return;\n      }\n\n      // ‚úÖ CONFIGURACI√ìN DE HEADERS CON TOKEN\n      const config = {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      };\n\n      console.log('üîÑ Cargando datos del dashboard...');\n\n      // Cargar datos en paralelo CON TOKEN\n      const [productsRes, ordersRes, usersRes] = await Promise.all([\n        getProducts({}).catch(err => {\n          console.error('‚ùå Error cargando productos:', err.response?.status, err.message);\n          return { data: [] };\n        }),\n        axios.get(`${API_URL}/orders`, config).catch(err => {\n          console.error('‚ùå Error cargando pedidos:', err.response?.status, err.message);\n          if (err.response?.status === 401) {\n            console.log('‚ö†Ô∏è Token inv√°lido o expirado');\n          }\n          return { data: [] };\n        }),\n        axios.get(`${API_URL}/users`, config).catch(err => {\n          console.error('‚ùå Error cargando usuarios:', err.response?.status, err.message);\n          return { data: [] };\n        })\n      ]);\n\n      // Extraer datos (manejar diferentes formatos de respuesta)\n      const products = Array.isArray(productsRes.data) \n        ? productsRes.data \n        : (productsRes.data?.products || []);\n      \n      const orders = Array.isArray(ordersRes.data) \n        ? ordersRes.data \n        : (ordersRes.data?.orders || []);\n      \n      const users = Array.isArray(usersRes.data) \n        ? usersRes.data \n        : (usersRes.data?.users || []);\n\n      console.log('‚úÖ Datos cargados:', {\n        productos: products.length,\n        pedidos: orders.length,\n        usuarios: users.length\n      });\n\n      // Calcular estad√≠sticas\n      const totalRevenue = orders\n        .filter(o => o.paymentStatus === 'pagado')\n        .reduce((sum, order) => sum + (order.totalAmount || 0), 0);\n\n      const lowStock = products.filter(p => (p.stock || 0) < 10).length;\n      const pendingOrders = orders.filter(o => o.orderStatus === 'pendiente').length;\n      const paidOrders = orders.filter(o => o.paymentStatus === 'pagado').length;\n\n      setStats({\n        totalProducts: products.length,\n        totalOrders: orders.length,\n        totalUsers: users.length,\n        totalRevenue,\n        lowStock,\n        pendingOrders,\n        paidOrders\n      });\n\n      // √öltimos 5 pedidos (ordenados por fecha)\n      const sortedOrders = orders.sort((a, b) => \n        new Date(b.createdAt) - new Date(a.createdAt)\n      );\n      setRecentOrders(sortedOrders.slice(0, 5));\n\n    } catch (error) {\n      console.error('‚ùå Error al cargar datos del dashboard:', error);\n      console.error('‚ùå Status:', error.response?.status);\n      console.error('‚ùå Data:', error.response?.data);\n      \n      if (error.response?.status === 401) {\n        setError('Tu sesi√≥n ha expirado. Por favor, inicia sesi√≥n nuevamente.');\n        // Limpiar token y redirigir\n        sessionStorage.removeItem('token');\n        localStorage.removeItem('token');\n        localStorage.removeItem('user');\n        setTimeout(() => navigate('/login'), 2000);\n      } else if (error.response?.status === 403) {\n        setError('No tienes permisos para ver el dashboard de administrador.');\n        setTimeout(() => navigate('/'), 2000);\n      } else {\n        setError('Error al cargar los datos. Por favor, intenta de nuevo.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('es-ES', {\n      style: 'currency',\n      currency: 'EUR'\n    }).format(price || 0);\n  };\n\n  const formatDate = (date) => {\n    if (!date) return 'N/A';\n    return new Date(date).toLocaleDateString('es-ES', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const getStatusBadge = (status) => {\n    const statusMap = {\n      pendiente: 'badge-warning',\n      procesando: 'badge-info',\n      enviado: 'badge-primary',\n      entregado: 'badge-success',\n      cancelado: 'badge-danger',\n      pagado: 'badge-success',\n      fallido: 'badge-danger'\n    };\n    return statusMap[status] || 'badge-secondary';\n  };\n\n  const getStatusLabel = (status) => {\n    const labels = {\n      pendiente: 'Pendiente',\n      procesando: 'Procesando',\n      enviado: 'Enviado',\n      entregado: 'Entregado',\n      cancelado: 'Cancelado',\n      pagado: 'Pagado',\n      fallido: 'Fallido'\n    };\n    return labels[status] || status;\n  };\n\n  // ‚úÖ CALCULAR PEDIDOS DE HOY\n  const getOrdersToday = () => {\n    const today = new Date().toDateString();\n    return recentOrders.filter(o => {\n      return new Date(o.createdAt).toDateString() === today;\n    }).length;\n  };\n\n  // ‚úÖ CALCULAR TASA DE PAGO\n  const getPaymentRate = () => {\n    if (stats.totalOrders === 0) return 0;\n    return Math.round((stats.paidOrders / stats.totalOrders) * 100);\n  };\n\n  // ‚úÖ CALCULAR TICKET PROMEDIO\n  const getAverageTicket = () => {\n    if (stats.paidOrders === 0) return 0;\n    return stats.totalRevenue / stats.paidOrders;\n  };\n\n  // Estado de carga\n  if (loading) {\n    return (\n      <div className=\"admin-dashboard\">\n        <div className=\"loading-container\">\n          <div className=\"spinner-large\"></div>\n          <p>Cargando dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Estado de error\n  if (error) {\n    return (\n      <div className=\"admin-dashboard\">\n        <div className=\"error-container\">\n          <div className=\"error-icon\">‚ö†Ô∏è</div>\n          <h3>Error al cargar el dashboard</h3>\n          <p>{error}</p>\n          \n          {/* ‚úÖ MOSTRAR INFO DE DEBUG SI ES PROBLEMA DE ROL */}\n          {error.includes('rol') && user && (\n            <div style={{\n              marginTop: '20px',\n              padding: '15px',\n              background: '#f8f9fa',\n              borderRadius: '8px',\n              textAlign: 'left'\n            }}>\n              <strong>üîç Informaci√≥n de Debug:</strong>\n              <pre style={{\n                marginTop: '10px',\n                padding: '10px',\n                background: '#fff',\n                borderRadius: '4px',\n                fontSize: '12px',\n                overflow: 'auto'\n              }}>\n{`Usuario: ${user.name || 'N/A'}\nEmail: ${user.email || 'N/A'}\nRol actual: ${user.role || 'sin rol'}\nID: ${user._id || user.id || 'N/A'}`}\n              </pre>\n              <p style={{marginTop: '10px', fontSize: '14px', color: '#666'}}>\n                ‚ÑπÔ∏è Para acceder al dashboard de administrador, tu cuenta debe tener <code>role: \"admin\"</code> en la base de datos.\n              </p>\n            </div>\n          )}\n          \n          <div className=\"error-actions\">\n            <button className=\"btn btn-primary\" onClick={loadDashboardData}>\n              <FaSync /> Reintentar\n            </button>\n            {error.includes('sesi√≥n') && (\n              <button className=\"btn btn-secondary\" onClick={() => navigate('/login')}>\n                Ir al Login\n              </button>\n            )}\n            {error.includes('rol') && (\n              <button className=\"btn btn-secondary\" onClick={() => navigate('/')}>\n                Volver a la tienda\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"admin-dashboard\">\n      <div className=\"dashboard-header\">\n        <div>\n          <h2>üìä Resumen General</h2>\n          {user && <p className=\"dashboard-subtitle\">Bienvenido, {user.name}</p>}\n        </div>\n        <button className=\"btn btn-secondary btn-refresh\" onClick={loadDashboardData}>\n          <FaSync /> Actualizar\n        </button>\n      </div>\n\n      {/* Tarjetas de estad√≠sticas */}\n      <div className=\"stats-grid\">\n        <div className=\"stat-card blue\">\n          <div className=\"stat-icon\">\n            <FaBox />\n          </div>\n          <div className=\"stat-content\">\n            <h3>Productos</h3>\n            <p className=\"stat-number\">{stats.totalProducts}</p>\n            {stats.lowStock > 0 ? (\n              <span className=\"stat-alert\">‚ö†Ô∏è {stats.lowStock} con stock bajo</span>\n            ) : (\n              <span className=\"stat-subtitle\">Stock saludable</span>\n            )}\n          </div>\n        </div>\n\n        <div className=\"stat-card green\">\n          <div className=\"stat-icon\">\n            <FaShoppingBag />\n          </div>\n          <div className=\"stat-content\">\n            <h3>Pedidos</h3>\n            <p className=\"stat-number\">{stats.totalOrders}</p>\n            {stats.pendingOrders > 0 ? (\n              <span className=\"stat-alert\">üì¶ {stats.pendingOrders} pendientes</span>\n            ) : (\n              <span className=\"stat-subtitle\">Todo procesado</span>\n            )}\n          </div>\n        </div>\n\n        <div className=\"stat-card purple\">\n          <div className=\"stat-icon\">\n            <FaUsers />\n          </div>\n          <div className=\"stat-content\">\n            <h3>Usuarios</h3>\n            <p className=\"stat-number\">{stats.totalUsers}</p>\n            <span className=\"stat-subtitle\">Registrados</span>\n          </div>\n        </div>\n\n        <div className=\"stat-card orange\">\n          <div className=\"stat-icon\">\n            <FaEuroSign />\n          </div>\n          <div className=\"stat-content\">\n            <h3>Ingresos</h3>\n            <p className=\"stat-number\">{formatPrice(stats.totalRevenue)}</p>\n            <span className=\"stat-subtitle\">Total facturado</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Alertas r√°pidas */}\n      {(stats.pendingOrders > 0 || stats.lowStock > 0) && (\n        <div className=\"alerts-section\">\n          <h3>‚ö° Alertas</h3>\n          <div className=\"alerts-grid\">\n            {stats.pendingOrders > 0 && (\n              <div className=\"alert-card warning\">\n                <span className=\"alert-icon\">üì¶</span>\n                <div className=\"alert-content\">\n                  <strong>Pedidos Pendientes</strong>\n                  <p>Tienes {stats.pendingOrders} pedido(s) pendiente(s) de procesar</p>\n                </div>\n              </div>\n            )}\n            {stats.lowStock > 0 && (\n              <div className=\"alert-card danger\">\n                <span className=\"alert-icon\">‚ö†Ô∏è</span>\n                <div className=\"alert-content\">\n                  <strong>Stock Bajo</strong>\n                  <p>{stats.lowStock} producto(s) con menos de 10 unidades</p>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Pedidos recientes */}\n      <div className=\"recent-orders\">\n        <h3>üìã Pedidos Recientes</h3>\n        {recentOrders.length > 0 ? (\n          <div className=\"table-responsive\">\n            <table className=\"admin-table\">\n              <thead>\n                <tr>\n                  <th>ID</th>\n                  <th>Cliente</th>\n                  <th>Tel√©fono</th>\n                  <th>Fecha</th>\n                  <th>Total</th>\n                  <th>Estado Pago</th>\n                  <th>Estado Pedido</th>\n                </tr>\n              </thead>\n              <tbody>\n                {recentOrders.map(order => (\n                  <tr key={order._id}>\n                    <td>\n                      <strong>#{order._id.slice(-6)}</strong>\n                    </td>\n                    <td>\n                      <div className=\"customer-info\">\n                        <strong>{order.user?.name || 'Usuario'}</strong>\n                        <small>{order.user?.email || ''}</small>\n                      </div>\n                    </td>\n                    <td>\n                      <span className=\"phone-text\">\n                        {order.phone || 'N/A'}\n                      </span>\n                    </td>\n                    <td>{formatDate(order.createdAt)}</td>\n                    <td><strong>{formatPrice(order.totalAmount)}</strong></td>\n                    <td>\n                      <span className={`badge ${getStatusBadge(order.paymentStatus)}`}>\n                        {getStatusLabel(order.paymentStatus)}\n                      </span>\n                    </td>\n                    <td>\n                      <span className={`badge ${getStatusBadge(order.orderStatus)}`}>\n                        {getStatusLabel(order.orderStatus)}\n                      </span>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        ) : (\n          <div className=\"no-data\">\n            <p>üì≠ No hay pedidos recientes</p>\n          </div>\n        )}\n      </div>\n\n      {/* Resumen r√°pido */}\n      <div className=\"quick-summary\">\n        <h3>üìà Resumen R√°pido</h3>\n        <div className=\"summary-grid\">\n          <div className=\"summary-item\">\n            <span className=\"summary-label\">Pedidos Hoy:</span>\n            <span className=\"summary-value\">{getOrdersToday()}</span>\n          </div>\n          <div className=\"summary-item\">\n            <span className=\"summary-label\">Tasa de Pago:</span>\n            <span className=\"summary-value\">{getPaymentRate()}%</span>\n          </div>\n          <div className=\"summary-item\">\n            <span className=\"summary-label\">Ticket Promedio:</span>\n            <span className=\"summary-value\">{formatPrice(getAverageTicket())}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminDashboard;"],"names":["AdminDashboard","navigate","useNavigate","user","isAuthenticated","useAuth","stats","setStats","useState","totalProducts","totalOrders","totalUsers","totalRevenue","lowStock","pendingOrders","paidOrders","recentOrders","setRecentOrders","loading","setLoading","error","setError","useEffect","console","log","JSON","stringify","role","sessionStorage","getItem","localStorage","timer","setTimeout","clearTimeout","concat","loadDashboardData","async","_productsRes$data","_ordersRes$data","_usersRes$data","API_URL","process","REACT_APP_API_URL","token","substring","config","headers","productsRes","ordersRes","usersRes","Promise","all","getProducts","catch","err","_err$response","response","status","message","data","axios","get","_err$response2","_err$response3","_err$response4","products","Array","isArray","orders","users","productos","length","pedidos","usuarios","filter","o","paymentStatus","reduce","sum","order","totalAmount","p","stock","orderStatus","sortedOrders","sort","a","b","Date","createdAt","slice","_error$response","_error$response2","_error$response3","_error$response4","removeItem","formatPrice","price","Intl","NumberFormat","style","currency","format","getStatusBadge","pendiente","procesando","enviado","entregado","cancelado","pagado","fallido","getStatusLabel","_jsx","className","children","_jsxs","includes","marginTop","padding","background","borderRadius","textAlign","fontSize","overflow","name","email","_id","id","color","onClick","FaSync","FaBox","FaShoppingBag","FaUsers","FaEuroSign","map","_order$user","_order$user2","date","phone","toLocaleDateString","year","month","day","hour","minute","getOrdersToday","today","toDateString","Math","round"],"sourceRoot":""}