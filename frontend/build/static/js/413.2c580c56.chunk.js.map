{"version":3,"file":"static/js/413.2c580c56.chunk.js","mappings":"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","sources":["pages/ProductDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { FaShoppingCart, FaMinus, FaPlus } from 'react-icons/fa';\nimport { useCart } from '../context/CartContext';\nimport { getProduct } from '../services/api';\nimport '../styles/ProductDetail.css';\n\nconst ProductDetail = () => {\n  const { slug } = useParams();\n  const navigate = useNavigate();\n  const { addToCart } = useCart();\n  const [product, setProduct] = useState(null);\n  const [quantity, setQuantity] = useState(1);\n  const [loading, setLoading] = useState(true);\n  const [selectedImage, setSelectedImage] = useState(0);\n\n  useEffect(() => {\n    loadProduct();\n  }, [slug]);\n\n  const loadProduct = async () => {\n    try {\n      setLoading(true);\n      const response = await getProduct(slug);\n      setProduct(response.data);\n    } catch (error) {\n      console.error('Error al cargar producto:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddToCart = () => {\n    addToCart(product, quantity);\n    alert('Producto añadido al carrito');\n  };\n\n  const handleBuyNow = () => {\n    addToCart(product, quantity);\n    navigate('/carrito');\n  };\n\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('es-ES', {\n      style: 'currency',\n      currency: 'EUR'\n    }).format(price);\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Cargando producto...</div>;\n  }\n\n  if (!product) {\n    return <div className=\"error\">Producto no encontrado</div>;\n  }\n\n  return (\n    <div className=\"product-detail\">\n      <div className=\"container\">\n        <div className=\"product-layout\">\n          {/* Galería de imágenes */}\n          <div className=\"product-gallery\">\n            <div className=\"main-image\">\n              <img \n                src={product.images[selectedImage] || 'https://via.placeholder.com/500'} \n                alt={product.name} \n              />\n              {product.isOffer && (\n                <span className=\"discount-badge\">-{product.discount}%</span>\n              )}\n            </div>\n            {product.images.length > 1 && (\n              <div className=\"thumbnail-list\">\n                {product.images.map((image, index) => (\n                  <img\n                    key={index}\n                    src={image}\n                    alt={`${product.name} ${index + 1}`}\n                    className={selectedImage === index ? 'active' : ''}\n                    onClick={() => setSelectedImage(index)}\n                  />\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Información del producto */}\n          <div className=\"product-info-detail\">\n            {product.brand && <p className=\"product-brand\">{product.brand}</p>}\n            <h1>{product.name}</h1>\n            \n            {product.category && (\n              <p className=\"product-category\">\n                Categoría: {product.category.name}\n              </p>\n            )}\n\n            <div className=\"product-price-detail\">\n              {product.originalPrice > 0 ? (\n                <>\n                  <span className=\"price-original\">{formatPrice(product.originalPrice)}</span>\n                  <span className=\"price-current\">{formatPrice(product.price)}</span>\n                  <span className=\"savings\">\n                    Ahorras {formatPrice(product.originalPrice - product.price)}\n                  </span>\n                </>\n              ) : (\n                <span className=\"price-current\">{formatPrice(product.price)}</span>\n              )}\n            </div>\n\n            <div className=\"product-stock-detail\">\n              {product.stock > 0 ? (\n                <span className=\"in-stock\">✓ En stock ({product.stock} disponibles)</span>\n              ) : (\n                <span className=\"out-stock\">✗ Agotado</span>\n              )}\n            </div>\n\n            <div className=\"product-description\">\n              <h3>Descripción</h3>\n              <p>{product.description}</p>\n            </div>\n\n            {product.specifications && product.specifications.size > 0 && (\n              <div className=\"product-specs\">\n                <h3>Especificaciones</h3>\n                <ul>\n                  {Array.from(product.specifications).map(([key, value]) => (\n                    <li key={key}>\n                      <strong>{key}:</strong> {value}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n\n            {product.stock > 0 && (\n              <div className=\"product-actions\">\n                <div className=\"quantity-selector\">\n                  <button \n                    onClick={() => setQuantity(Math.max(1, quantity - 1))}\n                    disabled={quantity <= 1}\n                  >\n                    <FaMinus />\n                  </button>\n                  <span>{quantity}</span>\n                  <button \n                    onClick={() => setQuantity(Math.min(product.stock, quantity + 1))}\n                    disabled={quantity >= product.stock}\n                  >\n                    <FaPlus />\n                  </button>\n                </div>\n\n                <button className=\"add-to-cart-btn\" onClick={handleAddToCart}>\n                  <FaShoppingCart />\n                  Añadir al carrito\n                </button>\n\n                <button className=\"buy-now-btn\" onClick={handleBuyNow}>\n                  Comprar ahora\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductDetail;\n"],"names":["ProductDetail","slug","useParams","navigate","useNavigate","addToCart","useCart","product","setProduct","useState","quantity","setQuantity","loading","setLoading","selectedImage","setSelectedImage","useEffect","loadProduct","async","response","getProduct","data","error","console","formatPrice","price","Intl","NumberFormat","style","currency","format","_jsx","className","children","_jsxs","src","images","alt","name","isOffer","discount","length","map","image","index","concat","onClick","brand","category","originalPrice","_Fragment","stock","description","specifications","size","Array","from","_ref","key","value","Math","max","disabled","FaMinus","min","FaPlus","handleAddToCart","alert","FaShoppingCart","handleBuyNow"],"sourceRoot":""}