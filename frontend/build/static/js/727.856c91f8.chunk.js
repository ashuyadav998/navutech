"use strict";(self.webpackChunksimshop_frontend=self.webpackChunksimshop_frontend||[]).push([[727],{727(e,a,t){t.r(a),t.d(a,{default:()=>n});var s=t(43),r=t(216),i=t(729),l=(t(492),t(579));const n=()=>{const e=(0,r.Zp)(),{sendPasswordResetCode:a,resetPassword:t}=(0,i.A)(),[n,o]=(0,s.useState)(1),[d,c]=(0,s.useState)(""),[u,h]=(0,s.useState)(""),[m,p]=(0,s.useState)(""),[v,x]=(0,s.useState)(""),[g,f]=(0,s.useState)(!1),[b,j]=(0,s.useState)(""),[y,C]=(0,s.useState)("");return(0,l.jsx)("div",{className:"auth-container",children:(0,l.jsxs)("div",{className:"auth-card",children:[(0,l.jsxs)("div",{className:"auth-header",children:[(0,l.jsx)("h2",{children:"\ud83d\udd12 Recuperar Contrase\xf1a"}),(0,l.jsx)("p",{children:1===n?"Ingresa tu email para recibir un c\xf3digo de verificaci\xf3n":"Ingresa el c\xf3digo que recibiste y tu nueva contrase\xf1a"})]}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginBottom:"20px"},children:[(0,l.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:n>=1?"#667eea":"#e0e0e0",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:"1"}),(0,l.jsx)("div",{style:{width:"40px",height:"2px",background:"#e0e0e0",alignSelf:"center"}}),(0,l.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:n>=2?"#667eea":"#e0e0e0",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:"2"})]}),b&&(0,l.jsxs)("div",{className:"alert alert-error",children:["\u26a0\ufe0f ",b]}),y&&(0,l.jsxs)("div",{className:"alert alert-success",children:["\u2705 ",y]}),1===n&&(0,l.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),j(""),C(""),d.trim()){f(!0);try{await a(d),C("C\xf3digo enviado a tu email. Revisa tu bandeja de entrada."),setTimeout(()=>{o(2),C("")},2e3)}catch(r){var t,s;j((null===(t=r.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"Error al enviar c\xf3digo")}finally{f(!1)}}else j("Por favor ingresa tu email")},className:"auth-form",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"\ud83d\udce7 Email"}),(0,l.jsx)("input",{type:"email",value:d,onChange:e=>c(e.target.value),placeholder:"tu@email.com",disabled:g,required:!0})]}),(0,l.jsx)("button",{type:"submit",className:"auth-button",disabled:g,children:g?"Enviando...":"Enviar C\xf3digo"}),(0,l.jsx)("div",{className:"auth-footer",children:(0,l.jsx)("button",{type:"button",onClick:()=>e("/login"),className:"link-button",children:"\u2190 Volver al login"})})]}),2===n&&(0,l.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),j(""),C(""),u.trim())if(m)if(m.length<6)j("La contrase\xf1a debe tener al menos 6 caracteres");else if(m===v){f(!0);try{await t(d,u,m),C("\xa1Contrase\xf1a actualizada correctamente!"),setTimeout(()=>{e("/login")},2e3)}catch(i){var s,r;j((null===(s=i.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message)||"Error al resetear contrase\xf1a")}finally{f(!1)}}else j("Las contrase\xf1as no coinciden");else j("Por favor ingresa una nueva contrase\xf1a");else j("Por favor ingresa el c\xf3digo de verificaci\xf3n")},className:"auth-form",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"\ud83d\udce7 Email"}),(0,l.jsx)("input",{type:"email",value:d,disabled:!0,style:{background:"#f5f5f5",cursor:"not-allowed"}})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"\ud83d\udd22 C\xf3digo de Verificaci\xf3n"}),(0,l.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),placeholder:"123456",maxLength:"6",disabled:g,required:!0,style:{fontSize:"20px",letterSpacing:"5px",textAlign:"center"}})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"\ud83d\udd12 Nueva Contrase\xf1a"}),(0,l.jsx)("input",{type:"password",value:m,onChange:e=>p(e.target.value),placeholder:"M\xednimo 6 caracteres",disabled:g,required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"\ud83d\udd12 Confirmar Contrase\xf1a"}),(0,l.jsx)("input",{type:"password",value:v,onChange:e=>x(e.target.value),placeholder:"Repite tu contrase\xf1a",disabled:g,required:!0})]}),(0,l.jsx)("button",{type:"submit",className:"auth-button",disabled:g,children:g?"Actualizando...":"Actualizar Contrase\xf1a"}),(0,l.jsx)("div",{className:"auth-footer",children:(0,l.jsx)("button",{type:"button",onClick:()=>o(1),className:"link-button",disabled:g,children:"\u2190 Volver a solicitar c\xf3digo"})})]})]})})}},492(){}}]);
//# sourceMappingURL=727.856c91f8.chunk.js.map