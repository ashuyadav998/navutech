{"version":3,"file":"static/js/119.07e683bb.chunk.js","mappings":"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","sources":["pages/admin/AdminCategories.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { FaEdit, FaTrash, FaPlus, FaTimes } from 'react-icons/fa';\nimport axios from 'axios';\nimport '../../styles/AdminCategories.css';\n\nconst AdminCategories = () => {\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showModal, setShowModal] = useState(false);\n  const [editingCategory, setEditingCategory] = useState(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    slug: '',\n    description: '',\n    image: '',\n    active: true\n  });\n\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const loadCategories = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.get(`${API_URL}/categories`);\n      setCategories(response.data);\n    } catch (error) {\n      console.error('Error al cargar categorías:', error);\n      alert('Error al cargar las categorías');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData({\n      ...formData,\n      [name]: type === 'checkbox' ? checked : value\n    });\n\n    // Auto-generar slug del nombre\n    if (name === 'name') {\n      const slug = value.toLowerCase()\n        .normalize('NFD')\n        .replace(/[\\u0300-\\u036f]/g, '')\n        .replace(/[^a-z0-9]+/g, '-')\n        .replace(/^-+|-+$/g, '');\n      setFormData(prev => ({ ...prev, slug }));\n    }\n  };\n\n  const openModal = (category = null) => {\n    if (category) {\n      setEditingCategory(category);\n      setFormData({\n        name: category.name,\n        slug: category.slug,\n        description: category.description || '',\n        image: category.image || '',\n        active: category.active\n      });\n    } else {\n      setEditingCategory(null);\n      setFormData({\n        name: '',\n        slug: '',\n        description: '',\n        image: '',\n        active: true\n      });\n    }\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    setEditingCategory(null);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    try {\n      if (editingCategory) {\n        await axios.put(`${API_URL}/categories/${editingCategory._id}`, formData);\n        alert('Categoría actualizada correctamente');\n      } else {\n        await axios.post(`${API_URL}/categories`, formData);\n        alert('Categoría creada correctamente');\n      }\n\n      closeModal();\n      loadCategories();\n    } catch (error) {\n      console.error('Error al guardar categoría:', error);\n      alert('Error al guardar la categoría: ' + (error.response?.data?.message || error.message));\n    }\n  };\n\n  const handleDelete = async (id) => {\n    if (window.confirm('¿Estás seguro de que quieres eliminar esta categoría? Esto podría afectar a los productos asociados.')) {\n      try {\n        await axios.delete(`${API_URL}/categories/${id}`);\n        alert('Categoría eliminada correctamente');\n        loadCategories();\n      } catch (error) {\n        console.error('Error al eliminar categoría:', error);\n        alert('Error al eliminar la categoría');\n      }\n    }\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Cargando categorías...</div>;\n  }\n\n  return (\n    <div className=\"admin-categories\">\n      <div className=\"page-header\">\n        <h2>Gestión de Categorías</h2>\n        <button className=\"btn btn-primary\" onClick={() => openModal()}>\n          <FaPlus /> Nueva Categoría\n        </button>\n      </div>\n\n      <div className=\"categories-grid\">\n        {categories.map(category => (\n          <div key={category._id} className=\"category-card-admin\">\n            <div className=\"category-image\">\n              {category.image ? (\n                <img src={category.image} alt={category.name} />\n              ) : (\n                <div className=\"category-placeholder\">{category.name.charAt(0)}</div>\n              )}\n            </div>\n\n            <div className=\"category-info\">\n              <h3>{category.name}</h3>\n              <p className=\"category-slug\">{category.slug}</p>\n              {category.description && (\n                <p className=\"category-description\">{category.description}</p>\n              )}\n              <span className={`status-badge ${category.active ? 'active' : 'inactive'}`}>\n                {category.active ? 'Activa' : 'Inactiva'}\n              </span>\n            </div>\n\n            <div className=\"category-actions\">\n              <button \n                className=\"btn-icon btn-edit\"\n                onClick={() => openModal(category)}\n                title=\"Editar\"\n              >\n                <FaEdit />\n              </button>\n              <button \n                className=\"btn-icon btn-delete\"\n                onClick={() => handleDelete(category._id)}\n                title=\"Eliminar\"\n              >\n                <FaTrash />\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {categories.length === 0 && (\n        <div className=\"no-data\">No hay categorías registradas</div>\n      )}\n\n      {/* Modal de categoría */}\n      {showModal && (\n        <div className=\"modal-overlay\" onClick={closeModal}>\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h3>{editingCategory ? 'Editar Categoría' : 'Nueva Categoría'}</h3>\n              <button className=\"modal-close\" onClick={closeModal}>\n                <FaTimes />\n              </button>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"category-form\">\n              <div className=\"form-group\">\n                <label>Nombre *</label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  value={formData.name}\n                  onChange={handleInputChange}\n                  required\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Slug *</label>\n                <input\n                  type=\"text\"\n                  name=\"slug\"\n                  value={formData.slug}\n                  onChange={handleInputChange}\n                  required\n                />\n                <small>URL amigable (generado automáticamente)</small>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Descripción</label>\n                <textarea\n                  name=\"description\"\n                  value={formData.description}\n                  onChange={handleInputChange}\n                  rows=\"3\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Imagen (URL)</label>\n                <input\n                  type=\"url\"\n                  name=\"image\"\n                  value={formData.image}\n                  onChange={handleInputChange}\n                  placeholder=\"https://ejemplo.com/imagen.jpg\"\n                />\n              </div>\n\n              <div className=\"form-checkboxes\">\n                <label className=\"checkbox-label\">\n                  <input\n                    type=\"checkbox\"\n                    name=\"active\"\n                    checked={formData.active}\n                    onChange={handleInputChange}\n                  />\n                  <span>Categoría activa</span>\n                </label>\n              </div>\n\n              <div className=\"form-actions\">\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={closeModal}>\n                  Cancelar\n                </button>\n                <button type=\"submit\" className=\"btn btn-primary\">\n                  {editingCategory ? 'Actualizar' : 'Crear'} Categoría\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AdminCategories;\n"],"names":["AdminCategories","categories","setCategories","useState","loading","setLoading","showModal","setShowModal","editingCategory","setEditingCategory","formData","setFormData","name","slug","description","image","active","API_URL","process","REACT_APP_API_URL","useEffect","loadCategories","async","response","axios","get","concat","data","error","console","alert","handleInputChange","e","value","type","checked","target","_objectSpread","toLowerCase","normalize","replace","prev","openModal","category","arguments","length","undefined","closeModal","_jsx","className","children","_jsxs","onClick","FaPlus","map","src","alt","charAt","title","FaEdit","window","confirm","delete","id","handleDelete","_id","FaTrash","stopPropagation","FaTimes","onSubmit","preventDefault","put","post","_error$response","_error$response$data","message","onChange","required","rows","placeholder"],"sourceRoot":""}