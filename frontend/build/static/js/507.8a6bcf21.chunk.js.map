{"version":3,"file":"static/js/507.8a6bcf21.chunk.js","mappings":"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","sources":["components/profile/OrdersTab.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { \r\n  FaBox, FaTruck, FaExternalLinkAlt, FaMapMarkerAlt, \r\n  FaClock, FaCheckCircle, FaShippingFast \r\n} from 'react-icons/fa';\r\nimport '../../styles/Profile.css';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nconst OrdersTab = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [expandedTracking, setExpandedTracking] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const loadOrders = async () => {\r\n      try {\r\n        const token = sessionStorage.getItem('token');\r\n        if (!token) {\r\n          setError('No est√°s autenticado. Por favor, inicia sesi√≥n.');\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        const response = await axios.get(`${API_URL}/orders/my-orders`, {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        setOrders(response.data);\r\n      } catch (error) {\r\n        if (error.response?.status === 401) {\r\n          setError('Tu sesi√≥n ha expirado. Por favor, vuelve a iniciar sesi√≥n.');\r\n        } else {\r\n          setError('Error al cargar tus pedidos. Intenta recargar la p√°gina.');\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    loadOrders();\r\n  }, []);\r\n\r\n  const fetchTrackingDetails = async (trackingNumber) => {\r\n    try {\r\n      const token = sessionStorage.getItem('token');\r\n      const response = await axios.get(`${API_URL}/tracking/${trackingNumber}`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error obteniendo tracking:', error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const toggleTrackingDetails = async (orderId, trackingNumber) => {\r\n    if (expandedTracking === orderId) {\r\n      setExpandedTracking(null);\r\n    } else {\r\n      setExpandedTracking(orderId);\r\n      const order = orders.find(o => o._id === orderId);\r\n      if (order.tracking && !order.tracking.events) {\r\n        const trackingDetails = await fetchTrackingDetails(trackingNumber);\r\n        if (trackingDetails) {\r\n          setOrders(prev => prev.map(o =>\r\n            o._id === orderId\r\n              ? { ...o, tracking: { ...o.tracking, ...trackingDetails } }\r\n              : o\r\n          ));\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status) => {\r\n    const icons = {\r\n      en_preparacion: 'üì¶', enviado: 'üöö', en_transito: '‚úàÔ∏è',\r\n      en_reparto: 'üö¥', entregado: '‚úÖ', pendiente: '‚è≥'\r\n    };\r\n    return icons[status] || 'üìã';\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    const colors = {\r\n      en_preparacion: '#f39c12', enviado: '#3498db', en_transito: '#9b59b6',\r\n      en_reparto: '#e67e22', entregado: '#27ae60', pendiente: '#95a5a6'\r\n    };\r\n    return colors[status] || '#95a5a6';\r\n  };\r\n\r\n  const formatPrice = (price) =>\r\n    new Intl.NumberFormat('es-ES', { style: 'currency', currency: 'EUR' }).format(price);\r\n\r\n  if (loading) return <div className=\"tab-loading\">Cargando tus pedidos...</div>;\r\n\r\n  if (error) return (\r\n    <div className=\"empty-state\">\r\n      <FaBox size={48} />\r\n      <h3>Error</h3>\r\n      <p>{error}</p>\r\n    </div>\r\n  );\r\n\r\n  if (orders.length === 0) return (\r\n    <div className=\"empty-state\">\r\n      <FaBox size={48} />\r\n      <h3>A√∫n no tienes pedidos</h3>\r\n      <p>Cuando realices tu primera compra, aparecer√° aqu√≠.</p>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"orders-tab\">\r\n      <h2>Historial de Pedidos</h2>\r\n      <div className=\"orders-list\">\r\n        {orders.map(order => (\r\n          <div key={order._id} className=\"order-card\">\r\n            <div className=\"order-header\">\r\n              <div className=\"order-meta\">\r\n                <span className=\"order-id\">#{order._id.slice(-8).toUpperCase()}</span>\r\n                <span className=\"order-date\">\r\n                  {new Date(order.createdAt).toLocaleDateString('es-ES', {\r\n                    year: 'numeric', month: 'long', day: 'numeric'\r\n                  })}\r\n                </span>\r\n              </div>\r\n              <span className={`status-badge ${order.orderStatus}`}>\r\n                {order.orderStatus.charAt(0).toUpperCase() + order.orderStatus.slice(1)}\r\n              </span>\r\n            </div>\r\n\r\n            {/* ‚úÖ SECCI√ìN DE TRACKING ‚Äî muestra n√∫mero, transportista y URL */}\r\n            {order.tracking ? (\r\n              <div className=\"tracking-section\">\r\n                <div className=\"tracking-summary\">\r\n                  <div className=\"tracking-info\">\r\n                    <div className=\"tracking-header-row\">\r\n                      <FaTruck className=\"tracking-icon\" />\r\n                      <div className=\"tracking-details\">\r\n                        <h4>Seguimiento de Env√≠o</h4>\r\n\r\n                        {/* N√∫mero de tracking */}\r\n                        <p className=\"tracking-number\">\r\n                          <strong>N¬∫ Seguimiento:</strong> {order.tracking.trackingNumber || '‚Äî'}\r\n                        </p>\r\n\r\n                        {/* Transportista */}\r\n                        {order.tracking.carrier && (\r\n                          <p className=\"carrier-name\">\r\n                            <FaShippingFast size={14} /> {order.tracking.carrier}\r\n                          </p>\r\n                        )}\r\n\r\n                        {/* URL de tracking externo */}\r\n                        {order.tracking.trackingUrl && (\r\n                          <a\r\n                            href={order.tracking.trackingUrl}\r\n                            target=\"_blank\"\r\n                            rel=\"noopener noreferrer\"\r\n                            className=\"btn-external-tracking\"\r\n                            style={{ display: 'inline-flex', alignItems: 'center', gap: '5px', marginTop: '6px' }}\r\n                          >\r\n                            <FaExternalLinkAlt size={12} /> Rastrear en web oficial\r\n                          </a>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Estado actual */}\r\n                    <div className=\"current-status\" style={{ marginTop: '10px' }}>\r\n                      <span\r\n                        className=\"status-pill\"\r\n                        style={{ backgroundColor: getStatusColor(order.tracking.currentStatus) }}\r\n                      >\r\n                        {getStatusIcon(order.tracking.currentStatus)}{' '}\r\n                        {order.tracking.currentStatus?.replace(/_/g, ' ').toUpperCase() || 'PENDIENTE'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Bot√≥n expandir historial */}\r\n                  <div className=\"tracking-actions\">\r\n                    <button\r\n                      className=\"btn-tracking-details\"\r\n                      onClick={() => toggleTrackingDetails(order._id, order.tracking.trackingNumber)}\r\n                    >\r\n                      {expandedTracking === order._id ? '‚ñ≤ Ocultar Detalles' : '‚ñº Ver Detalles'}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Timeline expandible */}\r\n                {expandedTracking === order._id && (\r\n                  <div className=\"tracking-timeline\">\r\n                    <h5>üìç Historial de Seguimiento</h5>\r\n\r\n                    {order.tracking.events && order.tracking.events.length > 0 ? (\r\n                      <div className=\"timeline\">\r\n                        {order.tracking.events.map((event, index) => (\r\n                          <div key={index} className=\"timeline-item\">\r\n                            <div\r\n                              className=\"timeline-marker\"\r\n                              style={{\r\n                                backgroundColor: index === order.tracking.events.length - 1\r\n                                  ? getStatusColor(event.status)\r\n                                  : '#ddd'\r\n                              }}\r\n                            >\r\n                              {index === order.tracking.events.length - 1 && '‚óè'}\r\n                            </div>\r\n                            <div className=\"timeline-content\">\r\n                              <div className=\"event-header\">\r\n                                <span className=\"event-status\">\r\n                                  {getStatusIcon(event.status)} {event.status?.replace(/_/g, ' ').toUpperCase()}\r\n                                </span>\r\n                                <span className=\"event-time\">\r\n                                  <FaClock size={12} /> {new Date(event.timestamp).toLocaleString('es-ES')}\r\n                                </span>\r\n                              </div>\r\n                              <p className=\"event-description\">{event.description}</p>\r\n                              {event.location && (\r\n                                <p className=\"event-location\">\r\n                                  <FaMapMarkerAlt size={12} /> {event.location}\r\n                                </p>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"no-events\">\r\n                        <p>üì¶ A√∫n no hay eventos de seguimiento disponibles</p>\r\n                      </div>\r\n                    )}\r\n\r\n                    {order.tracking.estimatedDelivery && (\r\n                      <div className=\"delivery-estimate\">\r\n                        <FaCheckCircle />\r\n                        <span>\r\n                          Entrega estimada: {new Date(order.tracking.estimatedDelivery).toLocaleDateString('es-ES')}\r\n                        </span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              // Sin tracking a√∫n\r\n              <div className=\"tracking-section\" style={{ padding: '12px 16px', color: '#999', fontSize: '0.9rem' }}>\r\n                <FaBox style={{ marginRight: '8px' }} />\r\n                Pedido en preparaci√≥n ‚Äî el seguimiento aparecer√° aqu√≠ cuando se genere la etiqueta.\r\n              </div>\r\n            )}\r\n\r\n            {/* Productos */}\r\n            <div className=\"order-items\">\r\n              {order.items && order.items.length > 0 ? (\r\n                order.items.map((item, i) => (\r\n                  <div key={i} className=\"order-item\">\r\n                    <img\r\n                      src={item.product?.images?.[0] || 'https://via.placeholder.com/50'}\r\n                      alt={item.product?.name || 'Producto'}\r\n                    />\r\n                    <div className=\"item-details\">\r\n                      <p>{item.product?.name || 'Producto'}</p>\r\n                      <small>Cantidad: {item.quantity}</small>\r\n                    </div>\r\n                    <span className=\"item-price\">\r\n                      {formatPrice(item.price * item.quantity)}\r\n                    </span>\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <p style={{ padding: '10px', color: '#999', fontSize: '0.9rem' }}>Sin productos</p>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"order-footer\">\r\n              <div className=\"order-payment-info\">\r\n                <span className={`payment-badge ${order.paymentStatus}`}>\r\n                  {order.paymentStatus === 'pagado' ? '‚úì Pagado' : 'Pendiente de pago'}\r\n                </span>\r\n              </div>\r\n              <span className=\"order-total\">\r\n                Total: <strong>{formatPrice(order.totalAmount)}</strong>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrdersTab;"],"names":["API_URL","process","REACT_APP_API_URL","OrdersTab","orders","setOrders","useState","loading","setLoading","error","setError","expandedTracking","setExpandedTracking","useEffect","async","token","sessionStorage","getItem","response","axios","get","concat","headers","Authorization","data","_error$response","status","loadOrders","toggleTrackingDetails","orderId","trackingNumber","order","find","o","_id","tracking","events","trackingDetails","console","fetchTrackingDetails","prev","map","_objectSpread","getStatusIcon","en_preparacion","enviado","en_transito","en_reparto","entregado","pendiente","getStatusColor","formatPrice","price","Intl","NumberFormat","style","currency","format","_jsx","className","children","_jsxs","FaBox","size","length","_order$tracking$curre","slice","toUpperCase","Date","createdAt","toLocaleDateString","year","month","day","orderStatus","charAt","FaTruck","carrier","FaShippingFast","trackingUrl","href","target","rel","display","alignItems","gap","marginTop","FaExternalLinkAlt","backgroundColor","currentStatus","replace","onClick","event","index","_event$status","FaClock","timestamp","toLocaleString","description","location","FaMapMarkerAlt","estimatedDelivery","FaCheckCircle","padding","color","fontSize","marginRight","items","item","i","_item$product","_item$product$images","_item$product2","_item$product3","src","product","images","alt","name","quantity","paymentStatus","totalAmount"],"sourceRoot":""}