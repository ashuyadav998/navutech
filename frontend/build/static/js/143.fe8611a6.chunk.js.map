{"version":3,"file":"static/js/143.fe8611a6.chunk.js","mappings":"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","sources":["pages/admin/AdminProducts.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { FaEdit, FaTrash, FaPlus, FaTimes } from 'react-icons/fa';\nimport { getProducts, getCategories, createProduct, updateProduct, deleteProduct } from '../../services/api';\nimport '../../styles/AdminProducts.css';\n\nconst AdminProducts = () => {\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showModal, setShowModal] = useState(false);\n  const [editingProduct, setEditingProduct] = useState(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    slug: '',\n    description: '',\n    price: '',\n    originalPrice: '',\n    discount: 0,\n    category: '',\n    images: [''],\n    stock: '',\n    sku: '',\n    brand: '',\n    isOffer: false,\n    isFeatured: false,\n    active: true\n  });\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      const [productsRes, categoriesRes] = await Promise.all([\n        getProducts({}),\n        getCategories()\n      ]);\n      setProducts(productsRes.data);\n      setCategories(categoriesRes.data);\n    } catch (error) {\n      console.error('Error al cargar datos:', error);\n      alert('Error al cargar los datos');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData({\n      ...formData,\n      [name]: type === 'checkbox' ? checked : value\n    });\n\n    // Auto-generar slug del nombre\n    if (name === 'name') {\n      const slug = value.toLowerCase()\n        .normalize('NFD')\n        .replace(/[\\u0300-\\u036f]/g, '')\n        .replace(/[^a-z0-9]+/g, '-')\n        .replace(/^-+|-+$/g, '');\n      setFormData(prev => ({ ...prev, slug }));\n    }\n  };\n\n  const handleImageChange = (index, value) => {\n    const newImages = [...formData.images];\n    newImages[index] = value;\n    setFormData({ ...formData, images: newImages });\n  };\n\n  const addImageField = () => {\n    setFormData({ ...formData, images: [...formData.images, ''] });\n  };\n\n  const removeImageField = (index) => {\n    const newImages = formData.images.filter((_, i) => i !== index);\n    setFormData({ ...formData, images: newImages });\n  };\n\n  const openModal = (product = null) => {\n    if (product) {\n      setEditingProduct(product);\n      setFormData({\n        name: product.name,\n        slug: product.slug,\n        description: product.description,\n        price: product.price,\n        originalPrice: product.originalPrice || '',\n        discount: product.discount || 0,\n        category: product.category._id || product.category,\n        images: product.images.length > 0 ? product.images : [''],\n        stock: product.stock,\n        sku: product.sku || '',\n        brand: product.brand || '',\n        isOffer: product.isOffer,\n        isFeatured: product.isFeatured,\n        active: product.active\n      });\n    } else {\n      setEditingProduct(null);\n      setFormData({\n        name: '',\n        slug: '',\n        description: '',\n        price: '',\n        originalPrice: '',\n        discount: 0,\n        category: '',\n        images: [''],\n        stock: '',\n        sku: '',\n        brand: '',\n        isOffer: false,\n        isFeatured: false,\n        active: true\n      });\n    }\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    setEditingProduct(null);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    try {\n      const productData = {\n        ...formData,\n        price: parseFloat(formData.price),\n        originalPrice: formData.originalPrice ? parseFloat(formData.originalPrice) : 0,\n        discount: parseFloat(formData.discount),\n        stock: parseInt(formData.stock),\n        images: formData.images.filter(img => img.trim() !== '')\n      };\n\n      if (editingProduct) {\n        await updateProduct(editingProduct._id, productData);\n        alert('Producto actualizado correctamente');\n      } else {\n        await createProduct(productData);\n        alert('Producto creado correctamente');\n      }\n\n      closeModal();\n      loadData();\n    } catch (error) {\n      console.error('Error al guardar producto:', error);\n      alert('Error al guardar el producto: ' + (error.response?.data?.message || error.message));\n    }\n  };\n\n  const handleDelete = async (id) => {\n    if (window.confirm('¿Estás seguro de que quieres eliminar este producto?')) {\n      try {\n        await deleteProduct(id);\n        alert('Producto eliminado correctamente');\n        loadData();\n      } catch (error) {\n        console.error('Error al eliminar producto:', error);\n        alert('Error al eliminar el producto');\n      }\n    }\n  };\n\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('es-ES', {\n      style: 'currency',\n      currency: 'EUR'\n    }).format(price);\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Cargando productos...</div>;\n  }\n\n  return (\n    <div className=\"admin-products\">\n      <div className=\"page-header\">\n        <h2>Gestión de Productos</h2>\n        <button className=\"btn btn-primary\" onClick={() => openModal()}>\n          <FaPlus /> Nuevo Producto\n        </button>\n      </div>\n\n      <div className=\"table-responsive\">\n        <table className=\"admin-table\">\n          <thead>\n            <tr>\n              <th>Imagen</th>\n              <th>Nombre</th>\n              <th>Categoría</th>\n              <th>Precio</th>\n              <th>Stock</th>\n              <th>Estado</th>\n              <th>Acciones</th>\n            </tr>\n          </thead>\n          <tbody>\n            {products.map(product => (\n              <tr key={product._id}>\n                <td>\n                  <img \n                    src={product.images[0] || 'https://via.placeholder.com/50'} \n                    alt={product.name}\n                    className=\"product-thumbnail\"\n                  />\n                </td>\n                <td>\n                  <div className=\"product-name-cell\">\n                    <strong>{product.name}</strong>\n                    {product.brand && <span className=\"brand-tag\">{product.brand}</span>}\n                  </div>\n                </td>\n                <td>{product.category?.name || 'Sin categoría'}</td>\n                <td>\n                  <div className=\"price-cell\">\n                    {formatPrice(product.price)}\n                    {product.isOffer && (\n                      <span className=\"offer-badge\">-{product.discount}%</span>\n                    )}\n                  </div>\n                </td>\n                <td>\n                  <span className={`stock-badge ${product.stock < 10 ? 'low' : product.stock === 0 ? 'out' : ''}`}>\n                    {product.stock}\n                  </span>\n                </td>\n                <td>\n                  <span className={`status-badge ${product.active ? 'active' : 'inactive'}`}>\n                    {product.active ? 'Activo' : 'Inactivo'}\n                  </span>\n                </td>\n                <td>\n                  <div className=\"action-buttons\">\n                    <button \n                      className=\"btn-icon btn-edit\"\n                      onClick={() => openModal(product)}\n                      title=\"Editar\"\n                    >\n                      <FaEdit />\n                    </button>\n                    <button \n                      className=\"btn-icon btn-delete\"\n                      onClick={() => handleDelete(product._id)}\n                      title=\"Eliminar\"\n                    >\n                      <FaTrash />\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n\n        {products.length === 0 && (\n          <div className=\"no-data\">No hay productos registrados</div>\n        )}\n      </div>\n\n      {/* Modal de producto */}\n      {showModal && (\n        <div className=\"modal-overlay\" onClick={closeModal}>\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n            <div className=\"modal-header\">\n              <h3>{editingProduct ? 'Editar Producto' : 'Nuevo Producto'}</h3>\n              <button className=\"modal-close\" onClick={closeModal}>\n                <FaTimes />\n              </button>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"product-form\">\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>Nombre *</label>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    value={formData.name}\n                    onChange={handleInputChange}\n                    required\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Slug</label>\n                  <input\n                    type=\"text\"\n                    name=\"slug\"\n                    value={formData.slug}\n                    onChange={handleInputChange}\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Descripción *</label>\n                <textarea\n                  name=\"description\"\n                  value={formData.description}\n                  onChange={handleInputChange}\n                  rows=\"3\"\n                  required\n                />\n              </div>\n\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>Precio *</label>\n                  <input\n                    type=\"number\"\n                    name=\"price\"\n                    value={formData.price}\n                    onChange={handleInputChange}\n                    step=\"0.01\"\n                    required\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Precio Original</label>\n                  <input\n                    type=\"number\"\n                    name=\"originalPrice\"\n                    value={formData.originalPrice}\n                    onChange={handleInputChange}\n                    step=\"0.01\"\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Descuento (%)</label>\n                  <input\n                    type=\"number\"\n                    name=\"discount\"\n                    value={formData.discount}\n                    onChange={handleInputChange}\n                    min=\"0\"\n                    max=\"100\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>Categoría *</label>\n                  <select\n                    name=\"category\"\n                    value={formData.category}\n                    onChange={handleInputChange}\n                    required\n                  >\n                    <option value=\"\">Seleccionar categoría</option>\n                    {categories.map(cat => (\n                      <option key={cat._id} value={cat._id}>\n                        {cat.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Stock *</label>\n                  <input\n                    type=\"number\"\n                    name=\"stock\"\n                    value={formData.stock}\n                    onChange={handleInputChange}\n                    min=\"0\"\n                    required\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-row\">\n                <div className=\"form-group\">\n                  <label>SKU</label>\n                  <input\n                    type=\"text\"\n                    name=\"sku\"\n                    value={formData.sku}\n                    onChange={handleInputChange}\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Marca</label>\n                  <input\n                    type=\"text\"\n                    name=\"brand\"\n                    value={formData.brand}\n                    onChange={handleInputChange}\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <label>Imágenes (URLs)</label>\n                {formData.images.map((image, index) => (\n                  <div key={index} className=\"image-input-row\">\n                    <input\n                      type=\"url\"\n                      value={image}\n                      onChange={(e) => handleImageChange(index, e.target.value)}\n                      placeholder=\"https://ejemplo.com/imagen.jpg\"\n                    />\n                    {formData.images.length > 1 && (\n                      <button\n                        type=\"button\"\n                        className=\"btn-remove-image\"\n                        onClick={() => removeImageField(index)}\n                      >\n                        <FaTimes />\n                      </button>\n                    )}\n                  </div>\n                ))}\n                <button\n                  type=\"button\"\n                  className=\"btn btn-secondary btn-small\"\n                  onClick={addImageField}\n                >\n                  + Añadir imagen\n                </button>\n              </div>\n\n              <div className=\"form-checkboxes\">\n                <label className=\"checkbox-label\">\n                  <input\n                    type=\"checkbox\"\n                    name=\"isOffer\"\n                    checked={formData.isOffer}\n                    onChange={handleInputChange}\n                  />\n                  <span>Es oferta</span>\n                </label>\n\n                <label className=\"checkbox-label\">\n                  <input\n                    type=\"checkbox\"\n                    name=\"isFeatured\"\n                    checked={formData.isFeatured}\n                    onChange={handleInputChange}\n                  />\n                  <span>Producto destacado</span>\n                </label>\n\n                <label className=\"checkbox-label\">\n                  <input\n                    type=\"checkbox\"\n                    name=\"active\"\n                    checked={formData.active}\n                    onChange={handleInputChange}\n                  />\n                  <span>Activo</span>\n                </label>\n              </div>\n\n              <div className=\"form-actions\">\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={closeModal}>\n                  Cancelar\n                </button>\n                <button type=\"submit\" className=\"btn btn-primary\">\n                  {editingProduct ? 'Actualizar' : 'Crear'} Producto\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AdminProducts;\n"],"names":["AdminProducts","products","setProducts","useState","categories","setCategories","loading","setLoading","showModal","setShowModal","editingProduct","setEditingProduct","formData","setFormData","name","slug","description","price","originalPrice","discount","category","images","stock","sku","brand","isOffer","isFeatured","active","useEffect","loadData","async","productsRes","categoriesRes","Promise","all","getProducts","getCategories","data","error","console","alert","handleInputChange","e","value","type","checked","target","_objectSpread","toLowerCase","normalize","replace","prev","openModal","product","arguments","length","undefined","_id","closeModal","_jsx","className","children","_jsxs","onClick","FaPlus","map","_product$category","src","alt","Intl","NumberFormat","style","currency","format","concat","title","FaEdit","window","confirm","deleteProduct","id","handleDelete","FaTrash","stopPropagation","FaTimes","onSubmit","preventDefault","productData","parseFloat","parseInt","filter","img","trim","updateProduct","createProduct","_error$response","_error$response$data","response","message","onChange","required","rows","step","min","max","cat","image","index","handleImageChange","newImages","placeholder","_","i","removeImageField","addImageField"],"sourceRoot":""}