{"version":3,"file":"static/js/546.f90ae794.chunk.js","mappings":"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","sources":["pages/admin/AdminUsers.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { FaUserShield, FaUser } from 'react-icons/fa';\nimport axios from 'axios';\nimport '../../styles/AdminUsers.css';\n\nconst AdminUsers = () => {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n  useEffect(() => {\n    loadUsers();\n  }, []);\n\n  const loadUsers = async () => {\n    try {\n      setLoading(true);\n      // Nota: Necesitarás crear este endpoint en el backend\n      const response = await axios.get(`${API_URL}/users`).catch(() => ({ data: [] }));\n      setUsers(response.data);\n    } catch (error) {\n      console.error('Error al cargar usuarios:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatDate = (date) => {\n    return new Date(date).toLocaleDateString('es-ES', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric'\n    });\n  };\n\n  const toggleUserRole = async (userId, currentRole) => {\n    const newRole = currentRole === 'admin' ? 'user' : 'admin';\n    \n    if (window.confirm(`¿Cambiar rol de usuario a ${newRole}?`)) {\n      try {\n        await axios.put(`${API_URL}/users/${userId}`, { role: newRole });\n        alert('Rol actualizado correctamente');\n        loadUsers();\n      } catch (error) {\n        console.error('Error al actualizar rol:', error);\n        alert('Error al actualizar el rol');\n      }\n    }\n  };\n\n  const toggleUserStatus = async (userId, currentStatus) => {\n    const newStatus = !currentStatus;\n    \n    if (window.confirm(`¿${newStatus ? 'Activar' : 'Desactivar'} este usuario?`)) {\n      try {\n        await axios.put(`${API_URL}/users/${userId}`, { active: newStatus });\n        alert('Estado actualizado correctamente');\n        loadUsers();\n      } catch (error) {\n        console.error('Error al actualizar estado:', error);\n        alert('Error al actualizar el estado');\n      }\n    }\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Cargando usuarios...</div>;\n  }\n\n  return (\n    <div className=\"admin-users\">\n      <div className=\"page-header\">\n        <h2>Gestión de Usuarios</h2>\n        <div className=\"users-stats\">\n          <span className=\"stat-item\">\n            Total: <strong>{users.length}</strong>\n          </span>\n          <span className=\"stat-item\">\n            Admins: <strong>{users.filter(u => u.role === 'admin').length}</strong>\n          </span>\n          <span className=\"stat-item\">\n            Usuarios: <strong>{users.filter(u => u.role === 'user').length}</strong>\n          </span>\n        </div>\n      </div>\n\n      <div className=\"table-responsive\">\n        <table className=\"admin-table\">\n          <thead>\n            <tr>\n              <th>Usuario</th>\n              <th>Email</th>\n              <th>Teléfono</th>\n              <th>Rol</th>\n              <th>Estado</th>\n              <th>Registro</th>\n              <th>Acciones</th>\n            </tr>\n          </thead>\n          <tbody>\n            {users.map(user => (\n              <tr key={user._id}>\n                <td>\n                  <div className=\"user-cell\">\n                    {user.role === 'admin' ? <FaUserShield /> : <FaUser />}\n                    <strong>{user.name}</strong>\n                  </div>\n                </td>\n                <td>{user.email}</td>\n                <td>{user.phone || '-'}</td>\n                <td>\n                  <span className={`badge ${user.role === 'admin' ? 'badge-primary' : 'badge-secondary'}`}>\n                    {user.role}\n                  </span>\n                </td>\n                <td>\n                  <span className={`status-badge ${user.active ? 'active' : 'inactive'}`}>\n                    {user.active ? 'Activo' : 'Inactivo'}\n                  </span>\n                </td>\n                <td>{formatDate(user.createdAt)}</td>\n                <td>\n                  <div className=\"action-buttons\">\n                    <button \n                      className=\"btn btn-small btn-secondary\"\n                      onClick={() => toggleUserRole(user._id, user.role)}\n                    >\n                      Cambiar rol\n                    </button>\n                    <button \n                      className={`btn btn-small ${user.active ? 'btn-danger' : 'btn-success'}`}\n                      onClick={() => toggleUserStatus(user._id, user.active)}\n                    >\n                      {user.active ? 'Desactivar' : 'Activar'}\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n\n        {users.length === 0 && (\n          <div className=\"no-data\">No hay usuarios registrados</div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AdminUsers;\n"],"names":["AdminUsers","users","setUsers","useState","loading","setLoading","API_URL","process","REACT_APP_API_URL","useEffect","loadUsers","async","response","axios","get","concat","catch","data","error","console","_jsx","className","children","_jsxs","length","filter","u","role","map","user","FaUserShield","FaUser","name","email","phone","active","date","createdAt","Date","toLocaleDateString","year","month","day","onClick","userId","currentRole","newRole","window","confirm","put","alert","toggleUserRole","_id","currentStatus","newStatus","toggleUserStatus"],"sourceRoot":""}